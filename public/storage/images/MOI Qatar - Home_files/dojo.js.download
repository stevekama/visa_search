/*
	Copyright (c) 2004-2013, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

(function(){var _1=null;if((_1||(typeof djConfig!="undefined"&&djConfig.scopeMap))&&(typeof window!="undefined")){var _2="",_3="",_4="",_5={},_6={};_1=_1||djConfig.scopeMap;for(var i=0;i<_1.length;i++){var _7=_1[i];_2+="var "+_7[0]+" = {}; "+_7[1]+" = "+_7[0]+";"+_7[1]+"._scopeName = '"+_7[1]+"';";_3+=(i==0?"":",")+_7[0];_4+=(i==0?"":",")+_7[1];_5[_7[0]]=_7[1];_6[_7[1]]=_7[0];}eval(_2+"dojo._scopeArgs = ["+_4+"];");dojo._scopePrefixArgs=_3;dojo._scopePrefix="(function("+_3+"){";dojo._scopeSuffix="})("+_4+")";dojo._scopeMap=_5;dojo._scopeMapRev=_6;}(function(){if(typeof this["loadFirebugConsole"]=="function"){this["loadFirebugConsole"]();}else{this.console=this.console||{};var cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];var i=0,tn;while((tn=cn[i++])){if(!console[tn]){(function(){var _8=tn+"";console[_8]=("log" in console)?function(){var a=Array.apply({},arguments);a.unshift(_8+":");console["log"](a.join(" "));}:function(){};console[_8]._fake=true;})();}}}if(typeof dojo=="undefined"){dojo={_scopeName:"dojo",_scopePrefix:"",_scopePrefixArgs:"",_scopeSuffix:"",_scopeMap:{},_scopeMapRev:{}};}var d=dojo;if(typeof dijit=="undefined"){dijit={_scopeName:"dijit"};}if(typeof dojox=="undefined"){dojox={_scopeName:"dojox"};}if(!d._scopeArgs){d._scopeArgs=[dojo,dijit,dojox];}d.global=this;d.config={isDebug:false,debugAtAllCosts:false};if(typeof djConfig!="undefined"){for(var _9 in djConfig){d.config[_9]=djConfig[_9];}}dojo.locale=d.config.locale;var _a="$Rev 55a5c39 $".match(/[0-9a-f]{7,}/);dojo.version={major:1,minor:4,patch:5,flag:"_IBM",revision:_a?_a[0]:NaN,toString:function(){with(d.version){return major+"."+minor+"."+patch+flag+" ("+revision+")";}}};if(typeof OpenAjax!="undefined"){OpenAjax.hub.registerLibrary(dojo._scopeName,"http://dojotoolkit.org",d.version.toString());}var _b,_c,_d={};for(var i in {toString:1}){_b=[];break;}dojo._extraNames=_b=_b||["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"];_c=_b.length;dojo._mixin=function(_e,_f){var _10,s,i;for(_10 in _f){s=_f[_10];if(!(_10 in _e)||(_e[_10]!==s&&(!(_10 in _d)||_d[_10]!==s))){_e[_10]=s;}}if(_c&&_f){for(i=0;i<_c;++i){_10=_b[i];s=_f[_10];if(!(_10 in _e)||(_e[_10]!==s&&(!(_10 in _d)||_d[_10]!==s))){_e[_10]=s;}}}return _e;};dojo.mixin=function(obj,_11){if(!obj){obj={};}for(var i=1,l=arguments.length;i<l;i++){d._mixin(obj,arguments[i]);}return obj;};dojo._getProp=function(_12,_13,_14){var obj=_14||d.global;for(var i=0,p;obj&&(p=_12[i]);i++){if(i==0&&d._scopeMap[p]){p=d._scopeMap[p];}obj=(p in obj?obj[p]:(_13?obj[p]={}:undefined));}return obj;};dojo.setObject=function(_15,_16,_17){var _18=_15.split("."),p=_18.pop(),obj=d._getProp(_18,true,_17);return obj&&p?(obj[p]=_16):undefined;};dojo.getObject=function(_19,_1a,_1b){return d._getProp(_19.split("."),_1a,_1b);};dojo.exists=function(_1c,obj){return !!d.getObject(_1c,false,obj);};dojo["eval"]=function(_1d){return d.global.eval?d.global.eval(_1d):eval(_1d);};d.deprecated=d.experimental=function(){};})();(function(){var d=dojo;d.mixin(d,{_loadedModules:{},_inFlightCount:0,_hasResource:{},_modulePrefixes:{dojo:{name:"dojo",value:"."},doh:{name:"doh",value:"../util/doh"},tests:{name:"tests",value:"tests"}},_moduleHasPrefix:function(_1e){var mp=d._modulePrefixes;return !!(mp[_1e]&&mp[_1e].value);},_getModulePrefix:function(_1f){var mp=d._modulePrefixes;if(d._moduleHasPrefix(_1f)){return mp[_1f].value;}return _1f;},_loadedUrls:[],_postLoad:false,_loaders:[],_unloaders:[],_loadNotifying:false});dojo._loadPath=function(_20,_21,cb){var uri=((_20.charAt(0)=="/"||_20.match(/^\w+:/))?"":d.baseUrl)+_20;try{return !_21?d._loadUri(uri,cb):d._loadUriAndCheck(uri,_21,cb);}catch(e){console.error(e);return false;}};dojo._loadUri=function(uri,cb){if(d._loadedUrls[uri]){return true;}d._inFlightCount++;var _22=d._getText(uri,true);if(_22){d._loadedUrls[uri]=true;d._loadedUrls.push(uri);if(cb){_22="("+_22+")";}else{_22=d._scopePrefix+_22+d._scopeSuffix;}if(!d.isIE){_22+="\r\n//@ sourceURL="+uri;}var _23=d["eval"](_22);if(cb){cb(_23);}}if(--d._inFlightCount==0&&d._postLoad&&d._loaders.length){setTimeout(function(){if(d._inFlightCount==0){d._callLoaded();}},0);}return !!_22;};dojo._loadUriAndCheck=function(uri,_24,cb){var ok=false;try{ok=d._loadUri(uri,cb);}catch(e){console.error("failed loading "+uri+" with error: "+e);}return !!(ok&&d._loadedModules[_24]);};dojo.loaded=function(){d._loadNotifying=true;d._postLoad=true;var mll=d._loaders;d._loaders=[];for(var x=0;x<mll.length;x++){mll[x]();}d._loadNotifying=false;if(d._postLoad&&d._inFlightCount==0&&mll.length){d._callLoaded();}};dojo.unloaded=function(){var mll=d._unloaders;while(mll.length){(mll.pop())();}};d._onto=function(arr,obj,fn){if(!fn){arr.push(obj);}else{if(fn){var _25=(typeof fn=="string")?obj[fn]:fn;arr.push(function(){_25.call(obj);});}}};dojo.ready=dojo.addOnLoad=function(obj,_26){d._onto(d._loaders,obj,_26);if(d._postLoad&&d._inFlightCount==0&&!d._loadNotifying){d._callLoaded();}};var dca=d.config.addOnLoad;if(dca){d.addOnLoad[(dca instanceof Array?"apply":"call")](d,dca);}dojo._modulesLoaded=function(){if(d._postLoad){return;}if(d._inFlightCount>0){console.warn("files still in flight!");return;}d._callLoaded();};dojo._callLoaded=function(){if(typeof setTimeout=="object"||(d.config.useXDomain&&d.isOpera)){setTimeout(d.isAIR?function(){d.loaded();}:d._scopeName+".loaded();",0);}else{d.loaded();}};dojo._getModuleSymbols=function(_27){var _28=_27.split(".");for(var i=_28.length;i>0;i--){var _29=_28.slice(0,i).join(".");if(i==1&&!d._moduleHasPrefix(_29)){_28[0]="../"+_28[0];}else{var _2a=d._getModulePrefix(_29);if(_2a!=_29){_28.splice(0,i,_2a);break;}}}return _28;};dojo._global_omit_module_check=false;dojo.loadInit=function(_2b){_2b();};dojo._loadModule=dojo.require=function(_2c,_2d){_2d=d._global_omit_module_check||_2d;var _2e=d._loadedModules[_2c];if(_2e){return _2e;}var _2f=d._getModuleSymbols(_2c).join("/")+".js";var _30=!_2d?_2c:null;var ok=d._loadPath(_2f,_30);if(!ok&&!_2d){throw new Error("Could not load '"+_2c+"'; last tried '"+_2f+"'");}if(!_2d&&!d._isXDomain){_2e=d._loadedModules[_2c];if(!_2e){throw new Error("symbol '"+_2c+"' is not defined after loading '"+_2f+"'");}}return _2e;};dojo.provide=function(_31){_31=_31+"";return (d._loadedModules[_31]=d.getObject(_31,true));};dojo.platformRequire=function(_32){var _33=_32.common||[];var _34=_33.concat(_32[d._name]||_32["default"]||[]);for(var x=0;x<_34.length;x++){var _35=_34[x];if(_35.constructor==Array){d._loadModule.apply(d,_35);}else{d._loadModule(_35);}}};dojo.requireIf=function(_36,_37){if(_36===true){var _38=[];for(var i=1;i<arguments.length;i++){_38.push(arguments[i]);}d.require.apply(d,_38);}};dojo.requireAfterIf=d.requireIf;dojo.registerModulePath=function(_39,_3a){d._modulePrefixes[_39]={name:_39,value:_3a};};dojo.requireLocalization=function(_3b,_3c,_3d,_3e){d.require("dojo.i18n");d.i18n._requireLocalization.apply(d.hostenv,arguments);};var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");dojo._Url=function(){var n=null,_3f=arguments,uri=[_3f[0]];for(var i=1;i<_3f.length;i++){if(!_3f[i]){continue;}var _40=new d._Url(_3f[i]+""),_41=new d._Url(uri[0]+"");if(_40.path==""&&!_40.scheme&&!_40.authority&&!_40.query){if(_40.fragment!=n){_41.fragment=_40.fragment;}_40=_41;}else{if(!_40.scheme){_40.scheme=_41.scheme;if(!_40.authority){_40.authority=_41.authority;if(_40.path.charAt(0)!="/"){var _42=_41.path.substring(0,_41.path.lastIndexOf("/")+1)+_40.path;var _43=_42.split("/");for(var j=0;j<_43.length;j++){if(_43[j]=="."){if(j==_43.length-1){_43[j]="";}else{_43.splice(j,1);j--;}}else{if(j>0&&!(j==1&&_43[0]=="")&&_43[j]==".."&&_43[j-1]!=".."){if(j==(_43.length-1)){_43.splice(j,1);_43[j-1]="";}else{_43.splice(j-1,2);j-=2;}}}}_40.path=_43.join("/");}}}}uri=[];if(_40.scheme){uri.push(_40.scheme,":");}if(_40.authority){uri.push("//",_40.authority);}uri.push(_40.path);if(_40.query){uri.push("?",_40.query);}if(_40.fragment){uri.push("#",_40.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};dojo._Url.prototype.toString=function(){return this.uri;};dojo.moduleUrl=function(_44,url){var loc=d._getModuleSymbols(_44).join("/");if(!loc){return null;}if(loc.lastIndexOf("/")!=loc.length-1){loc+="/";}var _45=loc.indexOf(":");if(loc.charAt(0)!="/"&&(_45==-1||_45>loc.indexOf("/"))){loc=d.baseUrl+loc;}return new d._Url(loc,url);};})();if(typeof window!="undefined"){dojo.isBrowser=true;dojo._name="browser";(function(){var d=dojo;if(document&&document.getElementsByTagName){var _46=document.getElementsByTagName("script");var _47=/dojo(\.xd)?\.js(\W|$)/i;for(var i=0;i<_46.length;i++){var src=_46[i].getAttribute("src");if(!src){continue;}var m=src.match(_47);if(m){if(!d.config.baseUrl){d.config.baseUrl=src.substring(0,m.index);}var cfg=_46[i].getAttribute("djConfig");if(cfg){var _48=eval("({ "+cfg+" })");for(var x in _48){dojo.config[x]=_48[x];}}break;}}}d.baseUrl=d.config.baseUrl;var n=navigator;var dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){d.isOpera=tv;}if(dua.indexOf("AdobeAIR")>=0){d.isAIR=1;}d.isKhtml=(dav.indexOf("Konqueror")>=0)?tv:0;d.isWebKit=parseFloat(dua.split("WebKit/")[1])||undefined;d.isChrome=parseFloat(dua.split("Chrome/")[1])||undefined;d.isMac=dav.indexOf("Macintosh")>=0;var _49=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(_49&&!dojo.isChrome){d.isSafari=parseFloat(dav.split("Version/")[1]);if(!d.isSafari||parseFloat(dav.substr(_49+7))<=419.3){d.isSafari=2;}}if(dua.indexOf("Gecko")>=0&&!d.isKhtml&&!d.isWebKit){d.isMozilla=d.isMoz=tv;}if(d.isMoz){d.isFF=parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||undefined;}if(document.all&&!d.isOpera){d.isIE=parseFloat(dav.split("MSIE ")[1])||undefined;var _4a=document.documentMode;if(_4a&&_4a!=5&&Math.floor(d.isIE)!=_4a){d.isIE=_4a;}}if(dojo.isIE&&window.location.protocol==="file:"){dojo.config.ieForceActiveXXhr=true;}d.isQuirks=document.compatMode=="BackCompat";d.locale=dojo.config.locale||(d.isIE?n.userLanguage:n.language).toLowerCase();d._XMLHTTP_PROGIDS=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];d._xhrObj=function(){var _4b,_4c;if(!dojo.isIE||!dojo.config.ieForceActiveXXhr){try{_4b=new XMLHttpRequest();}catch(e){}}if(!_4b){for(var i=0;i<3;++i){var _4d=d._XMLHTTP_PROGIDS[i];try{_4b=new ActiveXObject(_4d);}catch(e){_4c=e;}if(_4b){d._XMLHTTP_PROGIDS=[_4d];break;}}}if(!_4b){throw new Error("XMLHTTP not available: "+_4c);}return _4b;};d._isDocumentOk=function(_4e){var _4f=_4e.status||0,lp=location.protocol;return (_4f>=200&&_4f<300)||_4f==304||_4f==1223||(!_4f&&(lp=="file:"||lp=="chrome:"||lp=="app:"));};var _50=window.location+"";var _51=document.getElementsByTagName("base");var _52=(_51&&_51.length>0);d._getText=function(uri,_53){var _54=d._xhrObj();if(!_52&&dojo._Url){uri=(new dojo._Url(_50,uri)).toString();}if(d.config.cacheBust){uri+="";uri+=(uri.indexOf("?")==-1?"?":"&")+String(d.config.cacheBust).replace(/\W+/g,"");}_54.open("GET",uri,false);try{_54.send(null);if(!d._isDocumentOk(_54)){var err=Error("Unable to load "+uri+" status:"+_54.status);err.status=_54.status;err.responseText=_54.responseText;throw err;}}catch(e){if(_53){return null;}throw e;}return _54.responseText;};var _55=window;var _56=function(_57,fp){var _58=_55.attachEvent||_55.addEventListener;_57=_55.attachEvent?_57:_57.substring(2);_58(_57,function(){fp.apply(_55,arguments);},false);};d._windowUnloaders=[];d.windowUnloaded=function(){var mll=d._windowUnloaders;while(mll.length){(mll.pop())();}d=null;};var _59=0;d.addOnWindowUnload=function(obj,_5a){d._onto(d._windowUnloaders,obj,_5a);if(!_59){_59=1;_56("onunload",d.windowUnloaded);}};var _5b=0;d.addOnUnload=function(obj,_5c){d._onto(d._unloaders,obj,_5c);if(!_5b){_5b=1;_56("onbeforeunload",dojo.unloaded);}};})();dojo._initFired=false;dojo._loadInit=function(e){if(!dojo._initFired){dojo._initFired=true;if(!dojo.config.afterOnLoad&&window.detachEvent){window.detachEvent("onload",dojo._loadInit);}if(dojo._inFlightCount==0){dojo._modulesLoaded();}}};if(!dojo.config.afterOnLoad){if(document.addEventListener){document.addEventListener("DOMContentLoaded",dojo._loadInit,false);window.addEventListener("load",dojo._loadInit,false);}else{if(window.attachEvent){window.attachEvent("onload",dojo._loadInit);}}}if(dojo.isIE){if(!dojo.config.afterOnLoad&&!dojo.config.skipIeDomLoaded){document.write("<scr"+"ipt defer src=\"//:\" "+"onreadystatechange=\"if(this.readyState=='complete'){"+dojo._scopeName+"._loadInit();}\">"+"</scr"+"ipt>");}try{document.namespaces.add("v","urn:schemas-microsoft-com:vml");var _5d=["*","group","roundrect","oval","shape","rect","imagedata","path","textpath","text"],i=0,l=1,s=document.createStyleSheet();if(dojo.isIE>=8){i=1;l=_5d.length;}for(;i<l;++i){s.addRule("v\\:"+_5d[i],"behavior:url(#default#VML); display:inline-block");}}catch(e){}}}(function(){var mp=dojo.config["modulePaths"];if(mp){for(var _5e in mp){dojo.registerModulePath(_5e,mp[_5e]);}}})();if(dojo.config.isDebug){dojo.require("dojo._firebug.firebug");}if(dojo.config.debugAtAllCosts){dojo.config.useXDomain=true;dojo.require("dojo._base._loader.loader_xd");dojo.require("dojo._base._loader.loader_debug");}if(!dojo._hasResource["dojo._base.lang"]){dojo._hasResource["dojo._base.lang"]=true;dojo.provide("dojo._base.lang");(function(){var d=dojo,_5f=Object.prototype.toString;dojo.isString=function(it){return (typeof it=="string"||it instanceof String);};dojo.isArray=function(it){return it&&(it instanceof Array||typeof it=="array");};dojo.isFunction=function(it){return _5f.call(it)==="[object Function]";};dojo.isObject=function(it){return it!==undefined&&(it===null||typeof it=="object"||d.isArray(it)||d.isFunction(it));};dojo.isArrayLike=function(it){return it&&it!==undefined&&!d.isString(it)&&!d.isFunction(it)&&!(it.tagName&&it.tagName.toLowerCase()=="form")&&(d.isArray(it)||isFinite(it.length));};dojo.isAlien=function(it){return it&&!d.isFunction(it)&&/\{\s*\[native code\]\s*\}/.test(String(it));};dojo.extend=function(_60,_61){for(var i=1,l=arguments.length;i<l;i++){d._mixin(_60.prototype,arguments[i]);}return _60;};dojo._hitchArgs=function(_62,_63){var pre=d._toArray(arguments,2);var _64=d.isString(_63);return function(){var _65=d._toArray(arguments);var f=_64?(_62||d.global)[_63]:_63;return f&&f.apply(_62||this,pre.concat(_65));};};dojo.hitch=function(_66,_67){if(arguments.length>2){return d._hitchArgs.apply(d,arguments);}if(!_67){_67=_66;_66=null;}if(d.isString(_67)){_66=_66||d.global;if(!_66[_67]){throw (["dojo.hitch: scope[\"",_67,"\"] is null (scope=\"",_66,"\")"].join(""));}return function(){return _66[_67].apply(_66,arguments||[]);};}return !_66?_67:function(){return _67.apply(_66,arguments||[]);};};dojo.delegate=dojo._delegate=(function(){function TMP(){};return function(obj,_68){TMP.prototype=obj;var tmp=new TMP();TMP.prototype=null;if(_68){d._mixin(tmp,_68);}return tmp;};})();var _69=function(obj,_6a,_6b){return (_6b||[]).concat(Array.prototype.slice.call(obj,_6a||0));};var _6c=function(obj,_6d,_6e){var arr=_6e||[];for(var x=_6d||0;x<obj.length;x++){arr.push(obj[x]);}return arr;};dojo._toArray=d.isIE?function(obj){return ((obj.item)?_6c:_69).apply(this,arguments);}:_69;dojo.partial=function(_6f){var arr=[null];return d.hitch.apply(d,arr.concat(d._toArray(arguments)));};var _70=d._extraNames,_71=_70.length,_72={};dojo.clone=function(o){if(!o||typeof o!="object"||d.isFunction(o)){return o;}if(o.nodeType&&"cloneNode" in o){return o.cloneNode(true);}if(o instanceof Date){return new Date(o.getTime());}var r,i,l,s,_73;if(d.isArray(o)){r=[];for(i=0,l=o.length;i<l;++i){if(i in o){r.push(d.clone(o[i]));}}}else{r=o.constructor?new o.constructor():{};}for(_73 in o){s=o[_73];if(!(_73 in r)||(r[_73]!==s&&(!(_73 in _72)||_72[_73]!==s))){r[_73]=d.clone(s);}}if(_71){for(i=0;i<_71;++i){_73=_70[i];s=o[_73];if(!(_73 in r)||(r[_73]!==s&&(!(_73 in _72)||_72[_73]!==s))){r[_73]=s;}}}return r;};dojo.trim=String.prototype.trim?function(str){return str.trim();}:function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");};var _74=/\{([^\}]+)\}/g;dojo.replace=function(_75,map,_76){return _75.replace(_76||_74,d.isFunction(map)?map:function(_77,k){return d.getObject(k,false,map);});};})();}if(!dojo._hasResource["dojo._base.array"]){dojo._hasResource["dojo._base.array"]=true;dojo.provide("dojo._base.array");(function(){var _78=function(arr,obj,cb){return [(typeof arr=="string")?arr.split(""):arr,obj||dojo.global,(typeof cb=="string")?new Function("item","index","array",cb):cb];};var _79=function(_7a,arr,_7b,_7c){var _7d=_78(arr,_7c,_7b);arr=_7d[0];for(var i=0,l=arr.length;i<l;++i){var _7e=!!_7d[2].call(_7d[1],arr[i],i,arr);if(_7a^_7e){return _7e;}}return _7a;};dojo.mixin(dojo,{indexOf:function(_7f,_80,_81,_82){var _83=1,end=_7f.length||0,i=0;if(_82){i=end-1;_83=end=-1;}if(_81!=undefined){i=_81;}if((_82&&i>end)||i<end){for(;i!=end;i+=_83){if(_7f[i]==_80){return i;}}}return -1;},lastIndexOf:function(_84,_85,_86){return dojo.indexOf(_84,_85,_86,true);},forEach:function(arr,_87,_88){if(!arr||!arr.length){return;}var _89=_78(arr,_88,_87);arr=_89[0];for(var i=0,l=arr.length;i<l;++i){_89[2].call(_89[1],arr[i],i,arr);}},every:function(arr,_8a,_8b){return _79(true,arr,_8a,_8b);},some:function(arr,_8c,_8d){return _79(false,arr,_8c,_8d);},map:function(arr,_8e,_8f){var _90=_78(arr,_8f,_8e);arr=_90[0];var _91=(arguments[3]?(new arguments[3]()):[]);for(var i=0,l=arr.length;i<l;++i){_91.push(_90[2].call(_90[1],arr[i],i,arr));}return _91;},filter:function(arr,_92,_93){var _94=_78(arr,_93,_92);arr=_94[0];var _95=[];for(var i=0,l=arr.length;i<l;++i){if(_94[2].call(_94[1],arr[i],i,arr)){_95.push(arr[i]);}}return _95;}});})();}if(!dojo._hasResource["dojo._base.declare"]){dojo._hasResource["dojo._base.declare"]=true;dojo.provide("dojo._base.declare");(function(){var d=dojo,mix=d._mixin,op=Object.prototype,_96=op.toString,_97=new Function,_98=0,_99="constructor";function err(msg){throw new Error("declare: "+msg);};function c3mro(_9a){var _9b=[],_9c=[{cls:0,refs:[]}],_9d={},_9e=1,l=_9a.length,i=0,j,lin,_9f,top,_a0,rec,_a1,_a2;for(;i<l;++i){_9f=_9a[i];if(!_9f){err("mixin #"+i+" is null");}lin=_9f._meta?_9f._meta.bases:[_9f];top=0;for(j=lin.length-1;j>=0;--j){_a0=lin[j].prototype;if(!_a0.hasOwnProperty("declaredClass")){_a0.declaredClass="uniqName_"+(_98++);}_a1=_a0.declaredClass;if(!_9d.hasOwnProperty(_a1)){_9d[_a1]={count:0,refs:[],cls:lin[j]};++_9e;}rec=_9d[_a1];if(top&&top!==rec){rec.refs.push(top);++top.count;}top=rec;}++top.count;_9c[0].refs.push(top);}while(_9c.length){top=_9c.pop();_9b.push(top.cls);--_9e;while(_a2=top.refs,_a2.length==1){top=_a2[0];if(!top||--top.count){top=0;break;}_9b.push(top.cls);--_9e;}if(top){for(i=0,l=_a2.length;i<l;++i){top=_a2[i];if(!--top.count){_9c.push(top);}}}}if(_9e){err("can't build consistent linearization");}_9f=_9a[0];_9b[0]=_9f?_9f._meta&&_9f===_9b[_9b.length-_9f._meta.bases.length]?_9f._meta.bases.length:1:0;return _9b;};function inherited(_a3,a,f){var _a4,_a5,_a6,_a7,_a8,_a9,_aa,opf,pos,_ab=this._inherited=this._inherited||{};if(typeof _a3=="string"){_a4=_a3;_a3=a;a=f;}f=0;_a7=_a3.callee;_a4=_a4||_a7.nom;if(!_a4){err("can't deduce a name to call inherited()");}_a8=this.constructor._meta;_a6=_a8.bases;pos=_ab.p;if(_a4!=_99){if(_ab.c!==_a7){pos=0;_a9=_a6[0];_a8=_a9._meta;if(_a8.hidden[_a4]!==_a7){_a5=_a8.chains;if(_a5&&typeof _a5[_a4]=="string"){err("calling chained method with inherited: "+_a4);}do{_a8=_a9._meta;_aa=_a9.prototype;if(_a8&&(_aa[_a4]===_a7&&_aa.hasOwnProperty(_a4)||_a8.hidden[_a4]===_a7)){break;}}while(_a9=_a6[++pos]);pos=_a9?pos:-1;}}_a9=_a6[++pos];if(_a9){_aa=_a9.prototype;if(_a9._meta&&_aa.hasOwnProperty(_a4)){f=_aa[_a4];}else{opf=op[_a4];do{_aa=_a9.prototype;f=_aa[_a4];if(f&&(_a9._meta?_aa.hasOwnProperty(_a4):f!==opf)){break;}}while(_a9=_a6[++pos]);}}f=_a9&&f||op[_a4];}else{if(_ab.c!==_a7){pos=0;_a8=_a6[0]._meta;if(_a8&&_a8.ctor!==_a7){_a5=_a8.chains;if(!_a5||_a5.constructor!=="manual"){err("calling chained constructor with inherited");}while(_a9=_a6[++pos]){_a8=_a9._meta;if(_a8&&_a8.ctor===_a7){break;}}pos=_a9?pos:-1;}}while(_a9=_a6[++pos]){_a8=_a9._meta;f=_a8?_a8.ctor:_a9;if(f){break;}}f=_a9&&f;}_ab.c=f;_ab.p=pos;if(f){return a===true?f:f.apply(this,a||_a3);}};function getInherited(_ac,_ad){if(typeof _ac=="string"){return this.inherited(_ac,_ad,true);}return this.inherited(_ac,true);};function isInstanceOf(cls){var _ae=this.constructor._meta.bases;for(var i=0,l=_ae.length;i<l;++i){if(_ae[i]===cls){return true;}}return this instanceof cls;};function safeMixin(_af,_b0){var _b1,t,i=0,l=d._extraNames.length;for(_b1 in _b0){t=_b0[_b1];if((t!==op[_b1]||!(_b1 in op))&&_b1!=_99){if(_96.call(t)=="[object Function]"){t.nom=_b1;}_af[_b1]=t;}}for(;i<l;++i){_b1=d._extraNames[i];t=_b0[_b1];if((t!==op[_b1]||!(_b1 in op))&&_b1!=_99){if(_96.call(t)=="[object Function]"){t.nom=_b1;}_af[_b1]=t;}}return _af;};function extend(_b2){safeMixin(this.prototype,_b2);return this;};function chainedConstructor(_b3,_b4){return function(){var a=arguments,_b5=a,a0=a[0],f,i,m,l=_b3.length,_b6;if(_b4&&(a0&&a0.preamble||this.preamble)){_b6=new Array(_b3.length);_b6[0]=a;for(i=0;;){a0=a[0];if(a0){f=a0.preamble;if(f){a=f.apply(this,a)||a;}}f=_b3[i].prototype;f=f.hasOwnProperty("preamble")&&f.preamble;if(f){a=f.apply(this,a)||a;}if(++i==l){break;}_b6[i]=a;}}for(i=l-1;i>=0;--i){f=_b3[i];m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,_b6?_b6[i]:a);}}f=this.postscript;if(f){f.apply(this,_b5);}};};function singleConstructor(_b7,_b8){return function(){var a=arguments,t=a,a0=a[0],f;if(_b8){if(a0){f=a0.preamble;if(f){t=f.apply(this,t)||t;}}f=this.preamble;if(f){f.apply(this,t);}}if(_b7){_b7.apply(this,a);}f=this.postscript;if(f){f.apply(this,a);}};};function simpleConstructor(_b9){return function(){var a=arguments,i=0,f;for(;f=_b9[i];++i){m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,a);break;}}f=this.postscript;if(f){f.apply(this,a);}};};function chain(_ba,_bb,_bc){return function(){var b,m,f,i=0,_bd=1;if(_bc){i=_bb.length-1;_bd=-1;}for(;b=_bb[i];i+=_bd){m=b._meta;f=(m?m.hidden:b.prototype)[_ba];if(f){f.apply(this,arguments);}}};};d.declare=function(_be,_bf,_c0){var _c1,i,t,_c2,_c3,_c4,_c5,_c6=1,_c7=_bf;if(typeof _be!="string"){_c0=_bf;_bf=_be;_be="";}_c0=_c0||{};if(_96.call(_bf)=="[object Array]"){_c4=c3mro(_bf);t=_c4[0];_c6=_c4.length-t;_bf=_c4[_c6];}else{_c4=[0];if(_bf){t=_bf._meta;_c4=_c4.concat(t?t.bases:_bf);}}if(_bf){for(i=_c6-1;;--i){_97.prototype=_bf.prototype;_c1=new _97;if(!i){break;}t=_c4[i];mix(_c1,t._meta?t._meta.hidden:t.prototype);_c2=new Function;_c2.superclass=_bf;_c2.prototype=_c1;_bf=_c1.constructor=_c2;}}else{_c1={};}safeMixin(_c1,_c0);t=_c0.constructor;if(t!==op.constructor){t.nom=_99;_c1.constructor=t;}_97.prototype=0;for(i=_c6-1;i;--i){t=_c4[i]._meta;if(t&&t.chains){_c5=mix(_c5||{},t.chains);}}if(_c1["-chains-"]){_c5=mix(_c5||{},_c1["-chains-"]);}t=!_c5||!_c5.hasOwnProperty(_99);_c4[0]=_c2=(_c5&&_c5.constructor==="manual")?simpleConstructor(_c4):(_c4.length==1?singleConstructor(_c0.constructor,t):chainedConstructor(_c4,t));_c2._meta={bases:_c4,hidden:_c0,chains:_c5,parents:_c7,ctor:_c0.constructor};_c2.superclass=_bf&&_bf.prototype;_c2.extend=extend;_c2.prototype=_c1;_c1.constructor=_c2;_c1.getInherited=getInherited;_c1.inherited=inherited;_c1.isInstanceOf=isInstanceOf;if(_be){_c1.declaredClass=_be;d.setObject(_be,_c2);}if(_c5){for(_c3 in _c5){if(_c1[_c3]&&typeof _c5[_c3]=="string"&&_c3!=_99){t=_c1[_c3]=chain(_c3,_c4,_c5[_c3]==="after");t.nom=_c3;}}}return _c2;};d.safeMixin=safeMixin;})();}if(!dojo._hasResource["dojo._base.connect"]){dojo._hasResource["dojo._base.connect"]=true;dojo.provide("dojo._base.connect");dojo._listener={getDispatcher:function(){return function(){var ap=Array.prototype,c=arguments.callee,ls=c._listeners,t=c.target;var r=t&&t.apply(this,arguments);var lls;lls=[].concat(ls);for(var i in lls){if(!(i in ap)){lls[i].apply(this,arguments);}}return r;};},add:function(_c8,_c9,_ca){_c8=_c8||dojo.global;var f=_c8[_c9];if(!f||!f._listeners){var d=dojo._listener.getDispatcher();d.target=f;d._listeners=[];f=_c8[_c9]=d;}return f._listeners.push(_ca);},remove:function(_cb,_cc,_cd){var f=(_cb||dojo.global)[_cc];if(f&&f._listeners&&_cd--){delete f._listeners[_cd];}}};dojo.connect=function(obj,_ce,_cf,_d0,_d1){var a=arguments,_d2=[],i=0;_d2.push(dojo.isString(a[0])?null:a[i++],a[i++]);var a1=a[i+1];_d2.push(dojo.isString(a1)||dojo.isFunction(a1)?a[i++]:null,a[i++]);for(var l=a.length;i<l;i++){_d2.push(a[i]);}return dojo._connect.apply(this,_d2);};dojo._connect=function(obj,_d3,_d4,_d5){var l=dojo._listener,h=l.add(obj,_d3,dojo.hitch(_d4,_d5));return [obj,_d3,h,l];};dojo.disconnect=function(_d6){if(_d6&&_d6[0]!==undefined){dojo._disconnect.apply(this,_d6);delete _d6[0];}};dojo._disconnect=function(obj,_d7,_d8,_d9){_d9.remove(obj,_d7,_d8);};dojo._topics={};dojo.subscribe=function(_da,_db,_dc){return [_da,dojo._listener.add(dojo._topics,_da,dojo.hitch(_db,_dc))];};dojo.unsubscribe=function(_dd){if(_dd){dojo._listener.remove(dojo._topics,_dd[0],_dd[1]);}};dojo.publish=function(_de,_df){var f=dojo._topics[_de];if(f){f.apply(this,_df||[]);}};dojo.connectPublisher=function(_e0,obj,_e1){var pf=function(){dojo.publish(_e0,arguments);};return (_e1)?dojo.connect(obj,_e1,pf):dojo.connect(obj,pf);};}if(!dojo._hasResource["dojo._base.Deferred"]){dojo._hasResource["dojo._base.Deferred"]=true;dojo.provide("dojo._base.Deferred");dojo.Deferred=function(_e2){this.chain=[];this.id=this._nextId();this.fired=-1;this.paused=0;this.results=[null,null];this.canceller=_e2;this.silentlyCancelled=false;this.isFiring=false;};dojo.extend(dojo.Deferred,{_nextId:(function(){var n=1;return function(){return n++;};})(),cancel:function(){var err;if(this.fired==-1){if(this.canceller){err=this.canceller(this);}else{this.silentlyCancelled=true;}if(this.fired==-1){if(!(err instanceof Error)){var res=err;var msg="Deferred Cancelled";if(err&&err.toString){msg+=": "+err.toString();}err=new Error(msg);err.dojoType="cancel";err.cancelResult=res;}this.errback(err);}}else{if((this.fired==0)&&(this.results[0] instanceof dojo.Deferred)){this.results[0].cancel();}}},_resback:function(res){this.fired=((res instanceof Error)?1:0);this.results[this.fired]=res;this._fire();},_check:function(){if(this.fired!=-1){if(!this.silentlyCancelled){throw new Error("already called!");}this.silentlyCancelled=false;return;}},callback:function(res){this._check();this._resback(res);},errback:function(res){this._check();if(!(res instanceof Error)){res=new Error(res);}this._resback(res);},addBoth:function(cb,_e3){var _e4=dojo.hitch.apply(dojo,arguments);return this.addCallbacks(_e4,_e4);},addCallback:function(cb,_e5){return this.addCallbacks(dojo.hitch.apply(dojo,arguments));},addErrback:function(cb,_e6){return this.addCallbacks(null,dojo.hitch.apply(dojo,arguments));},addCallbacks:function(cb,eb){this.chain.push([cb,eb]);if(this.fired>=0&&!this.isFiring){this._fire();}return this;},_fire:function(){this.isFiring=true;var _e7=this.chain;var _e8=this.fired;var res=this.results[_e8];var _e9=this;var cb=null;while((_e7.length>0)&&(this.paused==0)){var f=_e7.shift()[_e8];if(!f){continue;}var _ea=function(){var ret=f(res);if(typeof ret!="undefined"){res=ret;}_e8=((res instanceof Error)?1:0);if(res instanceof dojo.Deferred){cb=function(res){_e9._resback(res);_e9.paused--;if((_e9.paused==0)&&(_e9.fired>=0)){_e9._fire();}};this.paused++;}};if(dojo.config.debugAtAllCosts){_ea.call(this);}else{try{_ea.call(this);}catch(err){_e8=1;res=err;}}}this.fired=_e8;this.results[_e8]=res;this.isFiring=false;if((cb)&&(this.paused)){res.addBoth(cb);}}});}if(!dojo._hasResource["dojo._base.json"]){dojo._hasResource["dojo._base.json"]=true;dojo.provide("dojo._base.json");dojo.fromJson=function(_eb){return eval("("+_eb+")");};dojo._escapeString=function(str){return ("\""+str.replace(/(["\\])/g,"\\$1")+"\"").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r");};dojo.toJsonIndentStr="\t";dojo.toJson=function(it,_ec,_ed){if(it===undefined){return "undefined";}var _ee=typeof it;if(_ee=="number"||_ee=="boolean"){return it+"";}if(it===null){return "null";}if(dojo.isString(it)){return dojo._escapeString(it);}var _ef=arguments.callee;var _f0;_ed=_ed||"";var _f1=_ec?_ed+dojo.toJsonIndentStr:"";var tf=it.__json__||it.json;if(dojo.isFunction(tf)){_f0=tf.call(it);if(it!==_f0){return _ef(_f0,_ec,_f1);}}if(it.nodeType&&it.cloneNode){throw new Error("Can't serialize DOM nodes");}var sep=_ec?" ":"";var _f2=_ec?"\n":"";if(dojo.isArray(it)){var res=dojo.map(it,function(obj){var val=_ef(obj,_ec,_f1);if(typeof val!="string"){val="undefined";}return _f2+_f1+val;});return "["+res.join(","+sep)+_f2+_ed+"]";}if(_ee=="function"){return null;}var _f3=[],key;for(key in it){var _f4,val;if(typeof key=="number"){_f4="\""+key+"\"";}else{if(typeof key=="string"){_f4=dojo._escapeString(key);}else{continue;}}val=_ef(it[key],_ec,_f1);if(typeof val!="string"){continue;}_f3.push(_f2+_f1+_f4+":"+sep+val);}return "{"+_f3.join(","+sep)+_f2+_ed+"}";};}if(!dojo._hasResource["dojo._base.Color"]){dojo._hasResource["dojo._base.Color"]=true;dojo.provide("dojo._base.Color");(function(){var d=dojo;dojo.Color=function(_f5){if(_f5){this.setColor(_f5);}};dojo.Color.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:d.config.transparentColor||[255,255,255]};dojo.extend(dojo.Color,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){var t=this;t.r=r;t.g=g;t.b=b;t.a=a;},setColor:function(_f6){if(d.isString(_f6)){d.colorFromString(_f6,this);}else{if(d.isArray(_f6)){d.colorFromArray(_f6,this);}else{this._set(_f6.r,_f6.g,_f6.b,_f6.a);if(!(_f6 instanceof d.Color)){this.sanitize();}}}return this;},sanitize:function(){return this;},toRgb:function(){var t=this;return [t.r,t.g,t.b];},toRgba:function(){var t=this;return [t.r,t.g,t.b,t.a];},toHex:function(){var arr=d.map(["r","g","b"],function(x){var s=this[x].toString(16);return s.length<2?"0"+s:s;},this);return "#"+arr.join("");},toCss:function(_f7){var t=this,rgb=t.r+", "+t.g+", "+t.b;return (_f7?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")";},toString:function(){return this.toCss(true);}});dojo.blendColors=function(_f8,end,_f9,obj){var t=obj||new d.Color();d.forEach(["r","g","b","a"],function(x){t[x]=_f8[x]+(end[x]-_f8[x])*_f9;if(x!="a"){t[x]=Math.round(t[x]);}});return t.sanitize();};dojo.colorFromRgb=function(_fa,obj){var m=_fa.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&dojo.colorFromArray(m[1].split(/\s*,\s*/),obj);};dojo.colorFromHex=function(_fb,obj){var t=obj||new d.Color(),_fc=(_fb.length==4)?4:8,_fd=(1<<_fc)-1;_fb=Number("0x"+_fb.substr(1));if(isNaN(_fb)){return null;}d.forEach(["b","g","r"],function(x){var c=_fb&_fd;_fb>>=_fc;t[x]=_fc==4?17*c:c;});t.a=1;return t;};dojo.colorFromArray=function(a,obj){var t=obj||new d.Color();t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));if(isNaN(t.a)){t.a=1;}return t.sanitize();};dojo.colorFromString=function(str,obj){var a=d.Color.named[str];return a&&d.colorFromArray(a,obj)||d.colorFromRgb(str,obj)||d.colorFromHex(str,obj);};})();}if(!dojo._hasResource["dojo._base"]){dojo._hasResource["dojo._base"]=true;dojo.provide("dojo._base");}if(!dojo._hasResource["dojo._base.window"]){dojo._hasResource["dojo._base.window"]=true;dojo.provide("dojo._base.window");dojo.doc=window["document"]||null;dojo.body=function(){return dojo.doc.body||dojo.doc.getElementsByTagName("body")[0];};dojo.setContext=function(_fe,_ff){dojo.global=_fe;dojo.doc=_ff;};dojo.withGlobal=function(_100,_101,_102,_103){var _104=dojo.global;try{dojo.global=_100;return dojo.withDoc.call(null,_100.document,_101,_102,_103);}finally{dojo.global=_104;}};dojo.withDoc=function(_105,_106,_107,_108){var _109=dojo.doc,_10a=dojo._bodyLtr,oldQ=dojo.isQuirks;try{dojo.doc=_105;delete dojo._bodyLtr;dojo.isQuirks=dojo.doc.compatMode=="BackCompat";if(_107&&typeof _106=="string"){_106=_107[_106];}return _106.apply(_107,_108||[]);}finally{dojo.doc=_109;delete dojo._bodyLtr;if(_10a!==undefined){dojo._bodyLtr=_10a;}dojo.isQuirks=oldQ;}};}if(!dojo._hasResource["dojo._base.event"]){dojo._hasResource["dojo._base.event"]=true;dojo.provide("dojo._base.event");(function(){var del=(dojo._event_listener={add:function(node,name,fp){if(!node){return;}name=del._normalizeEventName(name);fp=del._fixCallback(name,fp);if(!dojo.isIE&&(name=="mouseenter"||name=="mouseleave")){var ofp=fp;name=(name=="mouseenter")?"mouseover":"mouseout";fp=function(e){if(!dojo.isDescendant(e.relatedTarget,node)){return ofp.call(this,e);}};}node.addEventListener(name,fp,false);return fp;},remove:function(node,_10b,_10c){if(node){_10b=del._normalizeEventName(_10b);if(!dojo.isIE&&(_10b=="mouseenter"||_10b=="mouseleave")){_10b=(_10b=="mouseenter")?"mouseover":"mouseout";}node.removeEventListener(_10b,_10c,false);}},_normalizeEventName:function(name){return name.slice(0,2)=="on"?name.slice(2):name;},_fixCallback:function(name,fp){return name!="keypress"?fp:function(e){return fp.call(this,del._fixEvent(e,this));};},_fixEvent:function(evt,_10d){switch(evt.type){case "keypress":del._setKeyChar(evt);break;}return evt;},_setKeyChar:function(evt){evt.keyChar=evt.charCode>=32?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;},_punctMap:{106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39}});dojo.fixEvent=function(evt,_10e){return del._fixEvent(evt,_10e);};dojo.stopEvent=function(evt){evt.preventDefault();evt.stopPropagation();};var _10f=dojo._listener;dojo._connect=function(obj,_110,_111,_112,_113){var _114=obj&&(obj.nodeType||obj.attachEvent||obj.addEventListener);var lid=_114?(_113?2:1):0,l=[dojo._listener,del,_10f][lid];var h=l.add(obj,_110,dojo.hitch(_111,_112));return [obj,_110,h,lid];};dojo._disconnect=function(obj,_115,_116,_117){([dojo._listener,del,_10f][_117]).remove(obj,_115,_116);};dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:dojo.isSafari?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,copyKey:dojo.isMac&&!dojo.isAIR?(dojo.isSafari?91:224):17};var _118=dojo.isMac?"metaKey":"ctrlKey";dojo.isCopyKey=function(e){return e[_118];};if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){dojo.mouseButtons={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,_119){return e.button&_119;},isLeft:function(e){return e.button&1;},isMiddle:function(e){return e.button&4;},isRight:function(e){return e.button&2;}};}else{dojo.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,_11a){return e.button==_11a;},isLeft:function(e){return e.button==0;},isMiddle:function(e){return e.button==1;},isRight:function(e){return e.button==2;}};}if(dojo.isIE){var _11b=function(e,code){try{return (e.keyCode=code);}catch(e){return 0;}};var iel=dojo._listener;var _11c=(dojo._ieListenersName="_"+dojo._scopeName+"_listeners");if(!dojo.config._allow_leaks){_10f=iel=dojo._ie_listener={handlers:[],add:function(_11d,_11e,_11f){_11d=_11d||dojo.global;var f=_11d[_11e];if(!f||!f[_11c]){var d=dojo._getIeDispatcher();d.target=f&&(ieh.push(f)-1);d[_11c]=[];f=_11d[_11e]=d;}return f[_11c].push(ieh.push(_11f)-1);},remove:function(_120,_121,_122){var f=(_120||dojo.global)[_121],l=f&&f[_11c];if(f&&l&&_122--){delete ieh[l[_122]];delete l[_122];}}};var ieh=iel.handlers;}dojo.mixin(del,{add:function(node,_123,fp){if(!node){return;}_123=del._normalizeEventName(_123);if(_123=="onkeypress"){var kd=node.onkeydown;if(!kd||!kd[_11c]||!kd._stealthKeydownHandle){var h=del.add(node,"onkeydown",del._stealthKeyDown);kd=node.onkeydown;kd._stealthKeydownHandle=h;kd._stealthKeydownRefs=1;}else{kd._stealthKeydownRefs++;}}return iel.add(node,_123,del._fixCallback(fp));},remove:function(node,_124,_125){_124=del._normalizeEventName(_124);iel.remove(node,_124,_125);if(_124=="onkeypress"){var kd=node.onkeydown;if(--kd._stealthKeydownRefs<=0){iel.remove(node,"onkeydown",kd._stealthKeydownHandle);delete kd._stealthKeydownHandle;}}},_normalizeEventName:function(_126){return _126.slice(0,2)!="on"?"on"+_126:_126;},_nop:function(){},_fixEvent:function(evt,_127){if(!evt){var w=_127&&(_127.ownerDocument||_127.document||_127).parentWindow||window;evt=w.event;}if(!evt){return (evt);}evt.target=evt.srcElement;evt.currentTarget=(_127||evt.srcElement);evt.layerX=evt.offsetX;evt.layerY=evt.offsetY;var se=evt.srcElement,doc=(se&&se.ownerDocument)||document;var _128=((dojo.isIE<6)||(doc["compatMode"]=="BackCompat"))?doc.body:doc.documentElement;var _129=dojo._getIeDocumentElementOffset();evt.pageX=evt.clientX+dojo._fixIeBiDiScrollLeft(_128.scrollLeft||0)-_129.x;evt.pageY=evt.clientY+(_128.scrollTop||0)-_129.y;if(evt.type=="mouseover"){evt.relatedTarget=evt.fromElement;}if(evt.type=="mouseout"){evt.relatedTarget=evt.toElement;}if(dojo.isIE<9||dojo.isQuirks){evt.stopPropagation=del._stopPropagation;evt.preventDefault=del._preventDefault;}return del._fixKeys(evt);},_fixKeys:function(evt){switch(evt.type){case "keypress":var c=("charCode" in evt?evt.charCode:evt.keyCode);if(c==10){c=0;evt.keyCode=13;}else{if(c==13||c==27){c=0;}else{if(c==3){c=99;}}}evt.charCode=c;del._setKeyChar(evt);break;}return evt;},_stealthKeyDown:function(evt){var kp=evt.currentTarget.onkeypress;if(!kp||!kp[_11c]){return;}var k=evt.keyCode;var _12a=(k!=13||(dojo.isIE>=9&&!dojo.isQuirks))&&k!=32&&k!=27&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222);if(_12a||evt.ctrlKey){var c=_12a?0:k;if(evt.ctrlKey){if(k==3||k==13){return;}else{if(c>95&&c<106){c-=48;}else{if((!evt.shiftKey)&&(c>=65&&c<=90)){c+=32;}else{c=del._punctMap[c]||c;}}}}var faux=del._synthesizeEvent(evt,{type:"keypress",faux:true,charCode:c});kp.call(evt.currentTarget,faux);if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){evt.cancelBubble=faux.cancelBubble;}evt.returnValue=faux.returnValue;_11b(evt,faux.keyCode);}},_stopPropagation:function(){this.cancelBubble=true;},_preventDefault:function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey){_11b(this,0);}this.returnValue=false;}});dojo.stopEvent=(dojo.isIE<9||dojo.isQuirks)?function(evt){evt=evt||window.event;del._stopPropagation.call(evt);del._preventDefault.call(evt);}:dojo.stopEvent;}del._synthesizeEvent=function(evt,_12b){var faux=dojo.mixin({},evt,_12b);del._setKeyChar(faux);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;};if(dojo.isOpera){dojo.mixin(del,{_fixEvent:function(evt,_12c){switch(evt.type){case "keypress":var c=evt.which;if(c==3){c=99;}c=c<41&&!evt.shiftKey?0:c;if(evt.ctrlKey&&!evt.shiftKey&&c>=65&&c<=90){c+=32;}return del._synthesizeEvent(evt,{charCode:c});}return evt;}});}if(dojo.isWebKit){del._add=del.add;del._remove=del.remove;dojo.mixin(del,{add:function(node,_12d,fp){if(!node){return;}var _12e=del._add(node,_12d,fp);if(del._normalizeEventName(_12d)=="keypress"){_12e._stealthKeyDownHandle=del._add(node,"keydown",function(evt){var k=evt.keyCode;var _12f=k!=13&&k!=32&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222);if(_12f||evt.ctrlKey){var c=_12f?0:k;if(evt.ctrlKey){if(k==3||k==13){return;}else{if(c>95&&c<106){c-=48;}else{if(!evt.shiftKey&&c>=65&&c<=90){c+=32;}else{c=del._punctMap[c]||c;}}}}var faux=del._synthesizeEvent(evt,{type:"keypress",faux:true,charCode:c});fp.call(evt.currentTarget,faux);}});}return _12e;},remove:function(node,_130,_131){if(node){if(_131._stealthKeyDownHandle){del._remove(node,"keydown",_131._stealthKeyDownHandle);}del._remove(node,_130,_131);}},_fixEvent:function(evt,_132){switch(evt.type){case "keypress":if(evt.faux){return evt;}var c=evt.charCode;c=c>=32?c:0;return del._synthesizeEvent(evt,{charCode:c,faux:true});}return evt;}});}})();if(dojo.isIE){dojo._ieDispatcher=function(args,_133){var ap=Array.prototype,h=dojo._ie_listener.handlers,c=args.callee,ls=c[dojo._ieListenersName],t=h[c.target];var r=t&&t.apply(_133,args);var lls=[].concat(ls);for(var i in lls){var f=h[lls[i]];if(!(i in ap)&&f){f.apply(_133,args);}}return r;};dojo._getIeDispatcher=function(){return new Function(dojo._scopeName+"._ieDispatcher(arguments, this)");};dojo._event_listener._fixCallback=function(fp){var f=dojo._event_listener._fixEvent;return function(e){return fp.call(this,f(e,this));};};}}if(!dojo._hasResource["dojo._base.html"]){dojo._hasResource["dojo._base.html"]=true;dojo.provide("dojo._base.html");try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}if(dojo.isIE||dojo.isOpera){dojo.byId=function(id,doc){if(typeof id!="string"){return id;}var _134=doc||dojo.doc,te=_134.getElementById(id);if(te&&(te.attributes.id.value==id||te.id==id)){return te;}else{var eles=_134.all[id];if(!eles||eles.nodeName){eles=[eles];}var i=0;while((te=eles[i++])){if((te.attributes&&te.attributes.id&&te.attributes.id.value==id)||te.id==id){return te;}}}};}else{dojo.byId=function(id,doc){return (typeof id=="string")?(doc||dojo.doc).getElementById(id):id;};}(function(){var d=dojo;var byId=d.byId;var _135=null,_136;d.addOnWindowUnload(function(){_135=null;});dojo._destroyElement=dojo.destroy=function(node){node=byId(node);try{var doc=node.ownerDocument;if(!_135||_136!=doc){_135=doc.createElement("div");_136=doc;}_135.appendChild(node.parentNode?node.parentNode.removeChild(node):node);_135.innerHTML="";}catch(e){}};dojo.isDescendant=function(node,_137){try{node=byId(node);_137=byId(_137);while(node){if(node==_137){return true;}node=node.parentNode;}}catch(e){}return false;};dojo.setSelectable=function(node,_138){node=byId(node);if(d.isMozilla){node.style.MozUserSelect=_138?"":"none";}else{if(d.isKhtml||d.isWebKit){node.style.KhtmlUserSelect=_138?"auto":"none";}else{if(d.isIE){var v=(node.unselectable=_138?"":"on");d.query("*",node).forEach("item.unselectable = '"+v+"'");}}}};var _139=function(node,ref){var _13a=ref.parentNode;if(_13a){_13a.insertBefore(node,ref);}};var _13b=function(node,ref){var _13c=ref.parentNode;if(_13c){if(_13c.lastChild==ref){_13c.appendChild(node);}else{_13c.insertBefore(node,ref.nextSibling);}}};dojo.place=function(node,_13d,_13e){_13d=byId(_13d);if(typeof node=="string"){node=node.charAt(0)=="<"?d._toDom(node,_13d.ownerDocument):byId(node);}if(typeof _13e=="number"){var cn=_13d.childNodes;if(!cn.length||cn.length<=_13e){_13d.appendChild(node);}else{_139(node,cn[_13e<0?0:_13e]);}}else{switch(_13e){case "before":_139(node,_13d);break;case "after":_13b(node,_13d);break;case "replace":_13d.parentNode.replaceChild(node,_13d);break;case "only":d.empty(_13d);_13d.appendChild(node);break;case "first":if(_13d.firstChild){_139(node,_13d.firstChild);break;}default:_13d.appendChild(node);}}return node;};dojo.boxModel="content-box";if(d.isIE){d.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box";}var gcs;if(d.isWebKit){gcs=function(node){var s;if(node.nodeType==1){var dv=node.ownerDocument.defaultView;s=dv.getComputedStyle(node,null);if(!s&&node.style){node.style.display="";s=dv.getComputedStyle(node,null);}}return s||{};};}else{if(d.isIE){gcs=function(node){return node.nodeType==1?node.currentStyle:{};};}else{gcs=function(node){return node.nodeType==1?node.ownerDocument.defaultView.getComputedStyle(node,null):{};};}}dojo.getComputedStyle=gcs;if(!d.isIE){d._toPixelValue=function(_13f,_140){return parseFloat(_140)||0;};}else{d._toPixelValue=function(_141,_142){if(!_142){return 0;}if(_142=="medium"){return 4;}if(_142.slice&&_142.slice(-2)=="px"){return parseFloat(_142);}with(_141){var _143=style.left;var _144=runtimeStyle.left;runtimeStyle.left=currentStyle.left;try{style.left=_142;_142=style.pixelLeft;}catch(e){_142=0;}style.left=_143;runtimeStyle.left=_144;}return _142;};}var px=d._toPixelValue;var astr="DXImageTransform.Microsoft.Alpha";var af=function(n,f){try{return n.filters.item(astr);}catch(e){return f?{}:null;}};dojo._getOpacity=d.isIE<9||(d.isIE&&d.isQuirks)?function(node){try{return af(node).Opacity/100;}catch(e){return 1;}}:function(node){return gcs(node).opacity;};dojo._setOpacity=d.isIE<9||(d.isIE&&d.isQuirks)?function(node,_145){var ov=_145*100;node.style.zoom=1;af(node,1).Enabled=!(_145==1);if(!af(node)){node.style.filter+=" progid:"+astr+"(Opacity="+ov+")";}else{af(node,1).Opacity=ov;}if(node.nodeName.toLowerCase()=="tr"){d.query("> td",node).forEach(function(i){d._setOpacity(i,_145);});}return _145;}:function(node,_146){return node.style.opacity=_146;};var _147={left:true,top:true};var _148=/margin|padding|width|height|max|min|offset/;var _149=function(node,type,_14a){type=type.toLowerCase();if(d.isIE){if(_14a=="auto"){if(type=="height"){return node.offsetHeight;}if(type=="width"){return node.offsetWidth;}}if(type=="fontweight"){switch(_14a){case 700:return "bold";case 400:default:return "normal";}}}if(!(type in _147)){_147[type]=_148.test(type);}return _147[type]?px(node,_14a):_14a;};var _14b=d.isIE?"styleFloat":"cssFloat",_14c={"cssFloat":_14b,"styleFloat":_14b,"float":_14b};dojo.style=function(node,_14d,_14e){var n=byId(node),args=arguments.length,op=(_14d=="opacity");_14d=_14c[_14d]||_14d;if(args==3){return op?d._setOpacity(n,_14e):n.style[_14d]=_14e;}if(args==2&&op){return d._getOpacity(n);}var s=gcs(n);if(args==2&&typeof _14d!="string"){for(var x in _14d){d.style(node,x,_14d[x]);}return s;}return (args==1)?s:_149(n,_14d,s[_14d]||n.style[_14d]);};dojo._getPadExtents=function(n,_14f){var s=_14f||gcs(n),l=px(n,s.paddingLeft),t=px(n,s.paddingTop);return {l:l,t:t,w:l+px(n,s.paddingRight),h:t+px(n,s.paddingBottom)};};dojo._getBorderExtents=function(n,_150){var ne="none",s=_150||gcs(n),bl=(s.borderLeftStyle!=ne?px(n,s.borderLeftWidth):0),bt=(s.borderTopStyle!=ne?px(n,s.borderTopWidth):0);return {l:bl,t:bt,w:bl+(s.borderRightStyle!=ne?px(n,s.borderRightWidth):0),h:bt+(s.borderBottomStyle!=ne?px(n,s.borderBottomWidth):0)};};dojo._getPadBorderExtents=function(n,_151){var s=_151||gcs(n),p=d._getPadExtents(n,s),b=d._getBorderExtents(n,s);return {l:p.l+b.l,t:p.t+b.t,w:p.w+b.w,h:p.h+b.h};};dojo._getMarginExtents=function(n,_152){var s=_152||gcs(n),l=px(n,s.marginLeft),t=px(n,s.marginTop),r=px(n,s.marginRight),b=px(n,s.marginBottom);if(d.isWebKit&&(s.position!="absolute")){r=l;}return {l:l,t:t,w:l+r,h:t+b};};dojo._getMarginBox=function(node,_153){var s=_153||gcs(node),me=d._getMarginExtents(node,s);var l=node.offsetLeft-me.l,t=node.offsetTop-me.t,p=node.parentNode;if(d.isMoz){var sl=parseFloat(s.left),st=parseFloat(s.top);if(!isNaN(sl)&&!isNaN(st)){l=sl,t=st;}else{if(p&&p.style){var pcs=gcs(p);if(pcs.overflow!="visible"){var be=d._getBorderExtents(p,pcs);l+=be.l,t+=be.t;}}}}else{if(d.isOpera||(d.isIE==8&&!d.isQuirks)){if(p){be=d._getBorderExtents(p);l-=be.l;t-=be.t;}}}return {l:l,t:t,w:node.offsetWidth+me.w,h:node.offsetHeight+me.h};};dojo._getContentBox=function(node,_154){var s=_154||gcs(node),pe=d._getPadExtents(node,s),be=d._getBorderExtents(node,s),w=node.clientWidth,h;if(!w){w=node.offsetWidth,h=node.offsetHeight;}else{h=node.clientHeight,be.w=be.h=0;}if(d.isOpera){pe.l+=be.l;pe.t+=be.t;}return {l:pe.l,t:pe.t,w:w-pe.w-be.w,h:h-pe.h-be.h};};dojo._getBorderBox=function(node,_155){var s=_155||gcs(node),pe=d._getPadExtents(node,s),cb=d._getContentBox(node,s);return {l:cb.l-pe.l,t:cb.t-pe.t,w:cb.w+pe.w,h:cb.h+pe.h};};dojo._setBox=function(node,l,t,w,h,u){u=u||"px";var s=node.style;if(!isNaN(l)){s.left=l+u;}if(!isNaN(t)){s.top=t+u;}if(w>=0){s.width=w+u;}if(h>=0){s.height=h+u;}};dojo._isButtonTag=function(node){return node.tagName=="BUTTON"||node.tagName=="INPUT"&&(node.getAttribute("type")||"").toUpperCase()=="BUTTON";};dojo._usesBorderBox=function(node){var n=node.tagName;return d.boxModel=="border-box"||n=="TABLE"||d._isButtonTag(node);};dojo._setContentSize=function(node,_156,_157,_158){if(d._usesBorderBox(node)){var pb=d._getPadBorderExtents(node,_158);if(_156>=0){_156+=pb.w;}if(_157>=0){_157+=pb.h;}}d._setBox(node,NaN,NaN,_156,_157);};dojo._setMarginBox=function(node,_159,_15a,_15b,_15c,_15d){var s=_15d||gcs(node),bb=d._usesBorderBox(node),pb=bb?_15e:d._getPadBorderExtents(node,s);if(d.isWebKit){if(d._isButtonTag(node)){var ns=node.style;if(_15b>=0&&!ns.width){ns.width="4px";}if(_15c>=0&&!ns.height){ns.height="4px";}}}var mb=d._getMarginExtents(node,s);if(_15b>=0){_15b=Math.max(_15b-pb.w-mb.w,0);}if(_15c>=0){_15c=Math.max(_15c-pb.h-mb.h,0);}d._setBox(node,_159,_15a,_15b,_15c);};var _15e={l:0,t:0,w:0,h:0};dojo.marginBox=function(node,box){var n=byId(node),s=gcs(n),b=box;return !b?d._getMarginBox(n,s):d._setMarginBox(n,b.l,b.t,b.w,b.h,s);};dojo.contentBox=function(node,box){var n=byId(node),s=gcs(n),b=box;return !b?d._getContentBox(n,s):d._setContentSize(n,b.w,b.h,s);};var _15f=function(node,prop){if(!(node=(node||0).parentNode)){return 0;}var val,_160=0,_161=d.body();while(node&&node.style){if(gcs(node).position=="fixed"){return 0;}val=node[prop];if(val){_160+=val-0;if(node==_161){break;}}node=node.parentNode;}return _160;};dojo._docScroll=function(){var n=d.global;return "pageXOffset" in n?{x:n.pageXOffset,y:n.pageYOffset}:(n=d.doc.documentElement,n.clientHeight?{x:d._fixIeBiDiScrollLeft(n.scrollLeft),y:n.scrollTop}:(n=d.body(),{x:n.scrollLeft||0,y:n.scrollTop||0}));};dojo._isBodyLtr=function(){return "_bodyLtr" in d?d._bodyLtr:d._bodyLtr=(d.body().dir||d.doc.documentElement.dir||"ltr").toLowerCase()=="ltr";};dojo._getIeDocumentElementOffset=function(){var de=d.doc.documentElement;if(d.isIE<8){var r=de.getBoundingClientRect();var l=r.left,t=r.top;if(d.isIE<7){l+=de.clientLeft;t+=de.clientTop;}return {x:l<0?0:l,y:t<0?0:t};}else{return {x:0,y:0};}};dojo._fixIeBiDiScrollLeft=function(_162){var dd=d.doc;if(d.isIE<8&&!d._isBodyLtr()){var de=d.isQuirks?dd.body:dd.documentElement;return _162+de.clientWidth-de.scrollWidth;}return _162;};dojo._abs=dojo.position=function(node,_163){var db=d.body(),dh=db.parentNode,ret;node=byId(node);if(node["getBoundingClientRect"]){ret=node.getBoundingClientRect();ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};if(d.isIE){var _164=d._getIeDocumentElementOffset();ret.x-=_164.x+(d.isQuirks?db.clientLeft+db.offsetLeft:0);ret.y-=_164.y+(d.isQuirks?db.clientTop+db.offsetTop:0);}else{if(d.isFF==3){var cs=gcs(dh);ret.x-=px(dh,cs.marginLeft)+px(dh,cs.borderLeftWidth);ret.y-=px(dh,cs.marginTop)+px(dh,cs.borderTopWidth);}}}else{ret={x:0,y:0,w:node.offsetWidth,h:node.offsetHeight};if(node["offsetParent"]){ret.x-=_15f(node,"scrollLeft");ret.y-=_15f(node,"scrollTop");var _165=node;do{var n=_165.offsetLeft,t=_165.offsetTop;ret.x+=isNaN(n)?0:n;ret.y+=isNaN(t)?0:t;cs=gcs(_165);if(_165!=node){if(d.isMoz){ret.x+=2*px(_165,cs.borderLeftWidth);ret.y+=2*px(_165,cs.borderTopWidth);}else{ret.x+=px(_165,cs.borderLeftWidth);ret.y+=px(_165,cs.borderTopWidth);}}if(d.isMoz&&cs.position=="static"){var _166=_165.parentNode;while(_166!=_165.offsetParent){var pcs=gcs(_166);if(pcs.position=="static"){ret.x+=px(_165,pcs.borderLeftWidth);ret.y+=px(_165,pcs.borderTopWidth);}_166=_166.parentNode;}}_165=_165.offsetParent;}while((_165!=dh)&&_165);}else{if(node.x&&node.y){ret.x+=isNaN(node.x)?0:node.x;ret.y+=isNaN(node.y)?0:node.y;}}}if(_163){var _167=d._docScroll();ret.x+=_167.x;ret.y+=_167.y;}return ret;};dojo.coords=function(node,_168){var n=byId(node),s=gcs(n),mb=d._getMarginBox(n,s);var abs=d.position(n,_168);mb.x=abs.x;mb.y=abs.y;return mb;};var _169={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"},_16a={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"},_16b={innerHTML:1,className:1,htmlFor:d.isIE,value:1};var _16c=function(name){return _16a[name.toLowerCase()]||name;};var _16d=function(node,name){var attr=node.getAttributeNode&&node.getAttributeNode(name);return attr&&attr.specified;};dojo.hasAttr=function(node,name){var lc=name.toLowerCase();return _16b[_169[lc]||name]||_16d(byId(node),_16a[lc]||name);};var _16e={},_16f=0,_170=dojo._scopeName+"attrid",_171={col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1};dojo.attr=function(node,name,_172){node=byId(node);var args=arguments.length,prop;if(args==2&&typeof name!="string"){for(var x in name){d.attr(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_173=_169[lc]||name,_174=_16b[_173],_175=_16a[lc]||name;if(args==3){do{if(_173=="style"&&typeof _172!="string"){d.style(node,_172);break;}if(_173=="innerHTML"){if(d.isIE&&node.tagName.toLowerCase() in _171){d.empty(node);node.appendChild(d._toDom(_172,node.ownerDocument));}else{node[_173]=_172;}break;}if(d.isFunction(_172)){var _176=d.attr(node,_170);if(!_176){_176=_16f++;d.attr(node,_170,_176);}if(!_16e[_176]){_16e[_176]={};}var h=_16e[_176][_173];if(h){d.disconnect(h);}else{try{delete node[_173];}catch(e){}}_16e[_176][_173]=d.connect(node,_173,_172);break;}if(_174||typeof _172=="boolean"){node[_173]=_172;break;}node.setAttribute(_175,_172);}while(false);return node;}_172=node[_173];if(_174&&typeof _172!="undefined"){return _172;}if(_173!="href"&&(typeof _172=="boolean"||d.isFunction(_172))){return _172;}return _16d(node,_175)?node.getAttribute(_175):null;};dojo.removeAttr=function(node,name){byId(node).removeAttribute(_16c(name));};dojo.getNodeProp=function(node,name){node=byId(node);var lc=name.toLowerCase(),_177=_169[lc]||name;if((_177 in node)&&_177!="href"){return node[_177];}var _178=_16a[lc]||name;return _16d(node,_178)?node.getAttribute(_178):null;};dojo.create=function(tag,_179,_17a,pos){var doc=d.doc;if(_17a){_17a=byId(_17a);doc=_17a.ownerDocument;}if(typeof tag=="string"){tag=doc.createElement(tag);}if(_179){d.attr(tag,_179);}if(_17a){d.place(tag,_17a,pos);}return tag;};d.empty=d.isIE?function(node){node=byId(node);for(var c;c=node.lastChild;){d.destroy(c);}}:function(node){byId(node).innerHTML="";};var _17b={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},_17c=/<\s*([\w\:]+)/,_17d={},_17e=0,_17f="__"+d._scopeName+"ToDomId";for(var _180 in _17b){var tw=_17b[_180];tw.pre=_180=="option"?"<select multiple=\"multiple\">":"<"+tw.join("><")+">";tw.post="</"+tw.reverse().join("></")+">";}d._toDom=function(frag,doc){doc=doc||d.doc;var _181=doc[_17f];if(!_181){doc[_17f]=_181=++_17e+"";_17d[_181]=doc.createElement("div");}frag+="";var _182=frag.match(_17c),tag=_182?_182[1].toLowerCase():"",_183=_17d[_181],wrap,i,fc,df;if(_182&&_17b[tag]){wrap=_17b[tag];_183.innerHTML=wrap.pre+frag+wrap.post;for(i=wrap.length;i;--i){_183=_183.firstChild;}}else{_183.innerHTML=frag;}if(_183.childNodes.length==1){return _183.removeChild(_183.firstChild);}df=doc.createDocumentFragment();while(fc=_183.firstChild){df.appendChild(fc);}return df;};var _184="className";dojo.hasClass=function(node,_185){return ((" "+byId(node)[_184]+" ").indexOf(" "+_185+" ")>=0);};var _186=/\s+/,a1=[""],_187=function(s){if(typeof s=="string"||s instanceof String){if(s.indexOf(" ")<0){a1[0]=s;return a1;}else{return s.split(_186);}}return s;};dojo.addClass=function(node,_188){node=byId(node);_188=_187(_188);var cls=" "+node[_184]+" ";for(var i=0,len=_188.length,c;i<len;++i){c=_188[i];if(c&&cls.indexOf(" "+c+" ")<0){cls+=c+" ";}}node[_184]=d.trim(cls);};dojo.removeClass=function(node,_189){node=byId(node);var cls;if(_189!==undefined){_189=_187(_189);cls=" "+node[_184]+" ";for(var i=0,len=_189.length;i<len;++i){cls=cls.replace(" "+_189[i]+" "," ");}cls=d.trim(cls);}else{cls="";}if(node[_184]!=cls){node[_184]=cls;}};dojo.toggleClass=function(node,_18a,_18b){if(_18b===undefined){_18b=!d.hasClass(node,_18a);}d[_18b?"addClass":"removeClass"](node,_18a);};})();}if(!dojo._hasResource["dojo._base.NodeList"]){dojo._hasResource["dojo._base.NodeList"]=true;dojo.provide("dojo._base.NodeList");(function(){var d=dojo;var ap=Array.prototype,aps=ap.slice,apc=ap.concat;var tnl=function(a,_18c,_18d){if(!a.sort){a=aps.call(a,0);}var ctor=_18d||this._NodeListCtor||d._NodeListCtor;a.constructor=ctor;dojo._mixin(a,ctor.prototype);a._NodeListCtor=ctor;return _18c?a._stash(_18c):a;};var _18e=function(f,a,o){a=[0].concat(aps.call(a,0));o=o||d.global;return function(node){a[0]=node;return f.apply(o,a);};};var _18f=function(f,o){return function(){this.forEach(_18e(f,arguments,o));return this;};};var _190=function(f,o){return function(){return this.map(_18e(f,arguments,o));};};var _191=function(f,o){return function(){return this.filter(_18e(f,arguments,o));};};var _192=function(f,g,o){return function(){var a=arguments,body=_18e(f,a,o);if(g.call(o||d.global,a)){return this.map(body);}this.forEach(body);return this;};};var _193=function(a){return a.length==1&&(typeof a[0]=="string");};var _194=function(node){var p=node.parentNode;if(p){p.removeChild(node);}};dojo.NodeList=function(){return tnl(Array.apply(null,arguments));};d._NodeListCtor=d.NodeList;var nl=d.NodeList,nlp=nl.prototype;nl._wrap=nlp._wrap=tnl;nl._adaptAsMap=_190;nl._adaptAsForEach=_18f;nl._adaptAsFilter=_191;nl._adaptWithCondition=_192;d.forEach(["slice","splice"],function(name){var f=ap[name];nlp[name]=function(){return this._wrap(f.apply(this,arguments),name=="slice"?this:null);};});d.forEach(["indexOf","lastIndexOf","every","some"],function(name){var f=d[name];nlp[name]=function(){return f.apply(d,[this].concat(aps.call(arguments,0)));};});d.forEach(["attr","style"],function(name){nlp[name]=_192(d[name],_193);});d.forEach(["connect","addClass","removeClass","toggleClass","empty","removeAttr"],function(name){nlp[name]=_18f(d[name]);});dojo.extend(dojo.NodeList,{_normalize:function(_195,_196){var _197=_195.parse===true?true:false;if(typeof _195.template=="string"){var _198=_195.templateFunc||(dojo.string&&dojo.string.substitute);_195=_198?_198(_195.template,_195):_195;}var type=(typeof _195);if(type=="string"||type=="number"){_195=dojo._toDom(_195,(_196&&_196.ownerDocument));if(_195.nodeType==11){_195=dojo._toArray(_195.childNodes);}else{_195=[_195];}}else{if(!dojo.isArrayLike(_195)){_195=[_195];}else{if(!dojo.isArray(_195)){_195=dojo._toArray(_195);}}}if(_197){_195._runParse=true;}return _195;},_cloneNode:function(node){return node.cloneNode(true);},_place:function(ary,_199,_19a,_19b){if(_199.nodeType!=1&&_19a=="only"){return;}var _19c=_199,_19d;var _19e=ary.length;for(var i=_19e-1;i>=0;i--){var node=(_19b?this._cloneNode(ary[i]):ary[i]);if(ary._runParse&&dojo.parser&&dojo.parser.parse){if(!_19d){_19d=_19c.ownerDocument.createElement("div");}_19d.appendChild(node);dojo.parser.parse(_19d);node=_19d.firstChild;while(_19d.firstChild){_19d.removeChild(_19d.firstChild);}}if(i==_19e-1){dojo.place(node,_19c,_19a);}else{_19c.parentNode.insertBefore(node,_19c);}_19c=node;}},_stash:function(_19f){this._parent=_19f;return this;},end:function(){if(this._parent){return this._parent;}else{return new this._NodeListCtor();}},concat:function(item){var t=d.isArray(this)?this:aps.call(this,0),m=d.map(arguments,function(a){return a&&!d.isArray(a)&&(typeof NodeList!="undefined"&&a.constructor===NodeList||a.constructor===this._NodeListCtor)?aps.call(a,0):a;});return this._wrap(apc.apply(t,m),this);},map:function(func,obj){return this._wrap(d.map(this,func,obj),this);},forEach:function(_1a0,_1a1){d.forEach(this,_1a0,_1a1);return this;},coords:_190(d.coords),position:_190(d.position),place:function(_1a2,_1a3){var item=d.query(_1a2)[0];return this.forEach(function(node){d.place(node,item,_1a3);});},orphan:function(_1a4){return (_1a4?d._filterQueryResult(this,_1a4):this).forEach(_194);},adopt:function(_1a5,_1a6){return d.query(_1a5).place(this[0],_1a6)._stash(this);},query:function(_1a7){if(!_1a7){return this;}var ret=this.map(function(node){return d.query(_1a7,node).filter(function(_1a8){return _1a8!==undefined;});});return this._wrap(apc.apply([],ret),this);},filter:function(_1a9){var a=arguments,_1aa=this,_1ab=0;if(typeof _1a9=="string"){_1aa=d._filterQueryResult(this,a[0]);if(a.length==1){return _1aa._stash(this);}_1ab=1;}return this._wrap(d.filter(_1aa,a[_1ab],a[_1ab+1]),this);},addContent:function(_1ac,_1ad){_1ac=this._normalize(_1ac,this[0]);for(var i=0,node;node=this[i];i++){this._place(_1ac,node,_1ad,i>0);}return this;},instantiate:function(_1ae,_1af){var c=d.isFunction(_1ae)?_1ae:d.getObject(_1ae);_1af=_1af||{};return this.forEach(function(node){new c(_1af,node);});},at:function(){var t=new this._NodeListCtor();d.forEach(arguments,function(i){if(this[i]){t.push(this[i]);}},this);return t._stash(this);}});nl.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"];d.forEach(nl.events,function(evt){var _1b0="on"+evt;nlp[_1b0]=function(a,b){return this.connect(_1b0,a,b);};});})();}if(!dojo._hasResource["dojo._base.query"]){dojo._hasResource["dojo._base.query"]=true;if(typeof dojo!="undefined"){dojo.provide("dojo._base.query");}(function(d){var trim=d.trim;var each=d.forEach;var qlc=d._NodeListCtor=d.NodeList;var _1b1=function(){return d.doc;};var _1b2=((d.isWebKit||d.isMozilla)&&((_1b1().compatMode)=="BackCompat"));var _1b3=">~+";var _1b4=false;var _1b5=function(){return true;};var _1b6=function(_1b7){if(_1b3.indexOf(_1b7.slice(-1))>=0){_1b7+=" * ";}else{_1b7+=" ";}var ts=function(s,e){return trim(_1b7.slice(s,e));};var _1b8=[];var _1b9=-1,_1ba=-1,_1bb=-1,_1bc=-1,_1bd=-1,inId=-1,_1be=-1,lc="",cc="",_1bf;var x=0,ql=_1b7.length,_1c0=null,_1c1=null;var _1c2=function(){if(_1be>=0){var tv=(_1be==x)?null:ts(_1be,x);_1c0[(_1b3.indexOf(tv)<0)?"tag":"oper"]=tv;_1be=-1;}};var _1c3=function(){if(inId>=0){_1c0.id=ts(inId,x).replace(/\\/g,"");inId=-1;}};var _1c4=function(){if(_1bd>=0){_1c0.classes.push(ts(_1bd+1,x).replace(/\\/g,""));_1bd=-1;}};var _1c5=function(){_1c3();_1c2();_1c4();};var _1c6=function(){_1c5();if(_1bc>=0){_1c0.pseudos.push({name:ts(_1bc+1,x)});}_1c0.loops=(_1c0.pseudos.length||_1c0.attrs.length||_1c0.classes.length);_1c0.oquery=_1c0.query=ts(_1bf,x);_1c0.otag=_1c0.tag=(_1c0["oper"])?null:(_1c0.tag||"*");if(_1c0.tag){_1c0.tag=_1c0.tag.toUpperCase();}if(_1b8.length&&(_1b8[_1b8.length-1].oper)){_1c0.infixOper=_1b8.pop();_1c0.query=_1c0.infixOper.query+" "+_1c0.query;}_1b8.push(_1c0);_1c0=null;};for(;lc=cc,cc=_1b7.charAt(x),x<ql;x++){if(lc=="\\"){continue;}if(!_1c0){_1bf=x;_1c0={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return (_1b4)?this.otag:this.tag;}};_1be=x;}if(_1b9>=0){if(cc=="]"){if(!_1c1.attr){_1c1.attr=ts(_1b9+1,x);}else{_1c1.matchFor=ts((_1bb||_1b9+1),x);}var cmf=_1c1.matchFor;if(cmf){if((cmf.charAt(0)=="\"")||(cmf.charAt(0)=="'")){_1c1.matchFor=cmf.slice(1,-1);}}_1c0.attrs.push(_1c1);_1c1=null;_1b9=_1bb=-1;}else{if(cc=="="){var _1c7=("|~^$*".indexOf(lc)>=0)?lc:"";_1c1.type=_1c7+cc;_1c1.attr=ts(_1b9+1,x-_1c7.length);_1bb=x+1;}}}else{if(_1ba>=0){if(cc==")"){if(_1bc>=0){_1c1.value=ts(_1ba+1,x);}_1bc=_1ba=-1;}}else{if(cc=="#"){_1c5();inId=x+1;}else{if(cc=="."){_1c5();_1bd=x;}else{if(cc==":"){_1c5();_1bc=x;}else{if(cc=="["){_1c5();_1b9=x;_1c1={};}else{if(cc=="("){if(_1bc>=0){_1c1={name:ts(_1bc+1,x),value:null};_1c0.pseudos.push(_1c1);}_1ba=x;}else{if((cc==" ")&&(lc!=cc)){_1c6();}}}}}}}}}return _1b8;};var _1c8=function(_1c9,_1ca){if(!_1c9){return _1ca;}if(!_1ca){return _1c9;}return function(){return _1c9.apply(window,arguments)&&_1ca.apply(window,arguments);};};var _1cb=function(i,arr){var r=arr||[];if(i){r.push(i);}return r;};var _1cc=function(n){return (1==n.nodeType);};var _1cd="";var _1ce=function(elem,attr){if(!elem){return _1cd;}if(attr=="class"){return elem.className||_1cd;}if(attr=="for"){return elem.htmlFor||_1cd;}if(attr=="style"){return elem.style.cssText||_1cd;}return (_1b4?elem.getAttribute(attr):elem.getAttribute(attr,2))||_1cd;};var _1cf={"*=":function(attr,_1d0){return function(elem){return (_1ce(elem,attr).indexOf(_1d0)>=0);};},"^=":function(attr,_1d1){return function(elem){return (_1ce(elem,attr).indexOf(_1d1)==0);};},"$=":function(attr,_1d2){var tval=" "+_1d2;return function(elem){var ea=" "+_1ce(elem,attr);return (ea.lastIndexOf(_1d2)==(ea.length-_1d2.length));};},"~=":function(attr,_1d3){var tval=" "+_1d3+" ";return function(elem){var ea=" "+_1ce(elem,attr)+" ";return (ea.indexOf(tval)>=0);};},"|=":function(attr,_1d4){var _1d5=" "+_1d4+"-";return function(elem){var ea=" "+_1ce(elem,attr);return ((ea==_1d4)||(ea.indexOf(_1d5)==0));};},"=":function(attr,_1d6){return function(elem){return (_1ce(elem,attr)==_1d6);};}};var _1d7=(typeof _1b1().firstChild.nextElementSibling=="undefined");var _1d8=!_1d7?"nextElementSibling":"nextSibling";var _1d9=!_1d7?"previousElementSibling":"previousSibling";var _1da=(_1d7?_1cc:_1b5);var _1db=function(node){while(node=node[_1d9]){if(_1da(node)){return false;}}return true;};var _1dc=function(node){while(node=node[_1d8]){if(_1da(node)){return false;}}return true;};var _1dd=function(node){var root=node.parentNode;var i=0,tret=root.children||root.childNodes,ci=(node["_i"]||-1),cl=(root["_l"]||-1);if(!tret){return -1;}var l=tret.length;if(cl==l&&ci>=0&&cl>=0){return ci;}root["_l"]=l;ci=-1;for(var te=root["firstElementChild"]||root["firstChild"];te;te=te[_1d8]){if(_1da(te)){te["_i"]=++i;if(node===te){ci=i;}}}return ci;};var _1de=function(elem){return !((_1dd(elem))%2);};var _1df=function(elem){return ((_1dd(elem))%2);};var _1e0={"checked":function(name,_1e1){return function(elem){return !!("checked" in elem?elem.checked:elem.selected);};},"first-child":function(){return _1db;},"last-child":function(){return _1dc;},"only-child":function(name,_1e2){return function(node){if(!_1db(node)){return false;}if(!_1dc(node)){return false;}return true;};},"empty":function(name,_1e3){return function(elem){var cn=elem.childNodes;var cnl=elem.childNodes.length;for(var x=cnl-1;x>=0;x--){var nt=cn[x].nodeType;if((nt===1)||(nt==3)){return false;}}return true;};},"contains":function(name,_1e4){var cz=_1e4.charAt(0);if(cz=="\""||cz=="'"){_1e4=_1e4.slice(1,-1);}return function(elem){return (elem.innerHTML.indexOf(_1e4)>=0);};},"not":function(name,_1e5){var p=_1b6(_1e5)[0];var _1e6={el:1};if(p.tag!="*"){_1e6.tag=1;}if(!p.classes.length){_1e6.classes=1;}var ntf=_1e7(p,_1e6);return function(elem){return (!ntf(elem));};},"nth-child":function(name,_1e8){var pi=parseInt;if(_1e8=="odd"){return _1df;}else{if(_1e8=="even"){return _1de;}}if(_1e8.indexOf("n")!=-1){var _1e9=_1e8.split("n",2);var pred=_1e9[0]?((_1e9[0]=="-")?-1:pi(_1e9[0])):1;var idx=_1e9[1]?pi(_1e9[1]):0;var lb=0,ub=-1;if(pred>0){if(idx<0){idx=(idx%pred)&&(pred+(idx%pred));}else{if(idx>0){if(idx>=pred){lb=idx-idx%pred;}idx=idx%pred;}}}else{if(pred<0){pred*=-1;if(idx>0){ub=idx;idx=idx%pred;}}}if(pred>0){return function(elem){var i=_1dd(elem);return (i>=lb)&&(ub<0||i<=ub)&&((i%pred)==idx);};}else{_1e8=idx;}}var _1ea=pi(_1e8);return function(elem){return (_1dd(elem)==_1ea);};}};var _1eb=(d.isIE<9||(dojo.isIE&&dojo.isQuirks))?function(cond){var clc=cond.toLowerCase();if(clc=="class"){cond="className";}return function(elem){return (_1b4?elem.getAttribute(cond):elem[cond]||elem[clc]);};}:function(cond){return function(elem){return (elem&&elem.getAttribute&&elem.hasAttribute(cond));};};var _1e7=function(_1ec,_1ed){if(!_1ec){return _1b5;}_1ed=_1ed||{};var ff=null;if(!("el" in _1ed)){ff=_1c8(ff,_1cc);}if(!("tag" in _1ed)){if(_1ec.tag!="*"){ff=_1c8(ff,function(elem){return (elem&&(elem.tagName==_1ec.getTag()));});}}if(!("classes" in _1ed)){each(_1ec.classes,function(_1ee,idx,arr){var re=new RegExp("(?:^|\\s)"+_1ee+"(?:\\s|$)");ff=_1c8(ff,function(elem){return re.test(elem.className);});ff.count=idx;});}if(!("pseudos" in _1ed)){each(_1ec.pseudos,function(_1ef){var pn=_1ef.name;if(_1e0[pn]){ff=_1c8(ff,_1e0[pn](pn,_1ef.value));}});}if(!("attrs" in _1ed)){each(_1ec.attrs,function(attr){var _1f0;var a=attr.attr;if(attr.type&&_1cf[attr.type]){_1f0=_1cf[attr.type](a,attr.matchFor);}else{if(a.length){_1f0=_1eb(a);}}if(_1f0){ff=_1c8(ff,_1f0);}});}if(!("id" in _1ed)){if(_1ec.id){ff=_1c8(ff,function(elem){return (!!elem&&(elem.id==_1ec.id));});}}if(!ff){if(!("default" in _1ed)){ff=_1b5;}}return ff;};var _1f1=function(_1f2){return function(node,ret,bag){while(node=node[_1d8]){if(_1d7&&(!_1cc(node))){continue;}if((!bag||_1f3(node,bag))&&_1f2(node)){ret.push(node);}break;}return ret;};};var _1f4=function(_1f5){return function(root,ret,bag){var te=root[_1d8];while(te){if(_1da(te)){if(bag&&!_1f3(te,bag)){break;}if(_1f5(te)){ret.push(te);}}te=te[_1d8];}return ret;};};var _1f6=function(_1f7){_1f7=_1f7||_1b5;return function(root,ret,bag){var te,x=0,tret=root.children||root.childNodes;while(te=tret[x++]){if(_1da(te)&&(!bag||_1f3(te,bag))&&(_1f7(te,x))){ret.push(te);}}return ret;};};var _1f8=function(node,root){var pn=node.parentNode;while(pn){if(pn==root){break;}pn=pn.parentNode;}return !!pn;};var _1f9={};var _1fa=function(_1fb){var _1fc=_1f9[_1fb.query];if(_1fc){return _1fc;}var io=_1fb.infixOper;var oper=(io?io.oper:"");var _1fd=_1e7(_1fb,{el:1});var qt=_1fb.tag;var _1fe=("*"==qt);var ecs=_1b1()["getElementsByClassName"];if(!oper){if(_1fb.id){_1fd=(!_1fb.loops&&_1fe)?_1b5:_1e7(_1fb,{el:1,id:1});_1fc=function(root,arr){var te=d.byId(_1fb.id,(root.ownerDocument||root));if(!te||!_1fd(te)){return;}if(9==root.nodeType){return _1cb(te,arr);}else{if(_1f8(te,root)){return _1cb(te,arr);}}};}else{if(ecs&&/\{\s*\[native code\]\s*\}/.test(String(ecs))&&_1fb.classes.length&&!_1b2){_1fd=_1e7(_1fb,{el:1,classes:1,id:1});var _1ff=_1fb.classes.join(" ");_1fc=function(root,arr,bag){var ret=_1cb(0,arr),te,x=0;var tret=root.getElementsByClassName(_1ff);while((te=tret[x++])){if(_1fd(te,root)&&_1f3(te,bag)){ret.push(te);}}return ret;};}else{if(!_1fe&&!_1fb.loops){_1fc=function(root,arr,bag){var ret=_1cb(0,arr),te,x=0;var tret=root.getElementsByTagName(_1fb.getTag());while((te=tret[x++])){if(_1f3(te,bag)){ret.push(te);}}return ret;};}else{_1fd=_1e7(_1fb,{el:1,tag:1,id:1});_1fc=function(root,arr,bag){var ret=_1cb(0,arr),te,x=0;var tret=root.getElementsByTagName(_1fb.getTag());while((te=tret[x++])){if(_1fd(te,root)&&_1f3(te,bag)){ret.push(te);}}return ret;};}}}}else{var _200={el:1};if(_1fe){_200.tag=1;}_1fd=_1e7(_1fb,_200);if("+"==oper){_1fc=_1f1(_1fd);}else{if("~"==oper){_1fc=_1f4(_1fd);}else{if(">"==oper){_1fc=_1f6(_1fd);}}}}return _1f9[_1fb.query]=_1fc;};var _201=function(root,_202){var _203=_1cb(root),qp,x,te,qpl=_202.length,bag,ret;for(var i=0;i<qpl;i++){ret=[];qp=_202[i];x=_203.length-1;if(x>0){bag={};ret.nozip=true;}var gef=_1fa(qp);for(var j=0;(te=_203[j]);j++){gef(te,ret,bag);}if(!ret.length){break;}_203=ret;}return ret;};var _204={},_205={};var _206=function(_207){var _208=_1b6(trim(_207));if(_208.length==1){var tef=_1fa(_208[0]);return function(root){var r=tef(root,new qlc());if(r){r.nozip=true;}return r;};}return function(root){return _201(root,_208);};};var nua=navigator.userAgent;var wk="WebKit/";var _209=(d.isWebKit&&(nua.indexOf(wk)>0)&&(parseFloat(nua.split(wk)[1])>528));var _20a=d.isIE?"commentStrip":"nozip";var qsa="querySelectorAll";var _20b=(!!_1b1()[qsa]&&(!d.isSafari||(d.isSafari>3.1)||_209));var _20c=/n\+\d|([^ ])?([>~+])([^ =])?/g;var _20d=function(_20e,pre,ch,post){return ch?(pre?pre+" ":"")+ch+(post?" "+post:""):_20e;};var _20f=function(_210,_211){_210=_210.replace(_20c,_20d);if(_20b){var _212=_205[_210];if(_212&&!_211){return _212;}}var _213=_204[_210];if(_213){return _213;}var qcz=_210.charAt(0);var _214=(-1==_210.indexOf(" "));if((_210.indexOf("#")>=0)&&(_214)){_211=true;}var _215=(_20b&&(!_211)&&(_1b3.indexOf(qcz)==-1)&&(!d.isIE||(_210.indexOf(":")==-1))&&(!(_1b2&&(_210.indexOf(".")>=0)))&&(_210.indexOf(":contains")==-1)&&(_210.indexOf(":checked")==-1)&&(_210.indexOf("|=")==-1));if(_215){var tq=(_1b3.indexOf(_210.charAt(_210.length-1))>=0)?(_210+" *"):_210;return _205[_210]=function(root){try{if(!((9==root.nodeType)||_214)){throw "";}var r=root[qsa](tq);r[_20a]=true;return r;}catch(e){return _20f(_210,true)(root);}};}else{var _216=_210.split(/\s*,\s*/);return _204[_210]=((_216.length<2)?_206(_210):function(root){var _217=0,ret=[],tp;while((tp=_216[_217++])){ret=ret.concat(_206(tp)(root));}return ret;});}};var _218=0;var _219=d.isIE?function(node){if(_1b4){return (node.getAttribute("_uid")||node.setAttribute("_uid",++_218)||_218);}else{return node.uniqueID;}}:function(node){return (node._uid||(node._uid=++_218));};var _1f3=function(node,bag){if(!bag){return 1;}var id=_219(node);if(!bag[id]){return bag[id]=1;}return 0;};var _21a="_zipIdx";var _21b=function(arr){if(arr&&arr.nozip){return (qlc._wrap)?qlc._wrap(arr):arr;}var ret=new qlc();if(!arr||!arr.length){return ret;}if(arr[0]){ret.push(arr[0]);}if(arr.length<2){return ret;}_218++;if(d.isIE&&_1b4){var _21c=_218+"";arr[0].setAttribute(_21a,_21c);for(var x=1,te;te=arr[x];x++){if(arr[x].getAttribute(_21a)!=_21c){ret.push(te);}te.setAttribute(_21a,_21c);}}else{if(d.isIE&&arr.commentStrip){try{for(var x=1,te;te=arr[x];x++){if(_1cc(te)){ret.push(te);}}}catch(e){}}else{if(arr[0]){arr[0][_21a]=_218;}for(var x=1,te;te=arr[x];x++){if(arr[x][_21a]!=_218){ret.push(te);}te[_21a]=_218;}}}return ret;};d.query=function(_21d,root){qlc=d._NodeListCtor;if(!_21d){return new qlc();}if(_21d.constructor==qlc){return _21d;}if(typeof _21d!="string"){return new qlc(_21d);}if(typeof root=="string"){root=d.byId(root);if(!root){return new qlc();}}root=root||_1b1();var od=root.ownerDocument||root.documentElement;_1b4=(root.contentType&&root.contentType=="application/xml")||(d.isOpera&&(root.doctype||od.toString()=="[object XMLDocument]"))||(!!od)&&(d.isIE?od.xml:(root.xmlVersion||od.xmlVersion));var r=_20f(_21d)(root);if(r&&r.nozip&&!qlc._wrap){return r;}return _21b(r);};d.query.pseudos=_1e0;d._filterQueryResult=function(_21e,_21f){var _220=new d._NodeListCtor();var _221=_1e7(_1b6(_21f)[0]);for(var x=0,te;te=_21e[x];x++){if(_221(te)){_220.push(te);}}return _220;};})(this["queryPortability"]||this["acme"]||dojo);}if(!dojo._hasResource["dojo._base.xhr"]){dojo._hasResource["dojo._base.xhr"]=true;dojo.provide("dojo._base.xhr");(function(){var _222=dojo,cfg=_222.config;function setValue(obj,name,_223){if(_223===null){return;}var val=obj[name];if(typeof val=="string"){obj[name]=[val,_223];}else{if(_222.isArray(val)){val.push(_223);}else{obj[name]=_223;}}};dojo.fieldToObject=function(_224){var ret=null;var item=_222.byId(_224);if(item){var _225=item.name;var type=(item.type||"").toLowerCase();if(_225&&type&&!item.disabled){if(type=="radio"||type=="checkbox"){if(item.checked){ret=item.value;}}else{if(item.multiple){ret=[];_222.query("option",item).forEach(function(opt){if(opt.selected){ret.push(opt.value);}});}else{ret=item.value;}}}}return ret;};dojo.formToObject=function(_226){var ret={};var _227="file|submit|image|reset|button|";_222.forEach(dojo.byId(_226).elements,function(item){var _228=item.name;var type=(item.type||"").toLowerCase();if(_228&&type&&_227.indexOf(type)==-1&&!item.disabled){setValue(ret,_228,_222.fieldToObject(item));if(type=="image"){ret[_228+".x"]=ret[_228+".y"]=ret[_228].x=ret[_228].y=0;}}});return ret;};dojo.objectToQuery=function(map){var enc=encodeURIComponent;var _229=[];var _22a={};for(var name in map){var _22b=map[name];if(_22b!=_22a[name]){var _22c=enc(name)+"=";if(_222.isArray(_22b)){for(var i=0;i<_22b.length;i++){_229.push(_22c+enc(_22b[i]));}}else{_229.push(_22c+enc(_22b));}}}return _229.join("&");};dojo.formToQuery=function(_22d){return _222.objectToQuery(_222.formToObject(_22d));};dojo.formToJson=function(_22e,_22f){return _222.toJson(_222.formToObject(_22e),_22f);};dojo.queryToObject=function(str){var ret={};var qp=str.split("&");var dec=decodeURIComponent;_222.forEach(qp,function(item){if(item.length){var _230=item.split("=");var name=dec(_230.shift());var val=dec(_230.join("="));if(typeof ret[name]=="string"){ret[name]=[ret[name]];}if(_222.isArray(ret[name])){ret[name].push(val);}else{ret[name]=val;}}});return ret;};dojo._blockAsync=false;var _231=_222._contentHandlers=dojo.contentHandlers={text:function(xhr){return xhr.responseText;},json:function(xhr){return _222.fromJson(xhr.responseText||null);},"json-comment-filtered":function(xhr){if(!dojo.config.useCommentedJson){console.warn("Consider using the standard mimetype:application/json."+" json-commenting can introduce security issues. To"+" decrease the chances of hijacking, use the standard the 'json' handler and"+" prefix your json with: {}&&\n"+"Use djConfig.useCommentedJson=true to turn off this message.");}var _232=xhr.responseText;var _233=_232.indexOf("/*");var _234=_232.lastIndexOf("*/");if(_233==-1||_234==-1){throw new Error("JSON was not comment filtered");}return _222.fromJson(_232.substring(_233+2,_234));},javascript:function(xhr){return _222.eval(xhr.responseText);},xml:function(xhr){var _235=xhr.responseXML;if(_222.isIE&&(!_235||!_235.documentElement)){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];_222.some(dp,function(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(xhr.responseText);_235=dom;}catch(e){return false;}return true;});}return _235;},"json-comment-optional":function(xhr){if(xhr.responseText&&/^[^{\[]*\/\*/.test(xhr.responseText)){return _231["json-comment-filtered"](xhr);}else{return _231["json"](xhr);}}};dojo._ioSetArgs=function(args,_236,_237,_238){var _239={args:args,url:args.url};var _23a=null;if(args.form){var form=_222.byId(args.form);var _23b=form.getAttributeNode("action");_239.url=_239.url||(_23b?_23b.value:null);_23a=_222.formToObject(form);}var _23c=[{}];if(_23a){_23c.push(_23a);}if(args.content){_23c.push(args.content);}if(args.preventCache){_23c.push({"dojo.preventCache":new Date().valueOf()});}_239.query=_222.objectToQuery(_222.mixin.apply(null,_23c));_239.handleAs=args.handleAs||"text";var d=new _222.Deferred(_236);d.addCallbacks(_237,function(_23d){return _238(_23d,d);});var ld=args.load;if(ld&&_222.isFunction(ld)){d.addCallback(function(_23e){return ld.call(args,_23e,_239);});}var err=args.error;if(err&&_222.isFunction(err)){d.addErrback(function(_23f){return err.call(args,_23f,_239);});}var _240=args.handle;if(_240&&_222.isFunction(_240)){d.addBoth(function(_241){return _240.call(args,_241,_239);});}if(cfg.ioPublish&&_222.publish&&_239.args.ioPublish!==false){d.addCallbacks(function(res){_222.publish("/dojo/io/load",[d,res]);return res;},function(res){_222.publish("/dojo/io/error",[d,res]);return res;});d.addBoth(function(res){_222.publish("/dojo/io/done",[d,res]);return res;});}d.ioArgs=_239;return d;};var _242=function(dfd){dfd.canceled=true;var xhr=dfd.ioArgs.xhr;var _243=typeof xhr.abort;if(_243=="function"||_243=="object"||_243=="unknown"){xhr.abort();}var err=dfd.ioArgs.error;if(!err){err=new Error("xhr cancelled");err.dojoType="cancel";}return err;};var _244=function(dfd){var ret=_231[dfd.ioArgs.handleAs](dfd.ioArgs.xhr);return ret===undefined?null:ret;};var _245=function(_246,dfd){if(!dfd.ioArgs.args.failOk){console.error(_246);}return _246;};var _247=null;var _248=[];var _249=0;var _24a=function(dfd){if(_249<=0){_249=0;if(cfg.ioPublish&&_222.publish&&(!dfd||dfd&&dfd.ioArgs.args.ioPublish!==false)){_222.publish("/dojo/io/stop");}}};var _24b=function(){var now=(new Date()).getTime();if(!_222._blockAsync){for(var i=0,tif;i<_248.length&&(tif=_248[i]);i++){var dfd=tif.dfd;var func=function(){if(!dfd||dfd.canceled||!tif.validCheck(dfd)){_248.splice(i--,1);_249-=1;}else{if(tif.ioCheck(dfd)){_248.splice(i--,1);tif.resHandle(dfd);_249-=1;}else{if(dfd.startTime){if(dfd.startTime+(dfd.ioArgs.args.timeout||0)<now){_248.splice(i--,1);var err=new Error("timeout exceeded");err.dojoType="timeout";dfd.errback(err);dfd.cancel();_249-=1;}}}}};if(dojo.config.debugAtAllCosts){func.call(this);}else{try{func.call(this);}catch(e){dfd.errback(e);}}}}_24a(dfd);if(!_248.length){clearInterval(_247);_247=null;return;}};dojo._ioCancelAll=function(){try{_222.forEach(_248,function(i){try{i.dfd.cancel();}catch(e){}});}catch(e){}};if(_222.isIE){_222.addOnWindowUnload(_222._ioCancelAll);}_222._ioNotifyStart=function(dfd){if(cfg.ioPublish&&_222.publish&&dfd.ioArgs.args.ioPublish!==false){if(!_249){_222.publish("/dojo/io/start");}_249+=1;_222.publish("/dojo/io/send",[dfd]);}};_222._ioWatch=function(dfd,_24c,_24d,_24e){var args=dfd.ioArgs.args;if(args.timeout){dfd.startTime=(new Date()).getTime();}_248.push({dfd:dfd,validCheck:_24c,ioCheck:_24d,resHandle:_24e});if(!_247){_247=setInterval(_24b,50);}if(args.sync){_24b();}};var _24f="application/x-www-form-urlencoded";var _250=function(dfd){return dfd.ioArgs.xhr.readyState;};var _251=function(dfd){return 4==dfd.ioArgs.xhr.readyState;};var _252=function(dfd){var xhr=dfd.ioArgs.xhr;if(_222._isDocumentOk(xhr)){dfd.callback(dfd);}else{var err=new Error("Unable to load "+dfd.ioArgs.url+" status:"+xhr.status);err.status=xhr.status;err.responseText=xhr.responseText;dfd.errback(err);}};dojo._ioAddQueryToUrl=function(_253){if(_253.query.length){_253.url+=(_253.url.indexOf("?")==-1?"?":"&")+_253.query;_253.query=null;}};dojo.xhr=function(_254,args,_255){var dfd=_222._ioSetArgs(args,_242,_244,_245);var _256=dfd.ioArgs;var xhr=_256.xhr=_222._xhrObj(_256.args);if(!xhr){dfd.cancel();return dfd;}if("postData" in args){_256.query=args.postData;}else{if("putData" in args){_256.query=args.putData;}else{if("rawBody" in args){_256.query=args.rawBody;}else{if((arguments.length>2&&!_255)||"POST|PUT".indexOf(_254.toUpperCase())==-1){_222._ioAddQueryToUrl(_256);}}}}xhr.open(_254,_256.url,args.sync!==true,args.user||undefined,args.password||undefined);if(args.headers){for(var hdr in args.headers){if(hdr.toLowerCase()==="content-type"&&!args.contentType){args.contentType=args.headers[hdr];}else{if(args.headers[hdr]){xhr.setRequestHeader(hdr,args.headers[hdr]);}}}}xhr.setRequestHeader("Content-Type",args.contentType||_24f);if(!args.headers||!("X-Requested-With" in args.headers)){xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");}_222._ioNotifyStart(dfd);if(dojo.config.debugAtAllCosts){xhr.send(_256.query);}else{try{xhr.send(_256.query);}catch(e){_256.error=e;dfd.cancel();}}_222._ioWatch(dfd,_250,_251,_252);xhr=null;return dfd;};dojo.xhrGet=function(args){return _222.xhr("GET",args);};dojo.rawXhrPost=dojo.xhrPost=function(args){return _222.xhr("POST",args,true);};dojo.rawXhrPut=dojo.xhrPut=function(args){return _222.xhr("PUT",args,true);};dojo.xhrDelete=function(args){return _222.xhr("DELETE",args);};})();}if(!dojo._hasResource["dojo._base.fx"]){dojo._hasResource["dojo._base.fx"]=true;dojo.provide("dojo._base.fx");(function(){var d=dojo;var _257=d._mixin;dojo._Line=function(_258,end){this.start=_258;this.end=end;};dojo._Line.prototype.getValue=function(n){return ((this.end-this.start)*n)+this.start;};dojo.Animation=function(args){_257(this,args);if(d.isArray(this.curve)){this.curve=new d._Line(this.curve[0],this.curve[1]);}};d._Animation=d.Animation;d.extend(dojo.Animation,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _259=this._percent,_25a=this.easing;return _25a?_25a(_259):_259;},_fire:function(evt,args){var a=args||[];if(this[evt]){if(d.config.debugAtAllCosts){this[evt].apply(this,a);}else{try{this[evt].apply(this,a);}catch(e){console.error("exception in animation handler for:",evt);console.error(e);}}}return this;},play:function(_25b,_25c){var _25d=this;if(_25d._delayTimer){_25d._clearTimer();}if(_25c){_25d._stopTimer();_25d._active=_25d._paused=false;_25d._percent=0;}else{if(_25d._active&&!_25d._paused){return _25d;}}_25d._fire("beforeBegin",[_25d.node]);var de=_25b||_25d.delay,_25e=dojo.hitch(_25d,"_play",_25c);if(de>0){_25d._delayTimer=setTimeout(_25e,de);return _25d;}_25e();return _25d;},_play:function(_25f){var _260=this;if(_260._delayTimer){_260._clearTimer();}_260._startTime=new Date().valueOf();if(_260._paused){_260._startTime-=_260.duration*_260._percent;}_260._endTime=_260._startTime+_260.duration;_260._active=true;_260._paused=false;var _261=_260.curve.getValue(_260._getStep());if(!_260._percent){if(!_260._startRepeatCount){_260._startRepeatCount=_260.repeat;}_260._fire("onBegin",[_261]);}_260._fire("onPlay",[_261]);_260._cycle();return _260;},pause:function(){var _262=this;if(_262._delayTimer){_262._clearTimer();}_262._stopTimer();if(!_262._active){return _262;}_262._paused=true;_262._fire("onPause",[_262.curve.getValue(_262._getStep())]);return _262;},gotoPercent:function(_263,_264){var _265=this;_265._stopTimer();_265._active=_265._paused=true;_265._percent=_263;if(_264){_265.play();}return _265;},stop:function(_266){var _267=this;if(_267._delayTimer){_267._clearTimer();}if(!_267._timer){return _267;}_267._stopTimer();if(_266){_267._percent=1;}_267._fire("onStop",[_267.curve.getValue(_267._getStep())]);_267._active=_267._paused=false;return _267;},status:function(){if(this._active){return this._paused?"paused":"playing";}return "stopped";},_cycle:function(){var _268=this;if(_268._active){var curr=new Date().valueOf();var step=(curr-_268._startTime)/(_268._endTime-_268._startTime);if(step>=1){step=1;}_268._percent=step;if(_268.easing){step=_268.easing(step);}_268._fire("onAnimate",[_268.curve.getValue(step)]);if(_268._percent<1){_268._startTimer();}else{_268._active=false;if(_268.repeat>0){_268.repeat--;_268.play(null,true);}else{if(_268.repeat==-1){_268.play(null,true);}else{if(_268._startRepeatCount){_268.repeat=_268._startRepeatCount;_268._startRepeatCount=0;}}}_268._percent=0;_268._fire("onEnd",[_268.node]);!_268.repeat&&_268._stopTimer();}}return _268;},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer;}});var ctr=0,_269=[],_26a=null,_26b={run:function(){}};d.extend(d.Animation,{_startTimer:function(){if(!this._timer){this._timer=d.connect(_26b,"run",this,"_cycle");ctr++;}if(!_26a){_26a=setInterval(d.hitch(_26b,"run"),this.rate);}},_stopTimer:function(){if(this._timer){d.disconnect(this._timer);this._timer=null;ctr--;}if(ctr<=0){clearInterval(_26a);_26a=null;ctr=0;}}});var _26c=d.isIE?function(node){var ns=node.style;if(!ns.width.length&&d.style(node,"width")=="auto"){ns.width="auto";}}:function(){};dojo._fade=function(args){args.node=d.byId(args.node);var _26d=_257({properties:{}},args),_26e=(_26d.properties.opacity={});_26e.start=!("start" in _26d)?function(){return +d.style(_26d.node,"opacity")||0;}:_26d.start;_26e.end=_26d.end;var anim=d.animateProperty(_26d);d.connect(anim,"beforeBegin",d.partial(_26c,_26d.node));return anim;};dojo.fadeIn=function(args){return d._fade(_257({end:1},args));};dojo.fadeOut=function(args){return d._fade(_257({end:0},args));};dojo._defaultEasing=function(n){return 0.5+((Math.sin((n+1.5)*Math.PI))/2);};var _26f=function(_270){this._properties=_270;for(var p in _270){var prop=_270[p];if(prop.start instanceof d.Color){prop.tempColor=new d.Color();}}};_26f.prototype.getValue=function(r){var ret={};for(var p in this._properties){var prop=this._properties[p],_271=prop.start;if(_271 instanceof d.Color){ret[p]=d.blendColors(_271,prop.end,r,prop.tempColor).toCss();}else{if(!d.isArray(_271)){ret[p]=((prop.end-_271)*r)+_271+(p!="opacity"?prop.units||"px":0);}}}return ret;};dojo.animateProperty=function(args){var n=args.node=d.byId(args.node);if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args);d.connect(anim,"beforeBegin",anim,function(){var pm={};for(var p in this.properties){if(p=="width"||p=="height"){this.node.display="block";}var prop=this.properties[p];if(d.isFunction(prop)){prop=prop(n);}prop=pm[p]=_257({},(d.isObject(prop)?prop:{end:prop}));if(d.isFunction(prop.start)){prop.start=prop.start(n);}if(d.isFunction(prop.end)){prop.end=prop.end(n);}var _272=(p.toLowerCase().indexOf("color")>=0);function getStyle(node,p){var v={height:node.offsetHeight,width:node.offsetWidth}[p];if(v!==undefined){return v;}v=d.style(node,p);return (p=="opacity")?+v:(_272?v:parseFloat(v));};if(!("end" in prop)){prop.end=getStyle(n,p);}else{if(!("start" in prop)){prop.start=getStyle(n,p);}}if(_272){prop.start=new d.Color(prop.start);prop.end=new d.Color(prop.end);}else{prop.start=(p=="opacity")?+prop.start:parseFloat(prop.start);}}this.curve=new _26f(pm);});d.connect(anim,"onAnimate",d.hitch(d,"style",anim.node));return anim;};dojo.anim=function(node,_273,_274,_275,_276,_277){return d.animateProperty({node:node,duration:_274||d.Animation.prototype.duration,properties:_273,easing:_275,onEnd:_276}).play(_277||0);};})();}if(!dojo._hasResource["dojo._base.browser"]){dojo._hasResource["dojo._base.browser"]=true;dojo.provide("dojo._base.browser");dojo.forEach(dojo.config.require,function(i){dojo["require"](i);});}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.date.getDaysInMonth=function(_278){var _279=_278.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_279==1&&dojo.date.isLeapYear(_278)){return 29;}return days[_279];};dojo.date.isLeapYear=function(_27a){var year=_27a.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function(_27b){var str=_27b.toString();var tz="";var _27c;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_27c=str.match(pat))){tz=_27c[1];}else{str=_27b.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_27c=str.match(pat))){tz=_27c[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function(_27d,_27e,_27f){_27d=new Date(+_27d);_27e=new Date(+(_27e||new Date()));if(_27f=="date"){_27d.setHours(0,0,0,0);_27e.setHours(0,0,0,0);}else{if(_27f=="time"){_27d.setFullYear(0,0,0);_27e.setFullYear(0,0,0);}}if(_27d>_27e){return 1;}if(_27d<_27e){return -1;}return 0;};dojo.date.add=function(date,_280,_281){var sum=new Date(+date);var _282=false;var _283="Date";switch(_280){case "day":break;case "weekday":var days,_284;var mod=_281%5;if(!mod){days=(_281>0)?5:-5;_284=(_281>0)?((_281-5)/5):((_281+5)/5);}else{days=mod;_284=parseInt(_281/5);}var strt=date.getDay();var adj=0;if(strt==6&&_281>0){adj=1;}else{if(strt==0&&_281<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_281>0)?2:-2;}_281=(7*_284)+days+adj;break;case "year":_283="FullYear";_282=true;break;case "week":_281*=7;break;case "quarter":_281*=3;case "month":_282=true;_283="Month";break;default:_283="UTC"+_280.charAt(0).toUpperCase()+_280.substring(1)+"s";}if(_283){sum["set"+_283](sum["get"+_283]()+_281);}if(_282&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function(_285,_286,_287){_286=_286||new Date();_287=_287||"day";var _288=_286.getFullYear()-_285.getFullYear();var _289=1;switch(_287){case "quarter":var m1=_285.getMonth();var m2=_286.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_288*4);_289=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_285,_286,"day"));var _28a=parseInt(dojo.date.difference(_285,_286,"week"));var mod=days%7;if(mod==0){days=_28a*5;}else{var adj=0;var aDay=_285.getDay();var bDay=_286.getDay();_28a=parseInt(days/7);mod=days%7;var _28b=new Date(_285);_28b.setDate(_28b.getDate()+(_28a*7));var _28c=_28b.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_28c+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_28c+mod)<0:adj=2;}}}days+=adj;days-=(_28a*2);}_289=days;break;case "year":_289=_288;break;case "month":_289=(_286.getMonth()-_285.getMonth())+(_288*12);break;case "week":_289=parseInt(dojo.date.difference(_285,_286,"day")/7);break;case "day":_289/=24;case "hour":_289/=60;case "minute":_289/=60;case "second":_289/=1000;case "millisecond":_289*=_286.getTime()-_285.getTime();}return Math.round(_289);};}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_28d,_28e,_28f){_28f=dojo.i18n.normalizeLocale(_28f);var _290=_28f.split("-");var _291=[_28d,"nls",_28e].join(".");var _292=dojo._loadedModules[_291];if(_292){var _293;for(var i=_290.length;i>0;i--){var loc=_290.slice(0,i).join("_");if(_292[loc]){_293=_292[loc];break;}}if(!_293){_293=_292.ROOT;}if(_293){var _294=function(){};_294.prototype=_293;return new _294();}}throw new Error("Bundle not found: "+_28e+" in "+_28d+" , locale="+_28f);};dojo.i18n.normalizeLocale=function(_295){var _296=_295?_295.toLowerCase():dojo.locale;if(_296=="root"){_296="ROOT";}return _296;};dojo.i18n._requireLocalization=function(_297,_298,_299,_29a){var _29b=dojo.i18n.normalizeLocale(_299);var _29c=[_297,"nls",_298].join(".");var _29d="";if(_29a){var _29e=_29a.split(",");for(var i=0;i<_29e.length;i++){if(_29b["indexOf"](_29e[i])==0){if(_29e[i].length>_29d.length){_29d=_29e[i];}}}if(!_29d){_29d="ROOT";}}var _29f=_29a?_29d:_29b;var _2a0=dojo._loadedModules[_29c];var _2a1=null;if(_2a0){if(dojo.config.localizationComplete&&_2a0._built){return;}var _2a2=_29f.replace(/-/g,"_");var _2a3=_29c+"."+_2a2;_2a1=dojo._loadedModules[_2a3];}if(!_2a1){_2a0=dojo["provide"](_29c);var syms=dojo._getModuleSymbols(_297);var _2a4=syms.concat("nls").join("/");var _2a5;dojo.i18n._searchLocalePath(_29f,_29a,function(loc){var _2a6=loc.replace(/-/g,"_");var _2a7=_29c+"."+_2a6;var _2a8=false;if(!dojo._loadedModules[_2a7]){dojo["provide"](_2a7);var _2a9=[_2a4];if(loc!="ROOT"){_2a9.push(loc);}_2a9.push(_298);var _2aa=_2a9.join("/")+".js";_2a8=dojo._loadPath(_2aa,null,function(hash){var _2ab=function(){};_2ab.prototype=_2a5;_2a0[_2a6]=new _2ab();for(var j in hash){_2a0[_2a6][j]=hash[j];}});}else{_2a8=true;}if(_2a8&&_2a0[_2a6]){_2a5=_2a0[_2a6];}else{_2a0[_2a6]=_2a5;}if(_29a){return true;}});}if(_29a&&_29b!=_29d){_2a0[_29b.replace(/-/g,"_")]=_2a0[_29d.replace(/-/g,"_")];}};(function(){var _2ac=dojo.config.extraLocale;if(_2ac){if(!_2ac instanceof Array){_2ac=[_2ac];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_2ad,_2ae){req(m,b,_2ad,_2ae);if(_2ad){return;}for(var i=0;i<_2ac.length;i++){req(m,b,_2ac[i],_2ae);}};}})();dojo.i18n._searchLocalePath=function(_2af,down,_2b0){_2af=dojo.i18n.normalizeLocale(_2af);var _2b1=_2af.split("-");var _2b2=[];for(var i=_2b1.length;i>0;i--){_2b2.push(_2b1.slice(0,i).join("-"));}_2b2.push(false);if(down){_2b2.reverse();}for(var j=_2b2.length-1;j>=0;j--){var loc=_2b2[j]||"ROOT";var stop=_2b0(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_2b3,_2b4){function preload(_2b5){_2b5=dojo.i18n.normalizeLocale(_2b5);dojo.i18n._searchLocalePath(_2b5,true,function(loc){for(var i=0;i<_2b4.length;i++){if(_2b4[i]==loc){dojo["require"](_2b3+"_"+loc);return true;}}return false;});};preload();var _2b6=dojo.config.extraLocale||[];for(var i=0;i<_2b6.length;i++){preload(_2b6[i]);}};}if(!dojo._hasResource["dojo.cldr.supplemental"]){dojo._hasResource["dojo.cldr.supplemental"]=true;dojo.provide("dojo.cldr.supplemental");dojo.cldr.supplemental.getFirstDayOfWeek=function(_2b7){var _2b8={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,lb:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,tn:6,ye:6,as:0,au:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,ie:0,il:0,is:0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,za:0,zw:0,et:0,mw:0,ng:0,tj:0,sy:4};var _2b9=dojo.cldr.supplemental._region(_2b7);var dow=_2b8[_2b9];return (dow===undefined)?1:dow;};dojo.cldr.supplemental._region=function(_2ba){_2ba=dojo.i18n.normalizeLocale(_2ba);var tags=_2ba.split("-");var _2bb=tags[1];if(!_2bb){_2bb={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_2bb.length==4){_2bb=tags[2];}}return _2bb;};dojo.cldr.supplemental.getWeekend=function(_2bc){var _2bd={eg:5,il:5,sy:5,"in":0,ae:4,bh:4,dz:4,iq:4,jo:4,kw:4,lb:4,ly:4,ma:4,om:4,qa:4,sa:4,sd:4,tn:4,ye:4};var _2be={ae:5,bh:5,dz:5,iq:5,jo:5,kw:5,lb:5,ly:5,ma:5,om:5,qa:5,sa:5,sd:5,tn:5,ye:5,af:5,ir:5,eg:6,il:6,sy:6};var _2bf=dojo.cldr.supplemental._region(_2bc);var _2c0=_2bd[_2bf];var end=_2be[_2bf];if(_2c0===undefined){_2c0=6;}if(end===undefined){end=0;}return {start:_2c0,end:end};};}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_2c1){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_2c1&&_2c1.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_2c2){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_2c2);};dojo.regexp.group=function(_2c3,_2c4){return "("+(_2c4?"?:":"")+_2c3+")";};}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_2c5,map,_2c6,_2c7){_2c7=_2c7||dojo.global;_2c6=_2c6?dojo.hitch(_2c7,_2c6):function(v){return v;};return _2c5.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_2c8,key,_2c9){var _2ca=dojo.getObject(key,false,map);if(_2c9){_2ca=dojo.getObject(_2c9,false,_2c7).call(_2c7,_2ca,key);}return _2c6(_2ca,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.date.locale"]){dojo._hasResource["dojo.date.locale"]=true;dojo.provide("dojo.date.locale");(function(){function formatPattern(_2cb,_2cc,_2cd,_2ce){return _2ce.replace(/([a-z])\1*/ig,function(_2cf){var s,pad,c=_2cf.charAt(0),l=_2cf.length,_2d0=["abbr","wide","narrow"];switch(c){case "G":s=_2cc[(l<4)?"eraAbbr":"eraNames"][_2cb.getFullYear()<0?0:1];break;case "y":s=_2cb.getFullYear();switch(l){case 1:break;case 2:if(!_2cd.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_2cb.getMonth()+1)/3);pad=true;break;case "M":var m=_2cb.getMonth();if(l<3){s=m+1;pad=true;}else{var _2d1=["months","format",_2d0[l-3]].join("-");s=_2cc[_2d1][m];}break;case "w":var _2d2=0;s=dojo.date.locale._getWeekOfYear(_2cb,_2d2);pad=true;break;case "d":s=_2cb.getDate();pad=true;break;case "D":s=dojo.date.locale._getDayOfYear(_2cb);pad=true;break;case "E":var d=_2cb.getDay();if(l<3){s=d+1;pad=true;}else{var _2d3=["days","format",_2d0[l-3]].join("-");s=_2cc[_2d3][d];}break;case "a":var _2d4=(_2cb.getHours()<12)?"am":"pm";s=_2cc[_2d4];break;case "h":case "H":case "K":case "k":var h=_2cb.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_2cb.getMinutes();pad=true;break;case "s":s=_2cb.getSeconds();pad=true;break;case "S":s=Math.round(_2cb.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=dojo.date.locale._getZone(_2cb,true,_2cd);if(s){break;}l=4;case "Z":var _2d5=dojo.date.locale._getZone(_2cb,false,_2cd);var tz=[(_2d5<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(_2d5)/60),2),dojo.string.pad(Math.abs(_2d5)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_2ce);}if(pad){s=dojo.string.pad(s,l);}return s;});};dojo.date.locale._getZone=function(_2d6,_2d7,_2d8){if(_2d7){return dojo.date.getTimezoneName(_2d6);}else{return _2d6.getTimezoneOffset();}};dojo.date.locale.format=function(_2d9,_2da){_2da=_2da||{};var _2db=dojo.i18n.normalizeLocale(_2da.locale),_2dc=_2da.formatLength||"short",_2dd=dojo.date.locale._getGregorianBundle(_2db),str=[],_2de=dojo.hitch(this,formatPattern,_2d9,_2dd,_2da);if(_2da.selector=="year"){return _processPattern(_2dd["dateFormatItem-yyyy"]||"yyyy",_2de);}var _2df;if(_2da.selector!="date"){_2df=_2da.timePattern||_2dd["timeFormat-"+_2dc];if(_2df){str.push(_processPattern(_2df,_2de));}}if(_2da.selector!="time"){_2df=_2da.datePattern||_2dd["dateFormat-"+_2dc];if(_2df){str.push(_processPattern(_2df,_2de));}}return str.length==1?str[0]:_2dd["dateTimeFormat-"+_2dc].replace(/\{(\d+)\}/g,function(_2e0,key){return str[key];});};dojo.date.locale.regexp=function(_2e1){return dojo.date.locale._parseInfo(_2e1).regexp;};dojo.date.locale._parseInfo=function(_2e2){_2e2=_2e2||{};var _2e3=dojo.i18n.normalizeLocale(_2e2.locale),_2e4=dojo.date.locale._getGregorianBundle(_2e3),_2e5=_2e2.formatLength||"short",_2e6=_2e2.datePattern||_2e4["dateFormat-"+_2e5],_2e7=_2e2.timePattern||_2e4["timeFormat-"+_2e5],_2e8;if(_2e2.selector=="date"){_2e8=_2e6;}else{if(_2e2.selector=="time"){_2e8=_2e7;}else{_2e8=_2e4["dateTimeFormat-"+_2e5].replace(/\{(\d+)\}/g,function(_2e9,key){return [_2e7,_2e6][key];});}}var _2ea=[],re=_processPattern(_2e8,dojo.hitch(this,_buildDateTimeRE,_2ea,_2e4,_2e2));return {regexp:re,tokens:_2ea,bundle:_2e4};};dojo.date.locale.parse=function(_2eb,_2ec){var info=dojo.date.locale._parseInfo(_2ec),_2ed=info.tokens,_2ee=info.bundle,re=new RegExp("^"+info.regexp+"$",info.strict?"":"i"),_2ef=re.exec(_2eb);if(!_2ef){return null;}var _2f0=["abbr","wide","narrow"],_2f1=[1970,0,1,0,0,0,0],amPm="",_2f2=dojo.every(_2ef,function(v,i){if(!i){return true;}var _2f3=_2ed[i-1];var l=_2f3.length;switch(_2f3.charAt(0)){case "y":if(l!=2&&_2ec.strict){_2f1[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_2f4=year.substring(0,2)*100,_2f5=Math.min(Number(year.substring(2,4))+20,99),num=(v<_2f5)?_2f4+v:_2f4-100+v;_2f1[0]=num;}else{if(_2ec.strict){return false;}_2f1[0]=v;}}break;case "M":if(l>2){var _2f6=_2ee["months-format-"+_2f0[l-3]].concat();if(!_2ec.strict){v=v.replace(".","").toLowerCase();_2f6=dojo.map(_2f6,function(s){return s.replace(".","").toLowerCase();});}v=dojo.indexOf(_2f6,v);if(v==-1){return false;}}else{v--;}_2f1[1]=v;break;case "E":case "e":var days=_2ee["days-format-"+_2f0[l-3]].concat();if(!_2ec.strict){v=v.toLowerCase();days=dojo.map(days,function(d){return d.toLowerCase();});}v=dojo.indexOf(days,v);if(v==-1){return false;}break;case "D":_2f1[1]=0;case "d":_2f1[2]=v;break;case "a":var am=_2ec.am||_2ee.am;var pm=_2ec.pm||_2ee.pm;if(!_2ec.strict){var _2f7=/\./g;v=v.replace(_2f7,"").toLowerCase();am=am.replace(_2f7,"").toLowerCase();pm=pm.replace(_2f7,"").toLowerCase();}if(_2ec.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_2f1[3]=v;break;case "m":_2f1[4]=v;break;case "s":_2f1[5]=v;break;case "S":_2f1[6]=v;}return true;});var _2f8=+_2f1[3];if(amPm==="p"&&_2f8<12){_2f1[3]=_2f8+12;}else{if(amPm==="a"&&_2f8==12){_2f1[3]=0;}}var _2f9=new Date(_2f1[0],_2f1[1],_2f1[2],_2f1[3],_2f1[4],_2f1[5],_2f1[6]);if(_2ec.strict){_2f9.setFullYear(_2f1[0]);}var _2fa=_2ed.join(""),_2fb=_2fa.indexOf("d")!=-1,_2fc=_2fa.indexOf("M")!=-1;if(!_2f2||(_2fc&&_2f9.getMonth()>_2f1[1])||(_2fb&&_2f9.getDate()>_2f1[2])){return null;}if((_2fc&&_2f9.getMonth()<_2f1[1])||(_2fb&&_2f9.getDate()<_2f1[2])){_2f9=dojo.date.add(_2f9,"hour",1);}return _2f9;};function _processPattern(_2fd,_2fe,_2ff,_300){var _301=function(x){return x;};_2fe=_2fe||_301;_2ff=_2ff||_301;_300=_300||_301;var _302=_2fd.match(/(''|[^'])+/g),_303=_2fd.charAt(0)=="'";dojo.forEach(_302,function(_304,i){if(!_304){_302[i]="";}else{_302[i]=(_303?_2ff:_2fe)(_304);_303=!_303;}});return _300(_302.join(""));};function _buildDateTimeRE(_305,_306,_307,_308){_308=dojo.regexp.escapeString(_308);if(!_307.strict){_308=_308.replace(" a"," ?a");}return _308.replace(/([a-z])\1*/ig,function(_309){var s,c=_309.charAt(0),l=_309.length,p2="",p3="";if(_307.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+?":p2+"[1-9]|1[0-2]";break;case "D":s=p2+"[1-9]|"+p3+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "w":s=p2+"[1-9]|[1-4][0-9]|5[0-3]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_307.am||_306.am||"AM";var pm=_307.pm||_306.pm||"PM";if(_307.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_305){_305.push(_309);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _30a=[];dojo.date.locale.addCustomFormats=function(_30b,_30c){_30a.push({pkg:_30b,name:_30c});};dojo.date.locale._getGregorianBundle=function(_30d){var _30e={};dojo.forEach(_30a,function(desc){var _30f=dojo.i18n.getLocalization(desc.pkg,desc.name,_30d);_30e=dojo.mixin(_30e,_30f);},this);return _30e;};})();dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function(item,type,_310,_311){var _312,_313=dojo.date.locale._getGregorianBundle(_311),_314=[item,_310,type];if(_310=="standAlone"){var key=_314.join("-");_312=_313[key];if(_312[0]==1){_312=undefined;}}_314[1]="format";return (_312||_313[_314.join("-")]).concat();};dojo.date.locale.isWeekend=function(_315,_316){var _317=dojo.cldr.supplemental.getWeekend(_316),day=(_315||new Date()).getDay();if(_317.end<_317.start){_317.end+=7;if(day<_317.start){day+=7;}}return day>=_317.start&&day<=_317.end;};dojo.date.locale._getDayOfYear=function(_318){return dojo.date.difference(new Date(_318.getFullYear(),0,1,_318.getHours()),_318)+1;};dojo.date.locale._getWeekOfYear=function(_319,_31a){if(arguments.length==1){_31a=0;}var _31b=new Date(_319.getFullYear(),0,1).getDay(),adj=(_31b-_31a+7)%7,week=Math.floor((dojo.date.locale._getDayOfYear(_319)+adj-1)/7);if(_31b==_31a){week++;}return week;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_31c,_31d){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _31e=dojo.date.stamp._isoRegExp.exec(_31c),_31f=null;if(_31e){_31e.shift();if(_31e[1]){_31e[1]--;}if(_31e[6]){_31e[6]*=1000;}if(_31d){_31d=new Date(_31d);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _31d["get"+prop]();}).forEach(function(_320,_321){if(_31e[_321]===undefined){_31e[_321]=_320;}});}_31f=new Date(_31e[0]||1970,_31e[1]||0,_31e[2]||1,_31e[3]||0,_31e[4]||0,_31e[5]||0,_31e[6]||0);if(_31e[0]<100){_31f.setFullYear(_31e[0]||1970);}var _322=0,_323=_31e[7]&&_31e[7].charAt(0);if(_323!="Z"){_322=((_31e[8]||0)*60)+(Number(_31e[9])||0);if(_323!="-"){_322*=-1;}}if(_323){_322-=_31f.getTimezoneOffset();}if(_322){_31f.setTime(_31f.getTime()+_322*60000);}}return _31f;};dojo.date.stamp.toISOString=function(_324,_325){var _326=function(n){return (n<10)?"0"+n:n;};_325=_325||{};var _327=[],_328=_325.zulu?"getUTC":"get",date="";if(_325.selector!="time"){var year=_324[_328+"FullYear"]();date=["0000".substr((year+"").length)+year,_326(_324[_328+"Month"]()+1),_326(_324[_328+"Date"]())].join("-");}_327.push(date);if(_325.selector!="date"){var time=[_326(_324[_328+"Hours"]()),_326(_324[_328+"Minutes"]()),_326(_324[_328+"Seconds"]())].join(":");var _329=_324[_328+"Milliseconds"]();if(_325.milliseconds){time+="."+(_329<100?"0":"")+_326(_329);}if(_325.zulu){time+="Z";}else{if(_325.selector!="time"){var _32a=_324.getTimezoneOffset();var _32b=Math.abs(_32a);time+=(_32a>0?"-":"+")+_326(Math.floor(_32b/60))+":"+_326(_32b%60);}}_327.push(time);}return _327.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;this._attrName=d._scopeName+"Type";this._query="["+this._attrName+"]";function val2type(_32c){if(d.isString(_32c)){return "string";}if(typeof _32c=="number"){return "number";}if(typeof _32c=="boolean"){return "boolean";}if(d.isFunction(_32c)){return "function";}if(d.isArray(_32c)){return "array";}if(_32c instanceof Date){return "date";}if(_32c instanceof d._Url){return "url";}return "object";};function str2obj(_32d,type){switch(type){case "string":return _32d;case "number":return _32d.length?Number(_32d):NaN;case "boolean":return typeof _32d=="boolean"?_32d:!(_32d.toLowerCase()=="false");case "function":if(d.isFunction(_32d)){_32d=_32d.toString();_32d=d.trim(_32d.substring(_32d.indexOf("{")+1,_32d.length-1));}try{if(_32d.search(/[^\w\.]+/i)!=-1){return new Function(_32d);}else{return d.getObject(_32d,false);}}catch(e){return new Function();}case "array":return _32d?_32d.split(/\s*,\s*/):[];case "date":switch(_32d){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_32d);}case "url":return d.baseUrl+_32d;default:return d.fromJson(_32d);}};var _32e={};dojo.connect(dojo,"extend",function(){_32e={};});function getClassInfo(_32f){if(!_32e[_32f]){var cls=d.getObject(_32f);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_32f+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _330=cls.prototype;var _331={},_332={};for(var name in _330){if(name.charAt(0)=="_"){continue;}if(name in _332){continue;}var _333=_330[name];_331[name]=val2type(_333);}_32e[_32f]={cls:cls,params:_331};}return _32e[_32f];};this._functionFromScript=function(_334){var _335="";var _336="";var _337=_334.getAttribute("args");if(_337){d.forEach(_337.split(/\s*,\s*/),function(part,idx){_335+="var "+part+" = arguments["+idx+"]; ";});}var _338=_334.getAttribute("with");if(_338&&_338.length){d.forEach(_338.split(/\s*,\s*/),function(part){_335+="with("+part+"){";_336+="}";});}return new Function(_335+_334.innerHTML+_336);};this.instantiate=function(_339,_33a,args){var _33b=[],dp=dojo.parser;_33a=_33a||{};args=args||{};d.forEach(_339,function(node){if(!node){return;}var type=dp._attrName in _33a?_33a[dp._attrName]:node.getAttribute(dp._attrName);if(!type||!type.length){return;}var _33c=getClassInfo(type),_33d=_33c.cls,ps=_33d._noScript||_33d.prototype._noScript;var _33e={},_33f=node.attributes;for(var name in _33c.params){var item=name in _33a?{value:_33a[name],specified:true}:_33f.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _340=item.value;switch(name){case "class":_340="className" in _33a?_33a.className:node.className;break;case "style":_340="style" in _33a?_33a.style:(node.style&&node.style.cssText);}var _341=_33c.params[name];if(typeof _340=="string"){_33e[name]=str2obj(_340,_341);}else{_33e[name]=_340;}}if(!ps){var _342=[],_343=[];d.query("> script[type^='dojo/']",node).orphan().forEach(function(_344){var _345=_344.getAttribute("event"),type=_344.getAttribute("type"),nf=d.parser._functionFromScript(_344);if(_345){if(type=="dojo/connect"){_342.push({event:_345,func:nf});}else{_33e[_345]=nf;}}else{_343.push(nf);}});}var _346=_33d.markupFactory||_33d.prototype&&_33d.prototype.markupFactory;var _347=_346?_346(_33e,node,_33d):new _33d(_33e,node);_33b.push(_347);var _348=node.getAttribute("jsId");if(_348){d.setObject(_348,_347);}if(!ps){d.forEach(_342,function(_349){d.connect(_347,_349.event,null,_349.func);});d.forEach(_343,function(func){func.call(_347);});}});if(!_33a._started){d.forEach(_33b,function(_34a){if(!args.noStart&&_34a&&_34a.startup&&!_34a._started&&(!_34a.getParent||!_34a.getParent())){_34a.startup();}});}return _33b;};this.parse=function(_34b,args){var root;if(!args&&_34b&&_34b.rootNode){args=_34b;root=args.rootNode;}else{root=_34b;}var list=d.query(this._query,root);return this.instantiate(list,null,args);};}();(function(){var _34c=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_34c);}else{dojo._loaders.unshift(_34c);}})();}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function(name,_34d,_34e){var c=document.cookie;if(arguments.length==1){var _34f=c.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(name)+"=([^;]*)"));return _34f?decodeURIComponent(_34f[1]):undefined;}else{_34e=_34e||{};var exp=_34e.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_34e.expires=d;}if(exp&&exp.toUTCString){_34e.expires=exp.toUTCString();}_34d=encodeURIComponent(_34d);var _350=name+"="+_34d,_351;for(_351 in _34e){_350+="; "+_351;var _352=_34e[_351];if(_352!==true){_350+="="+_352;}}document.cookie=_350;}};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};}if(!dojo._hasResource["dojo.io.iframe"]){dojo._hasResource["dojo.io.iframe"]=true;dojo.provide("dojo.io.iframe");dojo.io.iframe={create:function(_353,_354,uri){if(window[_353]){return window[_353];}if(window.frames[_353]){return window.frames[_353];}var _355=null;var turi=uri;if(!turi){if(dojo.config["useXDomain"]&&!dojo.config["dojoBlankHtmlUrl"]){console.warn("dojo.io.iframe.create: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}turi=(dojo.config["dojoBlankHtmlUrl"]||dojo.moduleUrl("dojo","resources/blank.html"));}var _355=dojo.place("<iframe id=\""+_353+"\" name=\""+_353+"\" src=\""+turi+"\" onload=\""+_354+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",dojo.body());window[_353]=_355;return _355;},setSrc:function(_356,src,_357){try{if(!_357){if(dojo.isWebKit){_356.location=src;}else{frames[_356.name].location=src;}}else{var idoc;if(dojo.isIE||dojo.isWebKit>521){idoc=_356.contentWindow.document;}else{if(dojo.isSafari){idoc=_356.document;}else{idoc=_356.contentWindow;}}if(!idoc){_356.location=src;return;}else{idoc.location.replace(src);}}}catch(e){console.log("dojo.io.iframe.setSrc: ",e);}},doc:function(_358){var doc=_358.contentDocument||(((_358.name)&&(_358.document)&&(dojo.doc.getElementsByTagName("iframe")[_358.name].contentWindow)&&(dojo.doc.getElementsByTagName("iframe")[_358.name].contentWindow.document)))||((_358.name)&&(dojo.doc.frames[_358.name])&&(dojo.doc.frames[_358.name].document))||null;return doc;},send:function(args){if(!this["_frame"]){this._frame=this.create(this._iframeName,dojo._scopeName+".io.iframe._iframeOnload();");}var dfd=dojo._ioSetArgs(args,function(dfd){dfd.canceled=true;dfd.ioArgs._callNext();},function(dfd){var _359=null;try{var _35a=dfd.ioArgs;var dii=dojo.io.iframe;var ifd=dii.doc(dii._frame);var _35b=_35a.handleAs;_359=ifd;if(_35b!="html"){if(_35b=="xml"){if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){dojo.query("a",dii._frame.contentWindow.document.documentElement).orphan();var _35c=(dii._frame.contentWindow.document).documentElement.innerText;_35c=_35c.replace(/>\s+</g,"><");_35c=dojo.trim(_35c);var _35d={responseText:_35c};_359=dojo._contentHandlers["xml"](_35d);}}else{_359=ifd.getElementsByTagName("textarea")[0].value;if(_35b=="json"){_359=dojo.fromJson(_359);}else{if(_35b=="javascript"){_359=dojo.eval(_359);}}}}}catch(e){_359=e;}finally{_35a._callNext();}return _359;},function(_35e,dfd){dfd.ioArgs._hasError=true;dfd.ioArgs._callNext();return _35e;});dfd.ioArgs._callNext=function(){if(!this["_calledNext"]){this._calledNext=true;dojo.io.iframe._currentDfd=null;dojo.io.iframe._fireNextRequest();}};this._dfdQueue.push(dfd);this._fireNextRequest();dojo._ioWatch(dfd,function(dfd){return !dfd.ioArgs["_hasError"];},function(dfd){return (!!dfd.ioArgs["_finished"]);},function(dfd){if(dfd.ioArgs._finished){dfd.callback(dfd);}else{dfd.errback(new Error("Invalid dojo.io.iframe request state"));}});return dfd;},_currentDfd:null,_dfdQueue:[],_iframeName:dojo._scopeName+"IoIframe",_fireNextRequest:function(){try{if((this._currentDfd)||(this._dfdQueue.length==0)){return;}do{var dfd=this._currentDfd=this._dfdQueue.shift();}while(dfd&&dfd.canceled&&this._dfdQueue.length);if(!dfd||dfd.canceled){this._currentDfd=null;return;}var _35f=dfd.ioArgs;var args=_35f.args;_35f._contentToClean=[];var fn=dojo.byId(args["form"]);var _360=args["content"]||{};if(fn){if(_360){var _361=function(name,_362){dojo.create("input",{type:"hidden",name:name,value:_362},fn);_35f._contentToClean.push(name);};for(var x in _360){var val=_360[x];if(dojo.isArray(val)&&val.length>1){var i;for(i=0;i<val.length;i++){_361(x,val[i]);}}else{if(!fn[x]){_361(x,val);}else{fn[x].value=val;}}}}var _363=fn.getAttributeNode("action");var _364=fn.getAttributeNode("method");var _365=fn.getAttributeNode("target");if(args["url"]){_35f._originalAction=_363?_363.value:null;if(_363){_363.value=args.url;}else{fn.setAttribute("action",args.url);}}if(!_364||!_364.value){if(_364){_364.value=(args["method"])?args["method"]:"post";}else{fn.setAttribute("method",(args["method"])?args["method"]:"post");}}_35f._originalTarget=_365?_365.value:null;if(_365){_365.value=this._iframeName;}else{fn.setAttribute("target",this._iframeName);}fn.target=this._iframeName;dojo._ioNotifyStart(dfd);fn.submit();}else{var _366=args.url+(args.url.indexOf("?")>-1?"&":"?")+_35f.query;dojo._ioNotifyStart(dfd);this.setSrc(this._frame,_366,true);}}catch(e){dfd.errback(e);}},_iframeOnload:function(){var dfd=this._currentDfd;if(!dfd){this._fireNextRequest();return;}var _367=dfd.ioArgs;var args=_367.args;var _368=dojo.byId(args.form);if(_368){var _369=_367._contentToClean;for(var i=0;i<_369.length;i++){var key=_369[i];for(var j=0;j<_368.childNodes.length;j++){var _36a=_368.childNodes[j];if(_36a.name==key){dojo.destroy(_36a);break;}}}if(_367["_originalAction"]){_368.setAttribute("action",_367._originalAction);}if(_367["_originalTarget"]){_368.setAttribute("target",_367._originalTarget);_368.target=_367._originalTarget;}}_367._finished=true;}};}if(!dojo._hasResource["dojo.io.script"]){dojo._hasResource["dojo.io.script"]=true;dojo.provide("dojo.io.script");(function(){var _36b=dojo.isIE?"onreadystatechange":"load",_36c=/complete|loaded/;dojo.io.script={get:function(args){var dfd=this._makeScriptDeferred(args);var _36d=dfd.ioArgs;dojo._ioAddQueryToUrl(_36d);dojo._ioNotifyStart(dfd);if(this._canAttach(_36d)){var node=this.attach(_36d.id,_36d.url,args.frameDoc);if(!_36d.jsonp&&!_36d.args.checkString){var _36e=dojo.connect(node,_36b,function(evt){if(evt.type=="load"||_36c.test(node.readyState)){dojo.disconnect(_36e);_36d.scriptLoaded=evt;}});}}dojo._ioWatch(dfd,this._validCheck,this._ioCheck,this._resHandle);return dfd;},attach:function(id,url,_36f){var doc=(_36f||dojo.doc);var _370=doc.createElement("script");_370.type="text/javascript";_370.src=url;_370.id=id;_370.charset="utf-8";return doc.getElementsByTagName("head")[0].appendChild(_370);},remove:function(id,_371){dojo.destroy(dojo.byId(id,_371));if(this["jsonp_"+id]){delete this["jsonp_"+id];}},_makeScriptDeferred:function(args){var dfd=dojo._ioSetArgs(args,this._deferredCancel,this._deferredOk,this._deferredError);var _372=dfd.ioArgs;_372.id=dojo._scopeName+"IoScript"+(this._counter++);_372.canDelete=false;_372.jsonp=args.callbackParamName||args.jsonp;if(_372.jsonp){_372.query=_372.query||"";if(_372.query.length>0){_372.query+="&";}_372.query+=_372.jsonp+"="+(args.frameDoc?"parent.":"")+dojo._scopeName+".io.script.jsonp_"+_372.id+"._jsonpCallback";_372.frameDoc=args.frameDoc;_372.canDelete=true;dfd._jsonpCallback=this._jsonpCallback;this["jsonp_"+_372.id]=dfd;}return dfd;},_deferredCancel:function(dfd){dfd.canceled=true;if(dfd.ioArgs.canDelete){dojo.io.script._addDeadScript(dfd.ioArgs);}},_deferredOk:function(dfd){var _373=dfd.ioArgs;if(_373.canDelete){dojo.io.script._addDeadScript(_373);}return _373.json||_373.scriptLoaded||_373;},_deferredError:function(_374,dfd){if(dfd.ioArgs.canDelete){if(_374.dojoType=="timeout"){dojo.io.script.remove(dfd.ioArgs.id,dfd.ioArgs.frameDoc);}else{dojo.io.script._addDeadScript(dfd.ioArgs);}}console.log("dojo.io.script error",_374);return _374;},_deadScripts:[],_counter:1,_addDeadScript:function(_375){dojo.io.script._deadScripts.push({id:_375.id,frameDoc:_375.frameDoc});_375.frameDoc=null;},_validCheck:function(dfd){var _376=dojo.io.script;var _377=_376._deadScripts;if(_377&&_377.length>0){for(var i=0;i<_377.length;i++){_376.remove(_377[i].id,_377[i].frameDoc);_377[i].frameDoc=null;}dojo.io.script._deadScripts=[];}return true;},_ioCheck:function(dfd){var _378=dfd.ioArgs;if(_378.json||(_378.scriptLoaded&&!_378.args.checkString)){return true;}var _379=_378.args.checkString;if(_379&&eval("typeof("+_379+") != 'undefined'")){return true;}return false;},_resHandle:function(dfd){if(dojo.io.script._ioCheck(dfd)){dfd.callback(dfd);}else{dfd.errback(new Error("inconceivable dojo.io.script._resHandle error"));}},_canAttach:function(_37a){return true;},_jsonpCallback:function(json){this.ioArgs.json=json;}};})();}if(!dojo._hasResource["dojox.xml.parser"]){dojo._hasResource["dojox.xml.parser"]=true;dojo.provide("dojox.xml.parser");dojox.xml.parser.parse=function(str,_37b){var _37c=dojo.doc;var doc;_37b=_37b||"text/xml";if(str&&dojo.trim(str)&&"DOMParser" in dojo.global){var _37d=new DOMParser();doc=_37d.parseFromString(str,_37b);var de=doc.documentElement;var _37e="http://www.mozilla.org/newlayout/xml/parsererror.xml";if(de.nodeName=="parsererror"&&de.namespaceURI==_37e){var _37f=de.getElementsByTagNameNS(_37e,"sourcetext")[0];if(_37f){_37f=_37f.firstChild.data;}throw new Error("Error parsing text "+de.firstChild.data+" \n"+_37f);}return doc;}else{if("ActiveXObject" in dojo.global){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];dojo.some(dp,function(p){try{doc=new ActiveXObject(p);}catch(e){return false;}return true;});if(str&&doc){doc.async=false;doc.loadXML(str);var pe=doc.parseError;if(pe.errorCode!==0){throw new Error("Line: "+pe.line+"\n"+"Col: "+pe.linepos+"\n"+"Reason: "+pe.reason+"\n"+"Error Code: "+pe.errorCode+"\n"+"Source: "+pe.srcText);}}if(doc){return doc;}}else{if(_37c.implementation&&_37c.implementation.createDocument){if(str&&dojo.trim(str)&&_37c.createElement){var tmp=_37c.createElement("xml");tmp.innerHTML=str;var _380=_37c.implementation.createDocument("foo","",null);dojo.forEach(tmp.childNodes,function(_381){_380.importNode(_381,true);});return _380;}else{return _37c.implementation.createDocument("","",null);}}}}return null;};dojox.xml.parser.textContent=function(node,text){if(arguments.length>1){var _382=node.ownerDocument||dojo.doc;dojox.xml.parser.replaceChildren(node,_382.createTextNode(text));return text;}else{if(node.textContent!==undefined){return node.textContent;}var _383="";if(node){dojo.forEach(node.childNodes,function(_384){switch(_384.nodeType){case 1:case 5:_383+=dojox.xml.parser.textContent(_384);break;case 3:case 2:case 4:_383+=_384.nodeValue;}});}return _383;}};dojox.xml.parser.replaceChildren=function(node,_385){var _386=[];if(dojo.isIE){dojo.forEach(node.childNodes,function(_387){_386.push(_387);});}dojox.xml.parser.removeChildren(node);dojo.forEach(_386,dojo.destroy);if(!dojo.isArray(_385)){node.appendChild(_385);}else{dojo.forEach(_385,function(_388){node.appendChild(_388);});}};dojox.xml.parser.removeChildren=function(node){var _389=node.childNodes.length;while(node.hasChildNodes()){node.removeChild(node.firstChild);}return _389;};dojox.xml.parser.innerXML=function(node){if(node.innerXML){return node.innerXML;}else{if(node.xml){return node.xml;}else{if(typeof XMLSerializer!="undefined"){return (new XMLSerializer()).serializeToString(node);}}}return null;};}if(!dojo._hasResource["dojox.data.dom"]){dojo._hasResource["dojox.data.dom"]=true;dojo.provide("dojox.data.dom");dojo.deprecated("dojox.data.dom","Use dojox.xml.parser instead.","2.0");dojox.data.dom.createDocument=function(str,_38a){dojo.deprecated("dojox.data.dom.createDocument()","Use dojox.xml.parser.parse() instead.","2.0");try{return dojox.xml.parser.parse(str,_38a);}catch(e){return null;}};dojox.data.dom.textContent=function(node,text){dojo.deprecated("dojox.data.dom.textContent()","Use dojox.xml.parser.textContent() instead.","2.0");if(arguments.length>1){return dojox.xml.parser.textContent(node,text);}else{return dojox.xml.parser.textContent(node);}};dojox.data.dom.replaceChildren=function(node,_38b){dojo.deprecated("dojox.data.dom.replaceChildren()","Use dojox.xml.parser.replaceChildren() instead.","2.0");dojox.xml.parser.replaceChildren(node,_38b);};dojox.data.dom.removeChildren=function(node){dojo.deprecated("dojox.data.dom.removeChildren()","Use dojox.xml.parser.removeChildren() instead.","2.0");return dojox.xml.parser.removeChildren(node);};dojox.data.dom.innerXML=function(node){dojo.deprecated("dojox.data.dom.innerXML()","Use dojox.xml.parser.innerXML() instead.","2.0");return dojox.xml.parser.innerXML(node);};}if(!dojo._hasResource["com.ibm.portal.xslt"]){dojo._hasResource["com.ibm.portal.xslt"]=true;dojo.provide("com.ibm.portal.xslt");dojo.require("dojox.data.dom");dojo.declare("com.ibm.portal.xslt.TransformerFactory",null,{constructor:function(){this._xsltMap=new Array();},newTransformer:function(_38c){ibm.portal.debug.entry("newTransformer",[_38c]);var trf=this._getCached(_38c);if(trf==null){trf=new com.ibm.portal.xslt.Transformer(_38c);this._xsltMap.push({url:_38c,transformer:trf});}return trf;},_getCached:function(_38d){var xslt=null;for(i=0;i<this._xsltMap.length;i++){var _38e=this._xsltMap[i];if(_38d==_38e.url){xslt=_38e.transformer;break;}}return xslt;}});dojo.declare("com.ibm.portal.xslt.Transformer",null,{constructor:function(_38f){this._xslt=com.ibm.portal.xslt.loadXsl(_38f);},transformToRegion:function(_390,_391,node,doc){com.ibm.portal.utilities.html.safeClean(node);if(dojo.isIE||window.ActiveXObject!==undefined){var _392=com.ibm.portal.xslt.transform(_390,this._xslt,null,_391,true);node.innerHTML=dojo.string.trim(_392);}else{var frag=com.ibm.portal.xslt.gecko._transformToFragment(_390,this._xslt,null,_391,doc);node.innerHTML="";node.appendChild(frag);}},transformToDocument:function(_393,_394,_395){var _396=com.ibm.portal.xslt.transform(_393,this._xslt,null,_394,_395);return _396;}});com.ibm.portal.xslt.TRANSFORMER_FACTORY=new com.ibm.portal.xslt.TransformerFactory();com.ibm.portal.xslt.ie={};com.ibm.portal.xslt.gecko={};com.ibm.portal.xslt.getXmlHttpRequest=function(){var oXml=null;if(typeof ActiveXObject!="undefined"){oXml=new ActiveXObject("Microsoft.XMLHTTP");}else{oXml=new XMLHttpRequest();}return oXml;};com.ibm.portal.xslt.loadXml=function(sUrl){if(typeof ActiveXObject!="undefined"||window.ActiveXObject!==undefined){return com.ibm.portal.xslt.ie.loadXml(sUrl);}else{return com.ibm.portal.xslt.gecko.loadXml(sUrl);}};com.ibm.portal.xslt.loadXmlString=function(sXml){if(typeof ActiveXObject!="undefined"||window.ActiveXObject!==undefined){return com.ibm.portal.xslt.ie.loadXmlString(sXml);}else{return com.ibm.portal.xslt.gecko.loadXmlString(sXml);}};com.ibm.portal.xslt.loadXsl=function(sUrl){if(typeof ActiveXObject!="undefined"||window.ActiveXObject!==undefined){return com.ibm.portal.xslt.ie.loadXsl(sUrl);}else{return com.ibm.portal.xslt.gecko.loadXsl(sUrl);}};com.ibm.portal.xslt.transform=function(xml,xsl,_397,_398,_399){ibm.portal.debug.entry("transform",[xml,xsl,_397,_398,_399]);if(typeof ActiveXObject!="undefined"||window.ActiveXObject!==undefined){return com.ibm.portal.xslt.ie.transform(xml,xsl,_397,_398,_399);}else{return com.ibm.portal.xslt.gecko.transform(xml,xsl,_397,_398,_399);}};com.ibm.portal.xslt.transformAndUpdate=function(_39a,xml,xsl,_39b,_39c){ibm.portal.debug.entry("transformAndUpdate",[_39a,xml,xsl,_39b,_39c]);if(typeof ActiveXObject!="undefined"||window.ActiveXObject!==undefined){var _39d=com.ibm.portal.xslt.transform(xml,xsl,_39b,_39c,true);_39a.innerHTML=dojo.string.trim(_39d);}else{var doc=_39a.ownerDocument?_39a.ownerDocument:document;var frag=com.ibm.portal.xslt.gecko._transformToFragment(xml,xsl,_39b,_39c,doc);_39a.innerHTML="";_39a.appendChild(frag);}ibm.portal.debug.exit("transformAndUpdate");};com.ibm.portal.xslt.ie.XSLT_PROG_IDS=["Msxml2.XSLTemplate.6.0","Msxml2.XSLTemplate.4.0","MSXML2.XSLTemplate.3.0","MSXML2.XSLTemplate"];com.ibm.portal.xslt.ie.DOM_PROG_IDS=["MSXML2.FreeThreadedDOMDocument.6.0","Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"];com.ibm.portal.xslt.ie.FTDOM_PROG_IDS=["Msxml2.FreeThreadedDOMDocument.6.0","Msxml2.FreeThreadedDOMDocument.4.0","MSXML2.FreeThreadedDOMDocument","MSXML.FreeThreadedDOMDocument","Microsoft.FreeThreadedXMLDOM"];com.ibm.portal.xslt.ie._getMSXMLImpl=function(_39e){while(_39e.length>0){try{var impl=new ActiveXObject(_39e[0]);if(impl){return impl;}}catch(err){}_39e.splice(0,1);}throw new Error("No MSXML implementation exists");};com.ibm.portal.xslt.ie.loadXml=function(sUrl){var _39f=this._getMSXMLImpl(this.DOM_PROG_IDS);_39f.async=0;_39f.resolveExternals=0;if(!_39f.load(sUrl)){throw new Error("Error loading xml file "+sUrl);}return _39f;};com.ibm.portal.xslt.ie.loadXmlString=function(sXml){var _3a0=this._getMSXMLImpl(this.DOM_PROG_IDS);_3a0.async=0;_3a0.resolveExternals=0;if(sXml){if(!_3a0.loadXML(sXml)){throw new Error("Error loading xml string "+sXml);}}return _3a0;};com.ibm.portal.xslt.ie.loadXsl=function(sUrl){var _3a1=this._getMSXMLImpl(this.FTDOM_PROG_IDS);_3a1.async=0;_3a1.resolveExternals=0;_3a1.setProperty("ForcedResync",false);if(!_3a1.load(sUrl)){throw new Error("Error loading xsl file "+sUrl);}return _3a1;};com.ibm.portal.xslt.ie.transform=function(_3a2,xsl,_3a3,_3a4,_3a5){var oXml=_3a2;var oXsl=xsl;try{if(!oXsl.documentElement){oXsl=this.loadXsl(xsl);}}catch(e){var sMsg=e.message;throw new Error(""+sMsg,""+sMsg);}var _3a6=this._getMSXMLImpl(this.XSLT_PROG_IDS);_3a6.stylesheet=oXsl;var _3a7=_3a6.createProcessor();_3a7.input=oXml;if(_3a4){for(var p in _3a4){_3a7.addParameter(p,_3a4[p]);}}if(_3a3){_3a7.addParameter("mode",_3a3);}if(_3a5){if(!_3a7.transform()){throw new Error("Error transforming xml doc "+oXml);}return _3a7.output;}else{var _3a8=this._getMSXMLImpl(this.DOM_PROG_IDS);_3a8.async=false;_3a8.validateOnParse=false;oXml.transformNodeToObject(oXsl,_3a8);return _3a8;}};com.ibm.portal.xslt.gecko.loadXml=function(sUrl){var _3a9=null;if(dojo.isSafari){var xhr=new XMLHttpRequest();xhr.open("GET",sUrl,false);xhr.send(null);if(xhr.status==200){_3a9=xhr.responseXML;}}else{_3a9=document.implementation.createDocument("","",null);_3a9.async=0;_3a9.load(sUrl);}return _3a9;};com.ibm.portal.xslt.gecko.loadXmlString=function(sXml){var _3aa=new DOMParser();var _3ab=null;if(sXml){try{_3ab=_3aa.parseFromString(sXml,"text/xml");}catch(exc){throw new Error("Error loading xml string "+sXml);}}else{return document.implementation.createDocument("","",null);}return _3ab;};com.ibm.portal.xslt.gecko.loadXsl=function(sUrl){var _3ac=null;if(dojo.isWebKit){var xhr=new XMLHttpRequest();xhr.open("GET",sUrl,false);xhr.send(null);if(xhr.status==200){_3ac=xhr.responseXML;}}else{_3ac=document.implementation.createDocument("","",null);_3ac.async=0;_3ac.load(sUrl);}return _3ac;};com.ibm.portal.xslt.gecko._getXSLTProc=function(_3ad,xsl,_3ae,_3af){var _3b0=xsl;if(!_3b0.documentElement){_3b0=this.loadXsl(xsl);}var proc=new XSLTProcessor();proc.importStylesheet(_3b0);if(_3af){for(var p in _3af){proc.setParameter(null,p,_3af[p]);}}if(_3ae){proc.setParameter(null,"mode",_3ae);}return proc;};com.ibm.portal.xslt.gecko._transformToFragment=function(_3b1,xsl,_3b2,_3b3,doc){var proc=com.ibm.portal.xslt.gecko._getXSLTProc(_3b1,xsl,_3b2,_3b3);var _3b4=null;_3b4=proc.transformToFragment(_3b1,doc);proc.clearParameters();return _3b4;};com.ibm.portal.xslt.gecko.transform=function(_3b5,xsl,_3b6,_3b7,_3b8){try{var _3b9=null;if(!_3b8){var proc=com.ibm.portal.xslt.gecko._getXSLTProc(_3b5,xsl,_3b6,_3b7);_3b9=proc.transformToDocument(_3b5);return _3b9;}else{_3b9=com.ibm.portal.xslt.gecko._transformToFragment(_3b5,xsl,_3b6,_3b7,document);}var _3ba=new XMLSerializer();var _3bb=dojo.string.trim(_3ba.serializeToString(_3b9));if(dojo.isOpera&&_3b9.firstChild&&_3b9.firstChild.nodeName=="result"){var _3bc=_3bb.indexOf("<result>")+8;var end=_3bb.lastIndexOf("</result>");_3bb=dojo.string.trim(_3bb.substring(_3bc,end));}return _3bb;}catch(exc){throw new Error("Error transforming xml doc "+exc);}};com.ibm.portal.xslt.setLayerContentByXml=function(_3bd,xml,xsl,_3be,_3bf){var _3c0=com.ibm.portal.xslt.transform(xml,xsl,null,_3be,_3bf);if(_3bd.innerHTML){_3bd.innerHTML=_3c0;}else{var obj=document.getElementById(_3bd);obj.innerHTML=_3c0;}};}if(!dojo._hasResource["com.ibm.portal.xpath"]){dojo._hasResource["com.ibm.portal.xpath"]=true;dojo.provide("com.ibm.portal.xpath");com.ibm.portal.xpath.evaluateXPath=function(_3c1,doc,_3c2){if(typeof ActiveXObject!="undefined"){return com.ibm.portal.xpath.ie.evaluateXPath(_3c1,doc,_3c2);}else{return com.ibm.portal.xpath.gecko.evaluateXPath(_3c1,doc,_3c2);}};dojo.provide("com.ibm.portal.xpath.ie");com.ibm.portal.xpath.ie.evaluateXPath=function(_3c3,doc,_3c4){if(_3c4){var ns="";for(var prop in _3c4){ns+="xmlns:"+prop+"='"+_3c4[prop]+"' ";}if(doc.ownerDocument){doc.ownerDocument.setProperty("SelectionNamespaces",ns);}else{doc.setProperty("SelectionNamespaces",ns);}}var _3c5=doc.selectNodes(_3c3);var _3c6;var _3c7=[];var len=0;for(var i=0;i<_3c5.length;i++){_3c6=_3c5[i];if(_3c6){_3c7[len]=_3c6;len++;}}return _3c7;};dojo.provide("com.ibm.portal.xpath.gecko");com.ibm.portal.xpath.gecko.evaluateXPath=function(_3c8,doc,_3c9){var _3ca;try{var _3cb=doc;if(!_3cb.evaluate){_3cb=doc.ownerDocument;}_3ca=_3cb.evaluate(_3c8,doc,function(_3cc){return _3c9[_3cc]||null;},XPathResult.ANY_TYPE,null);}catch(exc){throw new Error("Error with xpath expression"+exc);}var _3cd;var _3ce=[];var len=0;do{_3cd=_3ca.iterateNext();if(_3cd){_3ce[len]=_3cd;len++;}}while(_3cd);return _3ce;};}if(!dojo._hasResource["ibm.portal.xml.xslt"]){dojo._hasResource["ibm.portal.xml.xslt"]=true;dojo.provide("ibm.portal.xml.xslt");dojo.require("com.ibm.portal.xslt");ibm.portal.xml.xslt.ie={};ibm.portal.xml.xslt.gecko={};ibm.portal.xml.xslt.getXmlHttpRequest=function(){return com.ibm.portal.xslt.getXmlHttpRequest();};ibm.portal.xml.xslt.loadXml=function(sUrl){return com.ibm.portal.xslt.loadXml(sUrl);};ibm.portal.xml.xslt.loadXmlString=function(sXml){return com.ibm.portal.xslt.loadXmlString(sXml);};ibm.portal.xml.xslt.loadXsl=function(sUrl){return com.ibm.portal.xslt.loadXsl(sUrl);};ibm.portal.xml.xslt.transform=function(xml,xsl,_3cf,_3d0,_3d1){ibm.portal.debug.entry("transform",[xml,xsl,_3cf,_3d0,_3d1]);return com.ibm.portal.xslt.transform(xml,xsl,_3cf,_3d0,_3d1);};ibm.portal.xml.xslt.transformAndUpdate=function(_3d2,xml,xsl,_3d3,_3d4){ibm.portal.debug.entry("transformAndUpdate",[_3d2,xml,xsl,_3d3,_3d4]);com.ibm.portal.xslt.transformAndUpdate(_3d2,xml,xsl,_3d3,_3d4);ibm.portal.debug.exit("transformAndUpdate");};ibm.portal.xml.xslt.ie.loadXml=function(sUrl){return com.ibm.portal.xslt.ie.loadXml(sUrl);};ibm.portal.xml.xslt.ie.loadXmlString=function(sXml){return com.ibm.portal.xslt.ie.loadXmlString(sXml);};ibm.portal.xml.xslt.ie.loadXsl=function(sUrl){return com.ibm.portal.xslt.ie.loadXsl(sUrl);};ibm.portal.xml.xslt.ie.transform=function(_3d5,xsl,_3d6,_3d7,_3d8){return com.ibm.portal.xslt.ie.transform(_3d5,xsl,_3d6,_3d7,_3d8);};ibm.portal.xml.xslt.gecko.loadXml=function(sUrl){return com.ibm.portal.xslt.gecko.loadXml(sUrl);};ibm.portal.xml.xslt.gecko.loadXmlString=function(sXml){return com.ibm.portal.xslt.gecko.loadXmlString(sXml);};ibm.portal.xml.xslt.gecko.loadXsl=function(sUrl){return com.ibm.portal.xslt.gecko.loadXsl(sUrl);};ibm.portal.xml.xslt.gecko.transform=function(_3d9,xsl,_3da,_3db,_3dc){return com.ibm.portal.xslt.gecko.transform(_3d9,xsl,_3da,_3db,_3dc);};ibm.portal.xml.xslt.setLayerContentByXml=function(_3dd,xml,xsl,_3de,_3df){com.ibm.portal.xslt.setLayerContentByXml(_3dd,xml,xsl,_3de,_3df);};}if(!dojo._hasResource["ibm.portal.xml.xpath"]){dojo._hasResource["ibm.portal.xml.xpath"]=true;dojo.provide("ibm.portal.xml.xpath");dojo.require("com.ibm.portal.xpath");ibm.portal.xml.xpath.evaluateXPath=function(_3e0,doc,_3e1){return com.ibm.portal.xpath.evaluateXPath(_3e0,doc,_3e1);};dojo.provide("ibm.portal.xml.xpath.ie");ibm.portal.xml.xpath.ie.evaluateXPath=function(_3e2,doc,_3e3){return com.ibm.portal.xpath.ie.evaluateXPath(_3e2,doc,_3e3);};dojo.provide("ibm.portal.xml.xpath.gecko");ibm.portal.xml.xpath.gecko.evaluateXPath=function(_3e4,doc,_3e5){return com.ibm.portal.xpath.gecko.evaluateXPath(_3e4,doc,_3e5);};}if(!dojo._hasResource["com.ibm.portal.utilities"]){dojo._hasResource["com.ibm.portal.utilities"]=true;dojo.provide("com.ibm.portal.utilities");com.ibm.portal.utilities={findPortletIdByElement:function(_3e6){ibm.portal.debug.entry("findPortletID",[_3e6]);var id="";var _3e7=_3e6.parentNode;while(_3e7&&id.length==0){ibm.portal.debug.text("examining element "+_3e7.tagName+"; class="+_3e7.className,"findPortletID");if(typeof (_3e7.className)=="string"){if(_3e7.className&&(_3e7.className.match(/\bwpsPortletBody\b/)||_3e7.className.match(/\bwpsPortletBodyInlineMode\b/))){id=_3e7.id;var _3e8=id.indexOf("_mode");if(_3e8>=0){id=id.substring(0,_3e8);}}}_3e7=_3e7.parentNode;}if(id.indexOf("portletActions_")>=0){id=id.substring("portletActions_".length);}ibm.portal.debug.exit("findPortletID",[id]);return id;},findFormByElement:function(_3e9){var _3ea=_3e9;while(_3ea){if(_3ea.tagName&&_3ea.tagName.toLowerCase()=="form"){break;}_3ea=_3ea.parentNode;}return _3ea;},encodeURI:function(uri){ibm.portal.debug.entry("encodeURI",[uri]);var _3eb=uri;var _3ec=uri.lastIndexOf(":");while(_3ec>=0){var _3ed=_3eb.substring(0,_3ec);var part=_3eb.substring(_3ec+1);_3eb=_3ed+":"+encodeURIComponent(part);_3ec=_3ed.lastIndexOf(":");}_3eb=encodeURIComponent(_3eb);ibm.portal.debug.exit("encodeURI",[_3eb]);return _3eb;},decodeURI:function(uri){ibm.portal.debug.entry("decodeURI",[uri]);var _3ee=decodeURIComponent(uri);var _3ef=_3ee.indexOf(":");while(_3ef>=0){var _3f0=_3ee.substring(0,_3ef);var part=_3ee.substring(_3ef+1);_3ee=_3f0+":"+decodeURIComponent(part);_3ef=_3ee.indexOf(":",_3ef+1);}ibm.portal.debug.exit("decodeURI",[_3ee]);return _3ee;},getSelectionNodeId:function(_3f1){ibm.portal.debug.entry("getSelectionNodeId",[_3f1]);var _3f2=_3f1.split("@oid:");ibm.portal.debug.exit("getSelectionNodeId",[_3f2[1]]);return _3f2[1];},getControlId:function(_3f3){ibm.portal.debug.entry("_getControlId",[_3f3]);var _3f4=_3f3.split("@oid:");var _3f5=_3f4[0].split("oid:");ibm.portal.debug.exit("getControlId",[_3f5[1]]);return _3f5[1];},getOverwriteMap:function(obj,_3f6){var _3f7=null;var _3f8=com.ibm.portal.utilities.domData.getManager(obj);if(_3f8){_3f7=_3f8.data(obj,"_overwritten_");if(!_3f7&&_3f6){_3f7={};_3f8.data(obj,"_overwritten_",_3f7);}}else{_3f7=obj["_overwritten_"];if(!_3f7&&_3f6){obj["_overwritten_"]=_3f7={};}}return _3f7;},overwriteProperty:function(obj,_3f9,_3fa,_3fb){ibm.portal.debug.entry("overwriteProperty",[obj,_3f9,_3fa,_3fb]);var _3fc=com.ibm.portal.utilities.getOverwriteMap(obj,true);if(!_3fb){_3fb=false;}var _3fd=(_3fb&&(_3fc[_3f9]!=null));if(!_3fd){if(_3fc[_3f9]==null){_3fc[_3f9]=obj[_3f9];}else{_3fc[_3f9]=null;}var _3fe=com.ibm.portal.utilities.domData.getManager(obj);if(_3fe){_3fe.trackProperty(obj,_3f9);}obj[_3f9]=_3fa;ibm.portal.debug.text("Property overwrite successful!");}ibm.portal.debug.exit("overwriteProperty");},restoreProperty:function(obj,_3ff){ibm.portal.debug.entry("utilities.restoreProperty",[obj,_3ff]);var _400=obj[_3ff];var _401=com.ibm.portal.utilities.getOverwriteMap(obj);if(_401!=null){ibm.portal.debug.text("overwritten property value: "+_401);obj[_3ff]=_401[_3ff];_401[_3ff]=null;}else{obj[_3ff]=null;}ibm.portal.debug.exit("utilities.restoreProperty",_400);return _400;},getOverwrittenProperty:function(obj,_402){var _403=com.ibm.portal.utilities.getOverwriteMap(obj);if(_403){return _403[_402];}else{return null;}},setOverwrittenProperty:function(obj,_404,_405){ibm.portal.debug.entry("utilities.setOverwrittenProperty",[obj,_404,_405]);var _406=com.ibm.portal.utilities.getOverwriteMap(obj,true);_406[_404]=_405;ibm.portal.debug.exit("utilities.setOverwrittenProperty");},callOverwrittenFunction:function(_407,_408,args){ibm.portal.debug.entry("utilities.callOverwrittenFunction",[_407,_408,args]);var _409=null;var _40a=this.getOverwrittenProperty(_407,_408);ibm.portal.debug.text("Overwritten property: "+_40a);if(_40a){ibm.portal.debug.text("old property's apply function: "+_40a.apply);if(args){_409=_40a.apply(_407,args);}else{_409=_40a.apply(_407);}}ibm.portal.debug.exit("utilities.callOverwrittenFunction",_409);return _409;},clearOverwrittenProperties:function(obj){ibm.portal.debug.entry("utilities.clearOverwrittenProperties",[obj]);if(obj){com.ibm.portal.utilities.domData(obj,"_overwritten_",null);if(obj["_overwritten_"]){delete obj["_overwritten_"];}}ibm.portal.debug.exit("utilities.clearOverwrittenProperties");},isExternalUrl:function(_40b){ibm.portal.debug.entry("isExternalUrl",[_40b]);var host=window.location.host;var _40c=window.location.protocol;var _40d=_40b.split("?")[0];var _40e=!(_40d.indexOf("://")<0||(_40d.indexOf(_40c)==0&&_40d.indexOf(host)==_40c.length+2));ibm.portal.debug.text("urlStringNoQuery.indexOf(\"://\") = "+_40d.indexOf("://"));ibm.portal.debug.text("urlStringNoQuery.indexOf(protocol) = "+_40d.indexOf(_40c));ibm.portal.debug.exit("isExternalUrl",_40e);return _40e;},isJavascriptUrl:function(_40f){ibm.portal.debug.entry("isJavascriptUrl",[_40f]);var url=com.ibm.portal.utilities.string.trim(_40f.toLowerCase());var _410=(url.indexOf("javascript:")==0);ibm.portal.debug.exit("isJavascriptUrl",_410);return _410;},isPortalUrl:function(_411){ibm.portal.debug.entry("utilities.isPortalUrl",[_411]);var _412=(_411.indexOf(ibmPortalConfig["portalURI"])>=0);ibm.portal.debug.exit("utilities.isPortalUrl",_412);return _412;},addExternalNode:function(doc,node){var _413=false;try{_413=doc.importNode;}catch(e){}var _414=null;if(_413!=false){_414=doc.importNode(node,true);}else{_414=node;}try{doc.appendChild(_414);}catch(e){}},decodeXML:function(_415){ibm.portal.debug.entry("decodeXML",[_415]);var _416=_415.replace(/&amp;/g,"&");var _417=_416.replace(/&amp;/g,"&");_416=_417.replace(/&#039;/g,"'");_417=_416.replace(/&#034;/g,"\"");_417=_417.replace(/&lt;/g,"<");_417=_417.replace(/&gt;/g,">");ibm.portal.debug.exit("decodeXML",[_417]);return _417;},eventHandlerToString:function(_418){var _419=_418.toString();var _41a=_419.indexOf("{");var _41b=_419.lastIndexOf("}");onclickStr=_419.substring(_41a+1,_41b);return onclickStr;},_waitingForScript:false,_isWaitingForScript:function(){return com.ibm.portal.utilities._waitingForScript;},stopWaitingForScript:function(){com.ibm.portal.utilities._waitingForScript=false;},waitFor:function(_41c,_41d,_41e,args){var _41f=setInterval(function(){if(_41c()){clearInterval(_41f);if(!args){_41e();}else{_41e(args);}}},_41d);},waitForScript:function(_420,args){com.ibm.portal.utilities._waitingForScript=true;com.ibm.portal.utilities.waitFor(function(){return (!com.ibm.portal.utilities._isWaitingForScript());},500,_420,args);}};(function(){var _421=0,_422=0,mgrs=[],_423={};com.ibm.portal.utilities.DomDataManager=function(_424){this.trackAll=_424;this.dataSet={};this.tracked={};this.trackedProps={};this.trackedConnections={};this.id="DomDataManager"+_422++;mgrs.push(this);_423[this.id]=this;};var _425=["onclick","click","submit","onsubmit"];dojo.extend(com.ibm.portal.utilities.DomDataManager,{getDuid:function(node,set){var d;if(node.nodeType==1){d=node.getAttribute("duid");if(!d){d="duid"+_421++;node.setAttribute("duid",d);}}else{d=node.duid;if(!d){d=node.duid="duid"+_421++;}}if(_421==Number.MAX_VALUE){_421=0;}return d;},data:function(node,key,_426){if(node){var d,duid;if(arguments.length>2){duid=this.getDuid(node,true);if(this.trackAll){this.track(node);}d=this.dataSet[duid];if(!d){d=this.dataSet[duid]={};}d[key]=_426;node._domMgrId=this.id;return _426;}else{duid=this.getDuid(node);if(duid){d=this.dataSet[duid];if(d){return d[key];}}return null;}}},track:function(node){if(node&&node.nodeType==1){var d=this.getDuid(node,true);this.tracked[d]=node;return d;}return null;},trackProperty:function(node,prop){var duid=this.track(node);if(duid){if(!this.trackedProps[duid]){this.trackedProps[duid]={};}this.trackedProps[duid][prop]=true;}},trackConnection:function(node,conn){var duid=this.track(node);if(duid&&!this.trackedConnections[duid]){this.trackedConnections[duid]=[];}this.trackedConnections[duid].push(conn);},toString:function(){return this.id;},_nodeExists:function(n){while(n){if(n.parentNode==dojo.body()){return true;}n=n.parentNode;}return false;},cleanNode:function(node){if(node&&this.tracked){var i=this.track(node);if(i){for(var p in this.trackedProps[i]){this.tracked[i][p]=null;}for(var x=0;x<_425.length;x++){try{this.tracked[i][_425[x]]=null;}catch(err){}}if(this.trackedConnections[i]){while(this.trackedConnections[i].length>0){dojo.disconnect(this.trackedConnections[i].pop());}}delete this.trackedConnections[i];delete this.trackedProps[i];delete this.dataSet[i];delete this.tracked[i];}}},clean:function(_427){for(var i in this.tracked){if(_427||!this._nodeExists(this.tracked[i])){this.cleanNode(this.tracked[i]);}}},destroy:function(){this.clean(true);delete this.dataSet;delete this.tracked;delete this.trackedProps;delete this.trackedConnections;for(var i=0;i<mgrs.length;i++){if(mgrs[i]==this){mgrs.splice(i,1);break;}}for(var id in _428){if(_428[id]==this){delete _428[id];}}delete _423[this.id];}});var _429=new com.ibm.portal.utilities.DomDataManager(true);var _42a=_429;var _428={};dojo.addOnWindowUnload(function(){while(mgrs.length>0){mgrs.pop().destroy();}});com.ibm.portal.utilities.domData=function(){var mgr=com.ibm.portal.utilities.domData.getManager(arguments[0]);if(mgr){return mgr.data.apply(mgr,arguments);}};dojo.mixin(com.ibm.portal.utilities.domData,{setCurrent:function(mgr){if(mgr!=null){_42a=mgr;}},resetCurrent:function(){_42a=_429;},getCurrent:function(){return _42a;},getManager:function(node){if(node==document||node==dojo.body()){return _429;}else{if(node==window||typeof node.nodeName!="string"||typeof node.nodeType!="number"){return null;}else{if(node._domMgrId){return _423[node._domMgrId]||_42a;}else{return _42a;}}}},register:function(mgr,id){_428[id]=mgr;},get:function(id){return _428[id];}});dojo.subscribe("/portal/DOM/StartUpdate",function(id){var mgr=com.ibm.portal.utilities.domData.get(id);if(mgr){com.ibm.portal.utilities.domData.setCurrent(mgr);}});dojo.subscribe("/portal/DOM/StopUpdate",function(id){var mgr=com.ibm.portal.utilities.domData.get(id);if(mgr==com.ibm.portal.utilities.domData.getCurrent()){com.ibm.portal.utilities.domData.resetCurrent();}});})();com.ibm.portal.utilities.string={findNext:function(_42b,_42c,from){ibm.portal.debug.entry("string.findNext",[_42b,_42c]);var _42d=-1;for(var i=0;i<_42c.length;i++){var _42e=null;if(from){_42e=from+_42c[i].length;}var _42f=_42b.indexOf(_42c[i],_42e);if(_42f>-1&&(_42f<_42d||_42d==-1)){_42d=_42f;}}ibm.portal.debug.exit("string.findNext",[_42d]);return _42d;},contains:function(_430,_431){ibm.portal.debug.entry("string.contains",[_430,_431]);var _432=false;if(_430!=null&&_431!=null){_432=(_430.indexOf(_431)!=-1);}ibm.portal.debug.exit("string.contains",[_432]);return _432;},strip:function(_433,_434){ibm.portal.debug.entry("string.strip",[_433,_434]);var _435=_433.replace(new RegExp(_434,"g"),"");ibm.portal.debug.exit("string.strip",[_435]);return _435;},properCase:function(_436){if(_436==null||_436.length<1){return "";}ibm.portal.debug.entry("string.properCase",[_436]);var _437=_436.charAt(0).toUpperCase();if(_436.length>1){_437+=_436.substring(1).toLowerCase();}ibm.portal.debug.exit("string.properCase",[_437]);return _437;},trim:function(_438){ibm.portal.debug.entry("string.trim",[_438]);var _439=_438;_439=_439.replace(/^\s+/,"");_439=_439.replace(/\s+$/,"");ibm.portal.debug.exit("string.trim",_439);return _439;}};dojo.declare("com.ibm.portal.utilities.HttpUrl",null,{constructor:function(_43a){this.scheme=window.location.protocol+"//";this.server=this._extractServer(_43a);this.port=this._extractPort(_43a);this.path=this._extractPath(_43a);this.query=this._extractQuery(_43a);this.anchor="";},addParameter:function(name,_43b){this.query+="&"+name+"="+_43b;},toString:function(){var str="";if(this.server!=""){str+=this.scheme+this.server;}if(this.port!=""){str+=":"+this.port;}str+="/"+this.path;if(this.query!=""){str+="?"+this.query;}if(this.anchor!=""){str+="#"+this.anchor;}return str;},_extractServer:function(_43c){var _43d=_43c.indexOf(this.scheme);var _43e="";if(_43d==0){var _43f=_43c.indexOf("/",_43d+this.scheme.length);var _440=_43c.substring(_43d+this.scheme.length,_43f);_43e=_440.split(":")[0];}return _43e;},_extractPort:function(_441){var _442=_441.indexOf(this.server);var _443="";if(_442>=0){var _444=_441.indexOf("/",_442);var _445=_441.substring(_442,_444);var _446=_445.split(":");if(_446.length>1){_443=_446[1];}}return _443;},_extractPath:function(_447){var _448=_447.indexOf(this.server);var _449="";if(_448>=0){var _44a=_447.indexOf("/",_448);var _44b=_447.indexOf("?");var _44c=_447.lastIndexOf("#");if(_44b>=0){_449=_447.substring(_44a+1,_44b);}else{if(_44c>=0){_449=_447.substring(_44a+1,_44c);}else{_449=_447.substring(_44a+1);}}}return _449;},_extractQuery:function(_44d){var _44e="";var _44f=_44d.split("?");if(_44f.length>1){_44e=_44f[1].split("#")[0];}return _44e;},_extractAnchor:function(_450){var _451="";var _452=_450.split("#");if(_452.length>1){_451=_452[_452.length-1];}return _451;}});}if(!dojo._hasResource["com.ibm.portal.debug"]){dojo._hasResource["com.ibm.portal.debug"]=true;dojo.provide("com.ibm.portal.debug");dojo.provide("ibm.portal.debug");ibm.portal.debug.setTrace=function(_453){ibm.portal.debug._traceString=_453;};ibm.portal.debug._isDebugEnabled=function(){var _454=false;if(typeof (ibmPortalConfig)!="undefined"){if(ibmPortalConfig&&ibmPortalConfig.isDebug){_454=true;}}return _454;};ibm.portal.debug.text=function(str,_455){if(typeof (ibmPortalConfig)!="undefined"){if(ibmPortalConfig&&ibmPortalConfig.isDebug){var _456=ibm.portal.debug._traceString;if(_456){if(_455){if(_455.indexOf(_456)>=0){window.console.log(str);}}}else{window.console.log(str);}}}};ibm.portal.debug.entry=function(_457,args){if(ibm.portal.debug._isDebugEnabled()){var _458=_457+" --> entry; { ";if(args&&args.length>0){for(arg in args){_458=_458+args[arg]+" ";}}_458=_458+" } ";ibm.portal.debug.text(_458,_457);}};ibm.portal.debug.exit=function(_459,_45a){if(ibm.portal.debug._isDebugEnabled()){var _45b=_459+" --> exit;";if(typeof (_45a)!="undefined"){_45b=_45b+" { "+_45a+" } ";}ibm.portal.debug.text(_45b,_459);}};ibm.portal.debug.escapeXmlForHTMLDisplay=function(_45c){_45c=_45c.replace(/</g,"&lt;");_45c=_45c.replace(/>/g,"&gt;");return _45c;};}if(!dojo._hasResource["com.ibm.ajax.auth"]){dojo._hasResource["com.ibm.ajax.auth"]=true;dojo.provide("com.ibm.ajax.auth");com.ibm.ajax.auth={prepareSecure:function(args,_45d,_45e){args._handle=args.handle;args.handle=dojo.partial(this.testAuthenticationHandler,this,_45d,_45e);return args;},setAuthenticationHandler:function(_45f){this.authenticationHandler=_45f;},setTestAuthenticationHandler:function(_460){this.testAuthenticationHandler=_460;},setDefaultAuthenticationTests:function(_461,_462,_463){this.checkFromCaller=_461;this.checkByContentType=_462;this.checkByStatusCode=_463;},addAuthenticationCheck:function(_464){if(_464){this.authenticationChecks.push(_464);}},isAuthenticationRequired:function(_465,_466){var _467=_466.args.handleAs;var _468=false;if(!_465||dojo.indexOf(["cancel","timeout"],_465.dojoType)==-1){if(this.checkByContentType&&dojo.indexOf(["xml","json","json-comment-optional","text"],_467)!=-1&&_466.xhr&&/^text\/html/.exec(_466.xhr.getResponseHeader("Content-Type"))&&_466.xhr.status>=200&&_466.xhr.status<300){ibm.portal.debug.text("auth::isAuthenticationRequired DEBUG content type does not match request, assume logged out");return true;}else{if(this.checkByStatusCode&&dojo.indexOf(["xml","json","json-comment-optional","text"],_467)!=-1&&_466.xhr&&_466.xhr.status==302){ibm.portal.debug.text("auth::isAuthenticationRequired DEBUG redirect received, assume login request");return true;}else{if(this.checkByStatusCode&&_466.xhr&&(_466.xhr.status==401||_466.xhr.status==0)&&_466.xhr.getResponseHeader("WWW-Authenticate")&&_466.xhr.getResponseHeader("WWW-Authenticate").indexOf("IBMXHR")!=-1){ibm.portal.debug.text("auth::isAuthenticationRequired DEBUG Portal 401 received, assume login required");return true;}}}}if(!_468){for(var i=0;i<this.authenticationChecks.length;i++){if(this.authenticationChecks[i](this,_465,_466)){return true;}}}return false;},testAuthenticationHandler:function(auth,_469,_46a,_46b,_46c){var args=dojo._toArray(arguments).slice(3);var _46d=false;if(!_46b||dojo.indexOf(["cancel","timeout"],_46b.dojoType)==-1){if(auth.checkFromCaller&&typeof _469=="function"&&_469(_46b,_46c)){_46d=true;}else{_46d=auth.isAuthenticationRequired(_46b,_46c,_469);}}if(_46d){var path=auth._parseUri(_46c.args.url).path;dojo.cookie("WASPostParam",null,{expires:-1,path:path});dojo.cookie("WASReqURL",null,{expires:-1,path:"/"});auth.authenticationHandler(_46b,_46c,_46a);args[0]=new Error("xhr unauthenticated");args[0].dojoType="unauthenticated";}if(_46c.args._handle){return _46c.args._handle.apply(this,args);}else{return (_46b);}},_parseUri:function(uri){if(!uri){return null;}uri=new dojo._Url(uri);var _46e=this._splitQuery(uri.query);uri.queryParameters=_46e;return uri;},_splitQuery:function(_46f){var _470={};if(!_46f){return _470;}if(_46f.charAt(0)=="?"){_46f=_46f.substring(1);}var args=_46f.split("&");for(var i=0;i<args.length;i++){if(args[i].length>0){var _471=args[i].indexOf("=");if(_471==-1){var key=decodeURIComponent(args[i]);var _472=_470[key];if(dojo.isArray(_472)){_472.push("");}else{if(_472){_470[key]=[_472,""];}else{_470[key]="";}}}else{if(_471>0){var key=decodeURIComponent(args[i].substring(0,_471));var _473=decodeURIComponent(args[i].substring(_471+1));var _472=_470[key];if(dojo.isArray(_472)){_472.push(_473);}else{if(_472){_470[key]=[_472,_473];}else{_470[key]=_473;}}}}}}return _470;},checkFromCaller:true,checkByContentType:true,checkByStatusCode:true,authenticationChecks:[],authenticationHandler:function(){ibm.portal.debug.text("auth::authenticationHandler DEBUG authentication was required");}};}if(!dojo._hasResource["com.ibm.portal.EventBroker"]){dojo._hasResource["com.ibm.portal.EventBroker"]=true;dojo.provide("com.ibm.portal.EventBroker");dojo.require("com.ibm.portal.debug");dojo.declare("com.ibm.portal.Event",null,{constructor:function(_474){this.eventName=_474;this._listeners=new Array();},fire:function(_475){ibm.portal.debug.text("Firing event: "+this.eventName+" with parameters: ");dojo.publish(this.eventName,[_475]);},register:function(_476,_477){if(!_477){return dojo.subscribe(this.eventName,null,_476);}else{return dojo.subscribe(this.eventName,_476,_477);}},unregister:function(_478){dojo.unsubscribe(_478);},cancel:function(_479){dojo.publish(this.id+"/cancel");}});dojo.declare("com.ibm.portal.EventBroker",null,{startPage:new com.ibm.portal.Event("portal/StartPage"),endPage:new com.ibm.portal.Event("portal/EndPage"),startFragment:new com.ibm.portal.Event("portal/StartFragment"),endFragment:new com.ibm.portal.Event("portal/EndFragment"),fragmentUpdated:new com.ibm.portal.Event("portal/FragmentUpdated"),startRequest:new com.ibm.portal.Event("portal/StartRequest"),endRequest:new com.ibm.portal.Event("portal/EndRequest"),cancelAll:new com.ibm.portal.Event("portal/CancelAll"),cancelFragmentUpdate:new com.ibm.portal.Event("portal/CancelFragmentUpdate"),stateChanged:new com.ibm.portal.Event("portal/StateChanged"),startScriptHandling:new com.ibm.portal.Event("portal/StartScriptHandling"),endScriptHandling:new com.ibm.portal.Event("portal/EndScriptHandling"),startScriptExecution:new com.ibm.portal.Event("portal/StartScriptExecution"),endScriptExecution:new com.ibm.portal.Event("portal/EndScriptExecution"),javascriptCleanup:new com.ibm.portal.Event("portal/JavascriptCleanup"),beforeSnapShot:new com.ibm.portal.Event("portal/BeforeSnapShot"),afterSnapShot:new com.ibm.portal.Event("portal/AfterSnapShot"),restorePointUpdated:new com.ibm.portal.Event("portal/RestorePointUpdated"),clearRestorePoint:new com.ibm.portal.Event("portal/ClearRestorePoint"),stopEvent:new com.ibm.portal.Event("portal/StopEvent"),redirect:new com.ibm.portal.Event("portal/Redirect")});com.ibm.portal.EVENT_BROKER=new com.ibm.portal.EventBroker();}if(!dojo._hasResource["com.ibm.portal.services.PortalRestServiceRequestQueue"]){dojo._hasResource["com.ibm.portal.services.PortalRestServiceRequestQueue"]=true;dojo.provide("com.ibm.portal.services.PortalRestServiceRequestQueue");dojo.declare("com.ibm.portal.services.PortalRestServiceRequestQueue",null,{maxNumberOfActiveRequests:4,constructor:function(){var _47a="PortalRestServiceRequestQueue.constructor";ibm.portal.debug.entry(_47a);this._activeRequests=0;this._requestQueue=[];ibm.portal.debug.exit(_47a);},add:function(req){var _47b="PortalRestServiceRequestQueue.add";ibm.portal.debug.entry(_47b,[req]);this._requestQueue.push(req);var me=this;setTimeout(function(){me._executeNextRequest();},5);ibm.portal.debug.exit(_47b);},_executeNextRequest:function(){var _47c="PortalRestServiceRequestQueue._executeNextRequest";ibm.portal.debug.entry(_47c);ibm.portal.debug.text(this._requestQueue.length+" request(s) in the queue. "+this._activeRequests+" active request(s) currently.",_47c);if(this._requestQueue.length>0&&this._activeRequests<this.maxNumberOfActiveRequests){var _47d=this._requestQueue.shift();ibm.portal.debug.text("Executing request: "+_47d,_47c);var me=this;setTimeout(function(){me._activeRequests=me._activeRequests+1;_47d.execute(function(){me._notifyComplete();});},1);}else{ibm.portal.debug.text("No request(s) pending or maximum number of requests already currently active.",_47c);}ibm.portal.debug.exit(_47c);},_notifyComplete:function(){var _47e="PortalRestServiceRequestQueue._notifyComplete";this._activeRequests=this._activeRequests-1;if(this._activeRequests<0){this._activeRequests=0;}var me=this;setTimeout(function(){me._executeNextRequest();},5);}});}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd.getCopyKeyState=dojo.isCopyKeyPressed;dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _47f=this;dojo.mixin(_47f,args);_47f.node=args.node;_47f._showArgs=dojo.mixin({},args);_47f._showArgs.node=_47f.node;_47f._showArgs.duration=_47f.showDuration;_47f.showAnim=_47f.showFunc(_47f._showArgs);_47f._hideArgs=dojo.mixin({},args);_47f._hideArgs.node=_47f.node;_47f._hideArgs.duration=_47f.hideDuration;_47f.hideAnim=_47f.hideFunc(_47f._hideArgs);dojo.connect(_47f.showAnim,"beforeBegin",dojo.hitch(_47f.hideAnim,"stop",true));dojo.connect(_47f.hideAnim,"beforeBegin",dojo.hitch(_47f.showAnim,"stop",true));},show:function(_480){return this.showAnim.play(_480||0);},hide:function(_481){return this.hideAnim.play(_481||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_482={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _483=function(_484){this._index=-1;this._animations=_484||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_483,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_485,_486){if(!this._current){this._current=this._animations[this._index=0];}if(!_486&&this._current.status()=="playing"){return this;}var _487=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_488=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_489=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_487);d.disconnect(_488);d.disconnect(_489);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_48a,_48b){this.pause();var _48c=this.duration*_48a;this._current=null;d.some(this._animations,function(a){if(a.duration<=_48c){this._current=a;return true;}_48c-=a.duration;return false;});if(this._current){this._current.gotoPercent(_48c/this._current.duration,_48b);}return this;},stop:function(_48d){if(this._current){if(_48d){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_483,_482);dojo.fx.chain=function(_48e){return new _483(_48e);};var _48f=function(_490){this._animations=_490||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_490,function(a){var _491=a.duration;if(a.delay){_491+=a.delay;}if(this.duration<_491){this.duration=_491;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var self=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(d.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};d.extend(_48f,{_doAction:function(_492,args){d.forEach(this._animations,function(a){a[_492].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_493,args){var t=this._pseudoAnimation;t[_493].apply(t,args);},play:function(_494,_495){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_496,_497){var ms=this.duration*_496;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_497);});this._call("gotoPercent",arguments);return this;},stop:function(_498){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_48f,_482);dojo.fx.combine=function(_499){return new _48f(_499);};dojo.fx.wipeIn=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _49a=d.style(node,"height");return Math.max(_49a,1);}},end:function(){return node.scrollHeight;}}}},args));d.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{end:1}}},args));d.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function(args){var node=args.node=d.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=d.animateProperty(d.mixin({properties:{top:args.top||0,left:args.left||0}},args));d.connect(anim,"beforeBegin",anim,init);return anim;};})();}if(!dojo._hasResource["com.ibm.portal.utilities.html"]){dojo._hasResource["com.ibm.portal.utilities.html"]=true;dojo.provide("com.ibm.portal.utilities.html");dojo.require("com.ibm.portal.utilities");dojo.require("dojo.fx");com.ibm.portal.utilities.html={createAnchor:function(_49b,href,id,_49c,_49d){ibm.portal.debug.entry("SkinRenderer.createAnchor",[_49b,href,id,_49c,_49d]);var _49e=document.createElement("A");_49e.href=href;if(id){_49e.id=id;}if(_49d){_49e.className=_49d;}if(_49c){_49e.appendChild(document.createTextNode(_49c));}_49b.appendChild(_49e);ibm.portal.debug.exit("SkinRenderer.createAnchor",[_49e]);return _49e;},createButton:function(_49f,href,id,_4a0,_4a1){ibm.portal.debug.entry("SkinRenderer.createButton",[_49f,href,id,_4a0,_4a1]);var _4a2=document.createElement("BUTTON");if(href){_4a2.href=href;}if(id){_4a2.id=id;}if(_4a1){_4a2.className=_4a1;}if(_4a0){_4a2.appendChild(document.createTextNode(_4a0));}_49f.appendChild(_4a2);ibm.portal.debug.exit("SkinRenderer.createButton",[_4a2]);return _4a2;},createImage:function(_4a3,src,id,_4a4,_4a5){ibm.portal.debug.entry("SkinRenderer.createImage",[_4a3,src,id,_4a4,_4a5]);var img=document.createElement("IMG");img.src=src;if(id){img.id=id;}if(_4a4){img.alt=_4a4;img.setAttribute("title",_4a4);if(_4a3.nodeName=="BUTTON"){_4a3.setAttribute("title",_4a4);}}if(_4a5){img.className=_4a5;}_4a3.appendChild(img);ibm.portal.debug.exit("SkinRenderer.createImage",[img]);return img;},createImageAnchor:function(_4a6,src,id,_4a7,_4a8){ibm.portal.debug.entry("SkinRenderer.createImageAnchor",[_4a6,src,id,_4a7,_4a8]);var _4a9=com.ibm.portal.utilities.html.createAnchor(_4a6,"javascript:void(0);");var img=document.createElement("IMG");img.src=src;if(id){img.id=id;}if(_4a7){img.alt=_4a7;img.title=_4a7;}if(_4a8){img.className=_4a8;}_4a9.appendChild(img);ibm.portal.debug.exit("SkinRenderer.createImageAnchor",[img]);return _4a9;},createTemporaryMarkupDiv:function(_4aa){ibm.portal.debug.entry("html.createTemporaryMarkupDiv");var _4ab={markup:_4aa,objects:{}};if(dojo.isIE||window.ActiveXObject!==undefined){_4ab=com.ibm.portal.utilities.html.extractObjectElementsFromString(_4aa);_4ab.markup=com.ibm.portal.utilities.html.replaceForms(_4ab.markup);}var div=document.createElement("DIV");dojo.body().appendChild(div);div.setAttribute("style","display:none");div.innerHTML="<p style='display: none;'>&nbsp;</p>"+_4ab.markup;ibm.portal.debug.exit("html.createTemporaryMarkupDiv",[div]);return {node:div,objects:_4ab.objects};},replaceTemporaryMarkup:function(_4ac,_4ad){var c=_4ac.node.childNodes;if(c&&_4ac.node!=_4ad){while(c.length>0){_4ad.appendChild(c[0]);}}if(dojo.isIE||window.ActiveXObject!==undefined){com.ibm.portal.utilities.html.replaceObjectElementsInMarkup(_4ac.objects);com.ibm.portal.utilities.html.replaceFormMarkers(_4ad);}},extractObjectElementsFromString:function(_4ae){var _4af={};var _4b0=/<object/gi;var _4b1=/<\/object>/gi;var _4b2=_4ae;var _4b3=null;try{_4b3=_4b0.exec(_4b2);if(_4b3&&_4b3.index>-1){var _4b4=_4b3.index;var buf;var end;var _4b5;var id;while(_4b4>-1){buf=_4b2.substring(0,_4b4);end=_4b2.indexOf(">",_4b4);if(_4b2.charAt(end-1)=="/"){_4b0.lastIndex=end;_4b3=_4b0.exec(_4b2);if(_4b3){_4b4=_4b3.index;continue;}else{break;}}_4b1.lastIndex=_4b4;_4b3=_4b1.exec(_4b2);if(_4b3){end=_4b3.index;}else{break;}_4b5=_4b2.substring(_4b4,end+9);id=dojo.dnd.getUniqueId();_4b2=buf+"<div id='"+id+"'></div>"+_4b2.substring(end+9);_4af[id]=_4b5;_4b0.lastIndex=0;_4b3=_4b0.exec(_4b2);if(_4b3){_4b4=_4b3.index;}else{break;}}}_4ae=_4b2;}catch(e){_4af={};}return {markup:_4ae,objects:_4af};},replaceObjectElementsInMarkup:function(_4b6){for(var id in _4b6){var _4b7=dojo.byId(id);if(_4b7){_4b7.outerHTML=_4b6[id];}}},removeNodesOnCondition:function(node,_4b8){if(!_4b8){_4b8=function(){return false;};}if(node&&node.childNodes){for(var i=0;i<node.childNodes.length;i++){if(_4b8(node.childNodes[i])){var _4b9=node.childNodes[i];node.removeChild(_4b9);delete _4b9;i--;}else{this.removeNodesOnCondition(node.childNodes[i],_4b8);}}}},getElementsByTagNames:function(_4ba){ibm.portal.debug.entry("html.getElementsByTagNames",[_4ba]);var _4bb=new Array();for(var i=1;i<arguments.length;i++){var _4bc=_4ba.getElementsByTagName(arguments[i]);ibm.portal.debug.text("found "+_4bc.length+" "+arguments[i]+" tags.");for(var j=0;j<_4bc.length;j++){_4bb.push(_4bc[j]);}}ibm.portal.debug.exit("html.getElementsByTagNames",[_4bb]);return _4bb;},getX:function(elem){ibm.portal.debug.entry("html.getX",[elem]);var size=0;if(elem!=null){if(elem.offsetParent!=null){size+=com.ibm.portal.utilities.html.getX(elem.offsetParent);}if(elem!=null){size+=elem.offsetLeft;}}ibm.portal.debug.exit("html.getX",[size]);return size;},getY:function(elem){ibm.portal.debug.entry("html.getY"[elem]);var size=0;if(elem!=null){if(elem.offsetParent!=null){size+=com.ibm.portal.utilities.html.getY(elem.offsetParent);}if(elem!=null){size+=elem.offsetTop;}}ibm.portal.debug.exit("html.getY",[size]);return size;},convertFormToQuery:function(_4bd,_4be){ibm.portal.debug.entry("html.convertFormToQuery",[_4bd,_4be]);var _4bf=this.getElementsByTagNames(_4bd,"input","select","textarea","button");var _4c0="";var _4c1="&";var _4c2="=";var _4c3=0;for(var i=0;i<_4bf.length;i++){var _4c4=this.convertInputToNameValuePairs(_4bf[i],_4be);for(var k=0;k<_4c4.length;k++){var pair=_4c4[k];if(pair.name!=""){if(_4c3!=0){_4c0+=_4c1;}_4c0+=encodeURIComponent(pair.name);for(var j=0;j<pair.values.length;j++){if(j==0){_4c0+=(_4c2+encodeURIComponent(pair.values[j]));}else{_4c0+=(_4c1+encodeURIComponent(pair.name)+_4c2+encodeURIComponent(pair.values[j]));}}_4c3=_4c3+1;}}}ibm.portal.debug.exit("html.convertFormToQuery",_4c0);return _4c0;},convertInputToNameValuePairs:function(_4c5,_4c6){ibm.portal.debug.entry("html.convertInputToNameValuePairs",[_4c5,_4c6]);var type=_4c5.type;ibm.portal.debug.text("Input type is: "+type);ibm.portal.debug.text("Input name is: "+_4c5.name);var name="";var _4c7=[];var _4c8=[];if(!_4c5.disabled){switch(type.toLowerCase()){case "text":case "password":case "hidden":name=_4c5.name;_4c7.push(_4c5.value);_4c8.push({name:name,values:_4c7});break;case "reset":case "button":if(!_4c6||(_4c5.name==_4c6.name&&_4c5.value==_4c6.value)){name=_4c5.name;_4c7.push(_4c5.value);_4c8.push({name:name,values:_4c7});}break;case "radio":case "checkbox":if(_4c5.checked){name=_4c5.name;_4c7.push(_4c5.value);}_4c8.push({name:name,values:_4c7});break;case "image":if(!_4c6||_4c5.name==_4c6){name=_4c5.name;if(_4c5.value){_4c7.push(_4c5.value);_4c8.push({name:name,values:_4c7});}_4c8.push({name:name+".x",values:[this.getX(_4c5)]});_4c8.push({name:name+".y",values:[this.getY(_4c5)]});}break;case "submit":if(!_4c6||(_4c5.name==_4c6.name&&_4c5.value==_4c6.value)){name=_4c5.name;if(_4c5.value){_4c7.push(_4c5.value);}_4c8.push({name:name,values:_4c7});}break;case "select-one":case "select-multiple":name=_4c5.name;for(var i=0;i<_4c5.options.length;i++){if(_4c5.options[i].selected){var _4c9=_4c5.options[i].value?_4c5.options[i].value:_4c5.options[i].text;_4c7.push(_4c9);}}if(_4c7.length!=0){_4c8.push({name:name,values:_4c7});}break;case "file":break;default:name=_4c5.name;_4c7.push(_4c5.value);_4c8.push({name:name,values:_4c7});}}ibm.portal.debug.exit("html.convertInputToNameValuePairs",_4c8);return _4c8;},isHidden:function(node){return dojo.style(node,"display")=="none";},hide:function(node){dojo.fx.wipeOut({node:node,duration:5}).play();},show:function(node){dojo.fx.wipeIn({node:node,duration:5}).play();},isDescendantOf:function(node,ref){var node=node.parentNode;var _4ca=false;while(node&&!_4ca){if(node==ref){_4ca=true;}node=node.parentNode;}return _4ca;},safeClean:function(node,_4cb){if(!node||node.nodeType!=1){return;}if(dojo.isIE||window.ActiveXObject!==undefined){com.ibm.portal.utilities.html.cleanForms(node);}var _4cc=com.ibm.portal.utilities.domData;dojo.query("[duid]",node).forEach(function(_4cd){var mgr=_4cc.getManager(_4cd);if(mgr){mgr.cleanNode(_4cd);}dojo.destroy(_4cd);});node.innerHTML="";if(!_4cb&&window.CollectGarbage){window.CollectGarbage();}}};(function(){var _4ce=/<\w+([^>]*)>/i,_4cf=/([\w-]+)=/i;var _4d0={formNodes:[],getAttributeNames:function(node){var ret=[];if(node){var o=node.outerHTML;var m=_4ce.exec(o);if(m&&m.length>1){var _4d1=m[1];m=_4cf.exec(_4d1);while(m&&m.index>-1){ret.push(m[1]);_4d1=_4d1.substr(m.index+m[0].length);m=_4cf.exec(_4d1);}}}return ret;},replaceForms:function(_4d2){return _4d2.replace(/<form/ig,"<div data-csa-xform=\"true\"").replace(/<\/form>/ig,"</div>");},replaceFormMarkers:function(node){dojo.query("[data-csa-xform]",node).forEach(function(_4d3){var _4d4=_4d0.getNode(_4d3.getAttribute("name"));_4d3.parentNode.insertBefore(_4d4,_4d3);_4d0.moveContents(_4d3,_4d4);_4d3.innerHTML="";_4d0.copyAttributes(_4d3,_4d4);dojo.destroy(_4d3);_4d3=null;});},getNode:function(name){var _4d5;if(_4d0.formNodes.length>0){if(name){_4d5=_4d0.checkFormBank(name);if(_4d5){ibm.portal.debug.text("getNode: returning form with name from bank: "+_4d5.outerHTML);return _4d5;}else{ibm.portal.debug.text("getNode: bank did not have a form with name");return _4d0.createForm(name);}}else{_4d5=_4d0.checkFormBank(null);if(_4d5){ibm.portal.debug.text("getNode: no name specified, returning form from bank: "+_4d5.outerHTML);return _4d5;}else{ibm.portal.debug.text("getNode: no name specified, no blank form in bank");return _4d0.createForm(null);}}}else{ibm.portal.debug.text("getNode: no forms in bank");return _4d0.createForm(name);}},checkFormBank:function(name){var i;var _4d6;var j=_4d0.formNodes.length;if(j>0){for(i=0;i<j;i++){if(name&&_4d0.formNodes[i].getAttribute("name")){if(_4d0.formNodes[i].getAttribute("name").toLowerCase()==name.toLowerCase()){_4d6=_4d0.formNodes[i];ibm.portal.debug.text("checkFormBank: returning "+_4d6.toString());_4d0.formNodes.splice(i,1);return _4d6;}}else{if(!(name&&_4d0.formNodes[i].getAttribute("name"))){_4d6=_4d0.formNodes[i];ibm.portal.debug.text("checkFormBank: returning null form from bank");_4d0.formNodes.splice(i,1);return _4d6;}}}ibm.portal.debug.text("checkFormBank: no attributes match returning null");return null;}else{ibm.portal.debug.text("checkFormBank: formBank is empty");return null;}},createForm:function(name){var node;if(name!=null){ibm.portal.debug.text("createForm: creating form with name");node=document.createElement("<form name='"+name+"' ></form>");}else{ibm.portal.debug.text("createForm: creating blank form");node=document.createElement("form");}node._attachEvent=node.attachEvent;node._listeners=[];node.attachEvent=function(nom,fn){this._listeners.push(fn);return this._attachEvent(nom,fn);};return node;},returnNode:function(node){if(node){if(node._listeners){while(node._listeners.length>0){node.detachEvent(node._listeners.shift());}}var _4d7=com.ibm.portal.utilities.domData.getManager(node);if(_4d7){_4d7.cleanNode(node);}com.ibm.portal.utilities.html.safeClean(node);_4d0.clearAttributes(node);if(node.parentNode){node.parentNode.removeChild(node);}_4d0.formNodes.push(node);}},clearAttributes:function(node){if(node){var _4d8=_4d0.getAttributeNames(node),n;if(_4d8){for(var j=0;j<_4d8.length;j++){n=_4d8[j];if(n!="duid"&&n.toLowerCase()!="name"){node.removeAttribute(n);}}}}},copyAttributes:function(node,copy){if(node){var _4d9=_4d0.getAttributeNames(node),n,_4da;if(_4d9){for(var j=0;j<_4d9.length;j++){n=_4d9[j];if(n=="data-csa-xform"){continue;}_4da=node.getAttributeNode(n);if(_4da){ibm.portal.debug.text("copyAttributes is setting both enctype and encoding to: "+_4da.value);if(n=="enctype"||n=="encoding"){copy.setAttribute("enctype",_4da.value);copy.setAttribute("encoding",_4da.value);}else{ibm.portal.debug.text("copyAttributes is setting: "+n+" to: "+_4da.value);copy.setAttribute(n.toLowerCase(),_4da.value);}}}}copy.style.cssText=node.style.cssText;}},moveContents:function(_4db,_4dc){var c=_4db.childNodes;if(c&&_4db!=_4dc){while(c.length>0){_4dc.appendChild(c[0]);}}},cleanForms:function(node){if(node){var _4dd=dojo.query("form",node).forEach(function(_4de){_4d0.returnNode(_4de);});}}};dojo.mixin(com.ibm.portal.utilities.html,{replaceForms:_4d0.replaceForms,replaceFormMarkers:_4d0.replaceFormMarkers,cleanForms:_4d0.cleanForms});dojo.addOnWindowUnload(function(){var node;while(_4d0.formNodes.length>0){node=_4d0.formNodes.shift();if(node){var _4df=com.ibm.portal.utilities.domData.getManager(node);if(_4df){_4df.cleanNode(node);}node._attachEvent=null;node.attachEvent=null;node._listeners=null;}}});})();}if(!dojo._hasResource["com.ibm.portal.services.PortalRestServiceRequest"]){dojo._hasResource["com.ibm.portal.services.PortalRestServiceRequest"]=true;dojo.provide("com.ibm.portal.services.PortalRestServiceRequest");dojo.require("com.ibm.ajax.auth");dojo.require("com.ibm.portal.EventBroker");dojo.require("com.ibm.portal.services.PortalRestServiceRequestQueue");dojo.declare("com.ibm.portal.services.ContentHandlerURL",null,{constructor:function(uri,_4e0,verb,_4e1){ibm.portal.debug.entry("ContentHandlerURL.constructor",[uri,_4e0,verb,_4e1]);if(uri==null){return null;}if(!_4e0){_4e0=2;}var _4e2=com.ibm.portal.navigation.controller.NAVIGATION_CONTROLLER.getState();var _4e3=_4e2.getLocale();if(_4e3){if(_4e1){_4e1+="&locale="+_4e3;}else{_4e1="&locale="+_4e3;}}this.url="";if(uri.charAt(0)=="?"){this.url=this._fromQueryString(uri,_4e1);}else{if(uri.charAt(0)=="/"){this.url=uri;if(this.url.indexOf("rep=compact")<0&&this.url.indexOf("rep=full")<0){if(uri.indexOf("?")!=-1){this.url=this.url+"&rep=compact";}else{this.url=this.url+"?rep=compact";}}if(_4e1){this.url=this.url+_4e1;}}else{this.url=this._fromURI(uri,_4e0,"download",_4e1);}}ibm.portal.debug.exit("ContentHandlerURL.constructor");},_fromQueryString:function(_4e4,_4e5){ibm.portal.debug.entry("fromQueryString",[_4e4]);var str=ibmPortalConfig["contentHandlerURI"]+_4e4;str=str.replace(/&amp;/g,"&");if(_4e5){str=str+_4e5;}if(str.indexOf("rep=compact")<0&&str.indexOf("rep=full")<0){str=str+"&rep=compact";}ibm.portal.debug.exit("fromQueryString",[str]);return str;},_fromURI:function(uri,_4e6,verb,_4e7){ibm.portal.debug.entry("ContentHandlerURL._fromURI",[uri,_4e6,verb,_4e7]);uri=com.ibm.portal.utilities.encodeURI(uri);var qStr="?uri="+uri;if(_4e6){qStr=qStr+"&levels="+encodeURIComponent(_4e6);}if(verb){qStr=qStr+"&mode="+encodeURIComponent(verb);}if(_4e7){qStr=qStr+_4e7;}if(qStr.indexOf("rep=compact")<0&&qStr.indexOf("rep=full")<0){qStr=qStr+"&rep=compact";}return this._fromQueryString(qStr);},getURI:function(){ibm.portal.debug.entry("ContentHandlerURL.getURI");return com.ibm.portal.utilities.decodeURI(this._extractParamValue("uri"));},getLevels:function(){return this._extractParamValue("levels");},getVerb:function(){return this._extractParamValue("verb");},_extractParamValue:function(_4e8){ibm.portal.debug.entry("ContentHandlerURL._extractParamValue",[_4e8]);var _4e9=this.url.indexOf(_4e8);var _4ea=this.url.indexOf("&",_4e9);var _4eb=this.url.slice(_4e9+_4e8.length+1,_4ea);ibm.portal.debug.exit("ContentHandlerURL._extractParamValue",[_4eb]);return _4eb;}});dojo.require("com.ibm.portal.utilities.html");dojo.declare("com.ibm.portal.services.PortalRestServiceForm",null,{method:"GET",isMultipart:false,encoding:"application/x-www-form-urlencoded",DomId:null,constructor:function(_4ec){if(_4ec.getAttributeNode("method")){this.method=_4ec.getAttributeNode("method").value;}if(_4ec.getAttributeNode("encType")){this.encoding=_4ec.getAttributeNode("encType").value;}if(_4ec.getAttributeNode("id")){this.DomId=_4ec.getAttributeNode("id").value;}else{DomId=_4ec;}this.isMultipart=(this.encoding=="multipart/form-data");},getDOMElement:function(){return dojo.byId(this.DomId);},submit:function(){this.getDOMElement().submit();},toQuery:function(){return com.ibm.portal.utilities.html.convertFormToQuery(this.getDOMElement());}});com.ibm.portal.services.REQUEST_QUEUE=new com.ibm.portal.services.PortalRestServiceRequestQueue();dojo.declare("com.ibm.portal.services.PortalRestServiceRequest",null,{constructor:function(_4ed,form,_4ee,sync){ibm.portal.debug.entry("PortalRestServiceRequest.constructor",[_4ed,form,_4ee,sync]);this._feedURI=_4ed.url;this._textOnly=_4ee;this._sync=sync;this._form=form;this._customResponseValidator=null;this._onauthenticated=null;if(!this._sync){this._sync=false;}ibm.portal.debug.exit("PortalRestServiceRequest.constructor");},cancelled:false,_deferred:undefined,setAuthenticationValidator:function(_4ef){this._customResponseValidator=_4ef;},setOnAuthenticatedHandler:function(_4f0){this._onauthenticated=_4f0;},create:function(data,_4f1,_4f2){if(!this.cancelled){this._doXmlHttpRequest("POST",data,_4f1,_4f2);}},read:function(_4f3,_4f4){ibm.portal.debug.entry("PortalRestServiceRequest.read",[_4f3,_4f4]);if(!this.cancelled){if(!this._sync){ibm.portal.debug.text("Queueing request!");var q=com.ibm.portal.services.REQUEST_QUEUE;var me=this;q.add({execute:function(_4f5){if(!me.cancelled){com.ibm.portal.EVENT_BROKER.startRequest.fire({uri:me._feedURI});var _4f6=function(arg1,arg2,arg3,arg4){_4f3(arg1,arg2,arg3,arg4);if(_4f5){_4f5();}};if(me._textOnly){me._retrieveRawFeed(_4f6,_4f4);}else{me._retrieve(_4f6,_4f4);}}else{if(_4f5){_4f5();}}}});}else{com.ibm.portal.EVENT_BROKER.startRequest.fire({uri:this._feedURI});if(this._textOnly){this._retrieveRawFeed(_4f3,_4f4);}else{this._retrieve(_4f3,_4f4);}}}ibm.portal.debug.exit("PortalRestServiceRequest.read");},update:function(data,_4f7,_4f8){if(!this.cancelled){this._doXmlHttpRequest("Put",data,_4f7,_4f8);}},remove:function(_4f9,_4fa){if(!this.cancelled){this._doXmlHttpRequest("Delete",null,_4f9,_4fa);}},cancel:function(){this.cancelled=true;if(this._deferred!==undefined){this._deferred.cancel();}},_retrieveRawFeed:function(_4fb,_4fc){ibm.portal.debug.entry("_retrieveRawFeed",[_4fb,_4fc]);var me=this;dojo.xhrGet({url:this._feedURI,load:function(type,data,evt){_4fb(data,_4fc);com.ibm.portal.EVENT_BROKER.endRequest.fire({uri:me._feedURI});},sync:this._sync});ibm.portal.debug.exit("_retrieveRawFeed");},_retrieve:function(_4fd,_4fe,_4ff,_500){ibm.portal.debug.entry("_retrieve",[_4fd]);if(this._form&&this._form.isMultipart){this._doIframeRequest(_4fd,_4fe);}else{this._doXmlHttpRequest("Get",null,_4fd,_4fe);}ibm.portal.debug.exit("PortalRestServiceRequest._retrieve");},_doIframeRequest:function(_501,_502){ibm.portal.debug.entry("PortalRestServiceRequest._doIframeRequest",[_501]);var _503=null;var _504=dojo.dnd.getUniqueId();if(dojo.isIE||window.ActiveXObject!==undefined){_503=document.createElement("<iframe name='"+_504+"' id='"+_504+"' src='about:blank' onload='com.ibm.portal.aggregation.forms.PORTLET_FORM_HANDLER.handleMultiPartResult(this.id);'></iframe>");com.ibm.portal.aggregation.forms.PORTLET_FORM_HANDLER._callbackfns[_504]={fn:_501,args:_502};var url=new com.ibm.portal.utilities.HttpUrl(this._feedURI);url.addParameter("ibm.web2.contentType","text/plain");this._form.getDOMElement().setAttribute("action",url.toString());}else{ibm.portal.debug.text("Creating the iframe... name is: "+_504+"; url is: "+this._feedURI);_503=document.createElement("IFRAME");_503.setAttribute("name",_504);_503.setAttribute("id",_504);var me=this;_503.onload=function(){var xml=window.frames[_504].document;_501("load",xml,null,_502);com.ibm.portal.EVENT_BROKER.endRequest.fire({uri:me._feedURI});};this._form.getDOMElement().setAttribute("action",this._feedURI);}_503.style.visibility="hidden";_503.style.height="1px";_503.style.width="1px";document.body.appendChild(_503);if(window.frames[_504].name!=_504){window.frames[_504].name=_504;}ibm.portal.debug.text("Setting the iframe target attribute to: "+_504);this._form.getDOMElement().setAttribute("target",_504);this._form.submit();ibm.portal.debug.exit("PortalRestServiceRequest._doIframeRequest");},isValidRedirect:function(_505,_506){ibm.portal.debug.text("URLS request: "+_505+" redirect: "+_506);var _507=_505.indexOf("http");var _508=_506.indexOf("http");var _509=false;if(_508==0){var _50a=_505.indexOf("//");var _50b=_506.indexOf("//");if((_50a>0)&&(_50b>0)){var _50c=_505.indexOf(":",_50a);var _50d=_506.indexOf(":",_50b);if(_50c<0){_50c=_505.indexOf("/",_50a+2);}if(_50d<0){_50d=_506.indexOf("/",_50b+2);}var _50e=_505.substring(_50a+2,_50c);ibm.portal.debug.text("request Host is: "+_50e);var _50f=_506.substring(_50b+2,_50d);ibm.portal.debug.text("redirect Host is: "+_50f);if(_50e.toLowerCase()==_50f.toLowerCase()){_509=true;}}}else{_509=true;ibm.portal.debug.text("PortalRestServiceRequest.isValid returning true - relative url");}ibm.portal.debug.text("PortalRestServiceRequest._isValidRedirect returning:"+_509);return _509;},_doXmlHttpRequest:function(_510,body,_511,_512){ibm.portal.debug.entry("PortalRestServiceRequest._doXmlHttpRequest",[_510,body,_511,_512]);ibm.portal.debug.text("Attempting to retrieve: "+this._feedURI+" using method: "+_510+"; synchronously? "+this._sync);var me=this;var args={url:this._feedURI,content:{},headers:{"X-IBM-XHR":"true"},handle:function(_513,_514){ibm.portal.debug.entry("PortalRestServiceRequest.handle",[_513,_514]);if(_513 instanceof Error&&_513.dojoType==="cancel"){_511("cancel",_513,null,_512);return;}var xhr=_514.xhr;ibm.portal.debug.text("XHR object: "+xhr);var _515=com.ibm.portal.services.PortalRestServiceConfig;var _516=xhr.getResponseHeader("X-Request-Digest");if(_516){_515.digest=_516;}if(xhr.status==200){var data=_513;var loc=xhr.getResponseHeader("IBM-Web2-Location");if((loc)&&me.isValidRedirect(top.location.href,loc)){if(loc.indexOf(ibmPortalConfig["portalProtectedURI"])>=0&&me._feedURI.indexOf(ibmPortalConfig["portalPublicURI"])>=0){top.location.href=loc;return;}}var _517=xhr.getResponseHeader("Content-Type");ibm.portal.debug.text("content-type is: "+_517);if(/^text\/html/.exec(_517)&&loc&&(loc.indexOf(ibmPortalConfig["portalProtectedURI"])>-1||loc.indexOf(ibmPortalConfig["portalPublicURI"])>-1)&&me.isValidRedirect(top.location.href,loc)){ibm.portal.debug.text("content-type is text .. follow IBM-Web2-Location");top.location.href=loc;return;}var auth=com.ibm.ajax.auth;var _518=false;if(me._customResponseValidator){_518=me._customResponseValidator(_513,_514);}if(!_518){_518=auth.isAuthenticationRequired(_513,_514);}if(_518){auth.authenticationHandler(_513,_514,me._onauthenticated);return;}ibm.portal.debug.text("Read feed: "+me._feedURI);if(dojo.isIE||window.ActiveXObject!==undefined){var doc=com.ibm.portal.xslt.loadXmlString(data);_511("load",doc,xhr,_512);}else{_511("load",data,xhr,_512);}}else{if(dojo.isFF&&_514.xhr.status==0){return;}else{if(xhr.status==401||xhr.status==0){ibm.portal.debug.text("Basic auth 401 found, trigger reload");com.ibm.ajax.auth.authenticationHandler();return;}else{_511("error",_513,xhr,_512);}}}com.ibm.portal.EVENT_BROKER.endRequest.fire({uri:me._feedURI});ibm.portal.debug.exit("PortalRestServiceRequest.handle");},sync:this._sync,handleAs:"xml"};if(this._form){args.content=dojo.queryToObject(this._form.toQuery());_510=this._form.method;}_510=_510.toUpperCase();if(_510!="GET"&&_510!="POST"){if(ibmPortalConfig&&ibmPortalConfig.xMethodOverride){args.headers["X-Method-Override"]=_510.toUpperCase();_510="Post";}}if(_510=="PUT"&&body){args.putData=body;}else{if(_510=="POST"&&body){args.postData=body;}}if(dojo.isIE||window.ActiveXObject!==undefined){args.content["ibm.web2.contentType"]="text/xml";args.handleAs="text";}var _519=com.ibm.portal.services.PortalRestServiceConfig;if(_519.timeout){args.timeout=_519.timeout;}if(_519.digest){args.content["digest"]=_519.digest;}_510=com.ibm.portal.utilities.string.properCase(_510);var _51a=dojo["xhr"+_510];if(_51a){this._deferred=_51a(args);}else{throw new Error("Invalid request method attempted: "+_510);}ibm.portal.debug.exit("PortalRestServiceRequest._doXmlHttpRequest");},toString:function(){return this._feedURI;}});com.ibm.portal.services.PortalRestServiceConfig={timeout:null,digest:null};(function(){var _51b=false;com.ibm.ajax.auth.setAuthenticationHandler(function(){if(_51b){return;}if(typeof (document.isCSA)=="undefined"){top.location.reload();}else{_51b=true;ibm.portal.debug.entry("DefaultAuthenticationHandler");ibm.portal.debug.text("Illegal response content-type detected!");ibm.portal.debug.text("Parameterized redirect URL is: "+ibmPortalConfig["contentModelBlankURL"]);var _51c=com.ibm.portal.navigation.controller.NAVIGATION_CONTROLLER.getState();var _51d=ibmPortalConfig["contentModelBlankURL"].replace("-----oid-----",_51c.getPageSelection());ibm.portal.debug.text("fullPageRefreshURL is currently: "+_51d);if(dojo.cookie("WASReqURL")!=null){var _51e=_51c.createLinkToCurrentState();var _51f="WASReqURL="+_51e+"; path=/";document.cookie=_51f;}ibm.portal.debug.text("Redirecting to: "+_51d);com.ibm.portal.EVENT_BROKER.redirect.fire({url:_51d});_51b=false;top.location.href=_51d;ibm.portal.debug.exit("DefaultAuthenticationHandler");}});})();}if(!dojo._hasResource["com.ibm.portal.services.PortletFragmentService"]){dojo._hasResource["com.ibm.portal.services.PortletFragmentService"]=true;dojo.provide("com.ibm.portal.services.PortletFragmentService");dojo.require("dojox.data.dom");dojo.require("com.ibm.portal.services.PortalRestServiceRequest");dojo.require("com.ibm.portal.utilities");dojo.require("com.ibm.portal.debug");dojo.require("com.ibm.portal.EventBroker");dojo.declare("com.ibm.portal.services.PortletFragmentURL",null,{constructor:function(uri){if(uri.indexOf("?uri=")==0){this.url=ibmPortalConfig["portalURI"]+uri;this.url=this.url.replace(/&amp;/g,"&");this.url=this.url.replace(/lm:/,"pm:");}else{if(uri.indexOf("lm:")==0){this.url=ibmPortalConfig["portalURI"]+"?uri=fragment:"+uri;this.url=this.url.replace(/lm:/,"pm:");}else{this.url=uri;}}}});dojo.declare("com.ibm.portal.services.PortletInfo",null,{constructor:function(wId,pId,_520,_521,_522,_523,_524,_525,_526,_527,_528,_529){ibm.portal.debug.entry("PortletInfo.constructor",[wId,pId,_520,_521,_522,_523,_525,_529]);this.windowId=wId;this.portletId=pId;this.uri="fragment:pm:oid:"+wId+"@oid:"+pId;this.markup=_520;this.portletModes=_521;this.windowStates=_522;this.dependentPortlets=_523;this.otherPortlets=_524;this.stateVaryExpressions=_526;this.updatedState=_525;this.currentMode=_527;this.currentWindowState=_528;this.portletTitle=_529;ibm.portal.debug.exit("PortletInfo.constructor");}});dojo.declare("com.ibm.portal.services.PortletFragmentService",null,{namespaces:{"xsl":"http://www.w3.org/1999/XSL/Transform","thr":"http://purl.org/syndication/thread/1.0","atom":"http://www.w3.org/2005/Atom","xhtml":"http://www.w3.org/1999/xhtml","model":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.0.1/portal-model-elements","base":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.0/ibm-portal-composite-base","portal":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.0.1/portal-model","xsi":"http://www.w3.org/2001/XMLSchema-instance","state":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state","state-vary":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state-vary"},activeRequests:{},constructor:function(){this.staticContext=com.ibm.portal.services.PortletFragmentService.prototype;},_flagPortletUrl:function(url,_52a){ibm.portal.debug.entry("PortletFragmentService._flagPortletUrl",[url]);var _52b=url.indexOf("uri=fragment:pm:oid:");var _52c=new com.ibm.portal.utilities.HttpUrl(url);_52c.addParameter("ibm.web2.keepRenderMode","false");if(_52b<0){_52a=_52a.replace(/lm:/g,"fragment:pm:");_52c.addParameter("uri",_52a);}ibm.portal.debug.exit("PortletFragmentService._flagPortletUrl",[_52c.toString()]);return _52c.toString();},getPortletInfo:function(_52d,_52e,_52f,form,_530){ibm.portal.debug.entry("PortletFragmentService.getPortletInfo",[_52d,_52e,_52f,form,_530]);if(_52e=="#"||_52e==window.location.href+"#"){ibm.portal.debug.text("Illegal portlet url provided: "+_52e);ibm.portal.debug.text("Aborting request.");return false;}if(com.ibm.portal.utilities.isJavascriptUrl(_52e)){return eval(_52e);}var _531=_52e;if(_531.indexOf(top.location.href)==0){_531=_531.substring(top.location.href.length);while(_531.length>0&&_531.charAt(0)=="/"){_531=_531.substring(1);}}if(_531.indexOf("?")==0){var _532=com.ibm.portal.navigation.controller.NAVIGATION_CONTROLLER.getState();_52e=_532.resolveRelativePortletURL(_531);}if(com.ibm.portal.utilities.isExternalUrl(_52e)){self.location.href=_52e;}else{var url={url:this._flagPortletUrl(_52e,_52d)};var _533=ibmPortalConfig.enforceOneActivePortletRequest;if(_533){var _534=this.staticContext.activeRequests;if(_534[_52d]!==undefined&&_534[_52d]!==null){_534[_52d].cancel();com.ibm.portal.EVENT_BROKER.cancelFragmentUpdate.fire({id:_52d});_534[_52d]=null;}}var _535=new com.ibm.portal.services.PortalRestServiceRequest(url,form);if(!_530){com.ibm.portal.EVENT_BROKER.startFragment.fire({id:_52d});}if(_533){_534[_52d]=_535;}var me=this;_535.read(function(type,_536,xhr){if(_533){_534[_52d]=null;}if(xhr.status==404){var _537=false;for(var i=0;i<com.ibm.portal.aggregation.PORTAL_AGGREGATOR.page._crcPortletChecks.length;i++){if(com.ibm.portal.aggregation.PORTAL_AGGREGATOR.page._crcPortletChecks[i].id==_52d){_537=true;if(com.ibm.portal.aggregation.PORTAL_AGGREGATOR.page._crcPortletChecks[i].state=="pending"){com.ibm.portal.aggregation.PORTAL_AGGREGATOR.page._crcPortletChecks[i].state="error";}}}if(!_537){com.ibm.portal.aggregation.PORTAL_AGGREGATOR.page._crcPortletChecks.push({"id":_52d,"state":"pending"});_535.cancelled=true;com.ibm.portal.aggregation.PORTAL_AGGREGATOR.page.refreshPageForPortlet(_52d);}}if(xhr.status==200&&com.ibm.portal.aggregation.PORTAL_AGGREGATOR.page._crcPortletChecks.length>0){for(var i=0;i<com.ibm.portal.aggregation.PORTAL_AGGREGATOR.page._crcPortletChecks.length;i++){if(com.ibm.portal.aggregation.PORTAL_AGGREGATOR.page._crcPortletChecks[i].id==_52d){com.ibm.portal.aggregation.PORTAL_AGGREGATOR.page._crcPortletChecks.splice(i--,1);}}}if(!_535.cancelled){var _538=null;if(type=="load"){_538=me.createPortletInfo(_536);}if(_536 instanceof Error){_538=_536;}if(!_530){me._fireEvents(_538,_52d,xhr);}if(_52f){_52f(_538,xhr);}}});}ibm.portal.debug.exit("PortletFragmentService.getPortletInfo");},readWindowID:function(_539){ibm.portal.debug.entry("PortletFragmentService.readWindowID",[_539]);var _53a="/atom:feed/atom:entry/atom:id";var _53b=com.ibm.portal.xpath.evaluateXPath(_53a,_539,this.namespaces);var _53c=dojox.data.dom.textContent(_53b[0]);ibm.portal.debug.exit("PortletFragmentService.readWindowID",[_53c.substring(4)]);return _53c.substring(4);},readPortletID:function(_53d){ibm.portal.debug.entry("PortletFragmentService.readPortletID",[_53d]);var _53e="/atom:feed/atom:id";var _53f=com.ibm.portal.xpath.evaluateXPath(_53e,_53d,this.namespaces);var _540=dojox.data.dom.textContent(_53f[0]);ibm.portal.debug.exit("PortletFragmentService.readPortletID",[_540.substring(4)]);return _540.substring(4);},readMarkup:function(_541){ibm.portal.debug.entry("PortletFragmentService.readMarkup",[_541]);var _542="/atom:feed/atom:entry/atom:content";var _543=com.ibm.portal.xpath.evaluateXPath(_542,_541,this.namespaces);var _544="";if(_543!=null&&_543.length>0){_544=dojox.data.dom.textContent(_543[0]);}ibm.portal.debug.exit("PortletFragmentService.readMarkup",[_544]);return _544;},readPortletModes:function(_545){ibm.portal.debug.entry("PortletFragmentService.readPortletModes",[_545]);var _546="/atom:feed/atom:entry/atom:link[@portal:rel='portlet-mode']";var _547=com.ibm.portal.xpath.evaluateXPath(_546,_545,this.namespaces);var _548=new Array();if(_547!=null&&_547.length>0){var _549=_547.length;for(var i=0;i<_549;i++){_548.push({"link":_547[i].getAttribute("href"),"mode":_547[i].getAttribute("title")});}}ibm.portal.debug.exit("PortletFragmentService.readPortletModes",[_548]);return _548;},readWindowStates:function(_54a){ibm.portal.debug.entry("PortletFragmentService.readWindowStates",[_54a]);var _54b="/atom:feed/atom:entry/atom:link[@portal:rel='window-state']";var _54c=com.ibm.portal.xpath.evaluateXPath(_54b,_54a,this.namespaces);var _54d=new Array();if(_54c!=null&&_54c.length>0){var _54e=_54c.length;for(var i=0;i<_54e;i++){_54d.push({"link":_54c[i].getAttribute("href"),"mode":_54c[i].getAttribute("title")});}}ibm.portal.debug.exit("PortletFragmentService.readWindowStates",[_54d]);return _54d;},readDependentPortlets:function(_54f){ibm.portal.debug.entry("PortletFragmentService.readDependentPortlets",[_54f]);var _550="/atom:feed/atom:link[@portal:rel='dependent']";var _551=com.ibm.portal.xpath.evaluateXPath(_550,_54f,this.namespaces);var _552=new Array();if(_551!=null&&_551.length>0){var _553=_551.length;for(var i=0;i<_553;i++){_552.push({"link":_551[i].getAttribute("href"),"portlet":_551[i].getAttribute("title"),"uri":_551[i].getAttribute("portal:uri")?_551[i].getAttribute("portal:uri"):_551[i].getAttribute("uri")});}}ibm.portal.debug.exit("PortletFragmentService.readDependentPortlets",[_552]);return _552;},readOtherPortlets:function(_554){ibm.portal.debug.entry("PortletFragmentService.readOtherPortlets",[_554]);var _555="/atom:feed/atom:link[@portal:rel='other']";var _556=com.ibm.portal.xpath.evaluateXPath(_555,_554,this.namespaces);var _557=new Array();if(_556!=null&&_556.length>0){var _558=_556.length;for(var i=0;i<_558;i++){_557.push({"link":_556[i].getAttribute("href"),"portlet":_556[i].getAttribute("title"),"uri":_556[i].getAttribute("portal:uri")});}}ibm.portal.debug.exit("PortletFragmentService.readOtherPortlets",[_557]);return _557;},readStateVaryExpressions:function(_559){ibm.portal.debug.entry("PortletFragmentService.readStateVaryExpressions",[_559]);var _55a="/atom:feed/atom:entry/state-vary:state-vary/state-vary:expr";var _55b=com.ibm.portal.xpath.evaluateXPath(_55a,_559,this.namespaces);var _55c=new Array();if(_55b!=null&&_55b.length>0){var _55d=_55b.length;for(var i=0;i<_55d;i++){var _55e=_55b[i].firstChild;if(_55e!=null){_55c.push(_55e.nodeValue);}}}ibm.portal.debug.exit("PortletFragmentService.readStateVaryExpressions",[_55c]);return _55c;},readPortletState:function(_55f){return this._readPortletState(_55f);},_readPortletState:function(_560){ibm.portal.debug.entry("PortletFragmentService.readPortletState",[_560]);var _561="/atom:feed/atom:entry/state:root";var _562=com.ibm.portal.xpath.evaluateXPath(_561,_560,this.namespaces);var _563=null;if(_562!=null&&_562.length>0){var doc=com.ibm.portal.xslt.loadXmlString();com.ibm.portal.utilities.addExternalNode(doc,_562[0]);_563=doc;}else{_561="/atom:feed/state:root";_562=com.ibm.portal.xpath.evaluateXPath(_561,_560,this.namespaces);if(_562!=null&&_562.length>0){var doc=com.ibm.portal.xslt.loadXmlString();com.ibm.portal.utilities.addExternalNode(doc,_562[0]);_563=doc;}}ibm.portal.debug.exit("PortletFragmentService.readPortletState",[_563]);return _563;},readPortletTitle:function(_564){return this._readPortletTitle(_564);},_readPortletTitle:function(_565){ibm.portal.debug.entry("PortletFragmentService.readPortletTitle",[_565]);var _566="/atom:feed/atom:entry/atom:title";var _567=com.ibm.portal.xpath.evaluateXPath(_566,_565,this.namespaces);var _568=dojox.data.dom.textContent(_567[0]);ibm.portal.debug.exit("PortletFragmentService.readPortletTitle",_568);return _568;},_fireEvents:function(_569,_56a,xhr){this._fireGlobalPortletStateChange(_569,_56a,xhr);},_fireGlobalPortletStateChange:function(_56b,_56c,xhr){com.ibm.portal.EVENT_BROKER.endFragment.fire({portletInfo:_56b,id:_56c,xhr:xhr});},_fireIndividualPortletStateChange:function(_56d){},createPortletInfo:function(_56e){var _56f=this.readWindowID(_56e);var _570=this.readPortletID(_56e);var _571=this.readMarkup(_56e);var _572=this.readPortletModes(_56e);var _573=this.readWindowStates(_56e);var _574=this.readDependentPortlets(_56e);var _575=this.readOtherPortlets(_56e);var _576=this.readPortletState(_56e);var _577=this.readStateVaryExpressions(_56e);var _578=this.readPortletTitle(_56e);var _579=_576;if(_579==null){_579=this._readPortletState(_56e);}var _57a=new com.ibm.portal.state.StateManager();var _57b=_57a.newPortletAccessor(_56f,_579);var mode=_57b.getPortletMode();var _57c=_57b.getWindowState();return new com.ibm.portal.services.PortletInfo(_56f,_570,_571,_572,_573,_574,_575,_576,_577,mode,_57c,_578);}});dojo.declare("com.ibm.portal.services.IndependentPortletFragmentService",com.ibm.portal.services.PortletFragmentService,{readDependentPortlets:function(_57d){ibm.portal.debug.entry("DependentPortletFragmentService.readDependentPortlets",[_57d]);var _57e=new Array();ibm.portal.debug.exit("DependentPortletFragmentService.readDependentPortlets",[_57e]);return _57e;},readOtherPortlets:function(_57f){ibm.portal.debug.entry("DependentPortletFragmentService.readOtherPortlets",[_57f]);var _580=new Array();ibm.portal.debug.exit("DependentPortletFragmentService.readOtherPortlets",[_580]);return _580;},readPortletState:function(_581){return null;}});}if(!dojo._hasResource["com.ibm.portal.state"]){dojo._hasResource["com.ibm.portal.state"]=true;dojo.provide("com.ibm.portal.state");dojo.declare("com.ibm.portal.state.StateManager",null,{constructor:function(_582){this.stateDOM=null;this.stateNode=null;this.ns={"state":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state"};this.serializationManager=new com.ibm.portal.state.SerializationManager(_582);},getState:function(){return this.stateDOM;},newState:function(_583,_584,_585){var _586=null;if(_583==null){_586=com.ibm.portal.xslt.loadXmlString();}else{if(_584==null){_586=com.ibm.portal.xslt.loadXmlString(dojox.data.dom.innerXML(_583));}else{var xslt=com.ibm.portal.xslt;var _587=xslt.transform(_583,_584,null,_585,true);_586=com.ibm.portal.xslt.loadXmlString(_587);}}return _586;},reset:function(_588){this.stateDOM=_588;this.stateNode=this._getStateNode(_588);},getSerializationManager:function(){return this.serializationManager;},newExpansionsListAccessor:function(_589){var _58a;var _58b;if(_589==null||this.stateDOM==_589){_58a=this.stateNode;_58b=this.stateDOM;}else{_58a=this._getStateNode(_589);_58b=_589;}return new com.ibm.portal.state.ExpansionsListAccessor(_58a,_58b);},newPortletAccessor:function(_58c,_58d){var _58e;var _58f;if(_58d==null||this.stateDOM==_58d){_58e=this.stateNode;_58f=this.stateDOM;}else{_58e=this._getStateNode(_58d);_58f=_58d;}var expr="state:portlet[@id='"+_58c+"']";var _590=this._getSpecificStateNode("portlet",expr,_58e,_58f);_590.setAttribute("id",_58c);return new com.ibm.portal.state.PortletAccessor(_590,_58f);},newPortletListAccessor:function(_591){var _592;var _593;if(_591==null||this.stateDOM==_591){_592=this.stateNode;_593=this.stateDOM;}else{_592=this._getStateNode(_591);_593=_591;}return new com.ibm.portal.state.PortletListAccessor(_592,_593);},newSelectionAccessor:function(_594){var _595;var _596;if(_594==null||this.stateDOM==_594){_595=this.stateNode;_596=this.stateDOM;}else{_595=this._getStateNode(_594);_596=_594;}var _597=this._getSpecificStateNode("selection","state:selection",_595,_596);return new com.ibm.portal.state.SelectionAccessor(_597,_596);},newSoloStateAccessor:function(_598){var _599;var _59a;if(_598==null||this.stateDOM==_598){_599=this.stateNode;_59a=this.stateDOM;}else{_599=this._getStateNode(_598);_59a=_598;}var _59b=this._getSpecificStateNode("solo","state:solo",_599,_59a);return new com.ibm.portal.state.SoloStateAccessor(_59b,_59a);},newThemeTemplateAccessor:function(_59c){var _59d;var _59e;if(_59c==null||this.stateDOM==_59c){_59d=this.stateNode;_59e=this.stateDOM;}else{_59d=this._getStateNode(_59c);_59e=_59c;}var _59f=this._getSpecificStateNode("theme-template","state:theme-template",_59d,_59e);return new com.ibm.portal.state.ThemeTemplateAccessor(_59f,_59e);},newThemePolicyAccessor:function(_5a0){var _5a1;var _5a2;if(_5a0==null||this.stateDOM==_5a0){_5a1=this.stateNode;_5a2=this.stateDOM;}else{_5a1=this._getStateNode(_5a0);_5a2=_5a0;}var _5a3=this._getSpecificStateNode("theme-policy","state:theme-policy",_5a1,_5a2);return new com.ibm.portal.state.ThemePolicyAccessor(_5a3,_5a2);},newScreenTemplateAccessor:function(_5a4){var _5a5;var _5a6;if(_5a4==null||this.stateDOM==_5a4){_5a5=this.stateNode;_5a6=this.stateDOM;}else{_5a5=this._getStateNode(_5a4);_5a6=_5a4;}var _5a7=this._getSpecificStateNode("screen-template","state:screen-template",_5a5,_5a6);return new com.ibm.portal.state.ScreenTemplateAccessor(_5a7,_5a6);},newLocaleAccessor:function(_5a8){var _5a9;var _5aa;if(_5a8==null||this.stateDOM==_5a8){_5a9=this.stateNode;_5aa=this.stateDOM;}else{_5a9=this._getStateNode(_5a8);_5aa=_5a8;}var _5ab=this._getSpecificStateNode("locale","state:locale",_5a9,_5aa);return new com.ibm.portal.state.LocaleAccessor(_5ab,_5aa);},newStatePartitionAccessor:function(_5ac){var _5ad;var _5ae;if(_5ac==null||this.stateDOM==_5ac){_5ad=this.stateNode;_5ae=this.stateDOM;}else{_5ad=this._getStateNode(_5ac);_5ae=_5ac;}var _5af=this._getSpecificStateNode("statepartition","state:statepartition",_5ad,_5ae);return new com.ibm.portal.state.StatePartitionAccessor(_5af,_5ae);},newSharedStateListAccessor:function(_5b0){var _5b1;var _5b2;if(_5b0==null||this.stateDOM==_5b0){_5b1=this.stateNode;_5b2=this.stateDOM;}else{_5b1=this._getStateNode(_5b0);_5b2=_5b0;}return new com.ibm.portal.state.SharedStateListAccessor(_5b1,_5b2);},newSharedStateAccessor:function(_5b3,_5b4){var _5b5;var _5b6;if(_5b4==null||this.stateDOM==_5b4){_5b5=this.stateNode;_5b6=this.stateDOM;}else{_5b5=this._getStateNode(_5b4);_5b6=_5b4;}var expr="state:shared-parameters[@id='"+_5b3+"']";var _5b7=this._getSpecificStateNode("shared-parameters",expr,_5b5,_5b6);_5b7.setAttribute("id",_5b3);return new com.ibm.portal.state.SharedStateAccessor(_5b3,_5b7,_5b6);},_getStateNode:function(_5b8){var expr="state:root/state:state";var _5b9=com.ibm.portal.xpath.evaluateXPath(expr,_5b8,this.ns);var _5ba=null;if(_5b9&&_5b9.length>0){_5ba=_5b9[0];}else{var root=null;var _5bb="state:root";var _5bc=com.ibm.portal.xpath.evaluateXPath(_5bb,_5b8,this.ns);if(_5bc&&_5bc.length>0){root=_5bc[0];}else{root=this._createElement(_5b8,"root");this._prependChild(root,_5b8);}_5ba=this._createElement(_5b8,"state");this._prependChild(_5ba,root);_5ba.setAttribute("type","navigational");}return _5ba;},_getSpecificStateNode:function(_5bd,_5be,_5bf,_5c0){var _5c1=com.ibm.portal.xpath.evaluateXPath(_5be,_5bf,this.ns);var node;if(_5c1==null||_5c1.length<=0){node=this._createElement(_5c0,_5bd);this._prependChild(node,_5bf);}else{node=_5c1[0];}return node;},_prependChild:function(node,_5c2){try{_5c2.firstChild?_5c2.insertBefore(node,_5c2.firstChild):_5c2.appendChild(node);}catch(e){console.log("Error happend while prepending child node: "+e);}},_createElement:function(dom,name){var _5c3;if(dojo.isIE||window.ActiveXObject!==undefined){_5c3=dom.createNode(1,name,this.ns.state);}else{_5c3=dom.createElementNS(this.ns.state,name);}return _5c3;}});dojo.declare("com.ibm.portal.state.PortletAccessor",null,{constructor:function(_5c4,_5c5){this.portletNode=_5c4;this.stateDOM=_5c5;this.parameters=new com.ibm.portal.state.Parameters(_5c4,_5c5);this.ns={"state":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state"};this.xsltURL=dojo.moduleUrl("com","ibm/portal/state/");},getPortletMode:function(){var expr="state:portlet-mode";var _5c6=com.ibm.portal.xpath.evaluateXPath(expr,this.portletNode,this.ns);var _5c7=ibm.portal.portlet.PortletMode.VIEW;if(_5c6!=null&&_5c6.length>0){var _5c8=_5c6[0].firstChild;if(_5c8!=null){_5c7=_5c8.nodeValue;}}return _5c7;},getWindowState:function(){var expr="state:window-state";var _5c9=com.ibm.portal.xpath.evaluateXPath(expr,this.portletNode,this.ns);var _5ca=ibm.portal.portlet.WindowState.NORMAL;if(_5c9!=null&&_5c9.length>0){var _5cb=_5c9[0].firstChild;if(_5cb!=null){_5ca=_5cb.nodeValue;}}return _5ca;},getRenderParameters:function(){return this.parameters;},setPortletMode:function(_5cc){var expr="state:portlet-mode";var _5cd=com.ibm.portal.xpath.evaluateXPath(expr,this.portletNode,this.ns);if(_5cd==null||_5cd.length<=0){var _5ce=this._createElement(this.stateDOM,"portlet-mode");this._prependChild(_5ce,this.portletNode);var _5cf=this.stateDOM.createTextNode(_5cc);this._prependChild(_5cf,_5ce);}else{_5cd[0].firstChild.nodeValue=_5cc;}},setWindowState:function(_5d0){var expr="state:window-state";var _5d1=com.ibm.portal.xpath.evaluateXPath(expr,this.portletNode,this.ns);if(_5d1==null||_5d1.length<=0){var _5d2=this._createElement(this.stateDOM,"window-state");this._prependChild(_5d2,this.portletNode);var _5d3=this.stateDOM.createTextNode(_5d0);this._prependChild(_5d3,_5d2);}else{_5d1[0].firstChild.nodeValue=_5d0;}},getPortletState:function(){var _5d4=com.ibm.portal.xslt.loadXmlString();var _5d5=com.ibm.portal.state.STATE_MANAGER.newPortletAccessor(this.portletNode.getAttribute("id"),_5d4);_5d5.setPortletMode(this.getPortletMode());_5d5.setWindowState(this.getWindowState());var _5d6=this.getRenderParameters().getMap();if(_5d6.length>0){_5d5.getRenderParameters().putAll(_5d6);}return _5d4;},setPortletState:function(_5d7,_5d8){var _5d9=com.ibm.portal.state.STATE_MANAGER.newPortletAccessor(this.portletNode.getAttribute("id"),_5d7);this.setPortletMode(_5d9.getPortletMode());this.setWindowState(_5d9.getWindowState());var _5da=_5d9.getRenderParameters().getMap();if(_5d8==null||_5d8==false){this.getRenderParameters().clear();}if(_5da.length>0){this.getRenderParameters().putAll(_5da);}},_prependChild:function(node,_5db){_5db.firstChild?_5db.insertBefore(node,_5db.firstChild):_5db.appendChild(node);},_createElement:function(dom,name){var _5dc;if(dojo.isIE||window.ActiveXObject!==undefined){_5dc=dom.createNode(1,name,this.ns.state);}else{_5dc=dom.createElementNS(this.ns.state,name);}return _5dc;}});dojo.declare("com.ibm.portal.state.Parameters",null,{constructor:function(_5dd,_5de){this.baseNode=_5dd;this.stateDOM=_5de;this.ns={"state":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state"};},getMap:function(){var _5df=this.getNames();var map=new Array(_5df.length);for(var i=0;i<_5df.length;i++){var name=_5df[i];map[i]={name:name,values:this.getValues(name)};}return map;},getNames:function(){var expr="state:parameters/state:param";var _5e0=com.ibm.portal.xpath.evaluateXPath(expr,this.baseNode,this.ns);var _5e1=new Array();if(_5e0!=null&&_5e0.length>0){var _5e2=_5e0.length;for(var i=0;i<_5e2;i++){_5e1[i]=_5e0[i].getAttribute("name");}}return _5e1;},getValue:function(name){var _5e3=this.getValues(name);var _5e4=null;if(_5e3!=null&&_5e3.length>0){_5e4=_5e3[0];}return _5e4;},getValues:function(name){var expr="state:parameters/state:param[@name='"+name+"']/state:value";var _5e5=com.ibm.portal.xpath.evaluateXPath(expr,this.baseNode,this.ns);var _5e6=null;if(_5e5!=null&&_5e5.length>0){_5e6=[];dojo.forEach(_5e5,function(node){var _5e7=dojox.xml.parser.textContent(node);_5e6.push(_5e7);});}return _5e6;},remove:function(name){var expr="state:parameters/state:param[@name='"+name+"']";var _5e8=com.ibm.portal.xpath.evaluateXPath(expr,this.baseNode,this.ns);if(_5e8!=null){var _5e9=_5e8[0];if(_5e9&&_5e9.parentNode){_5e9.parentNode.removeChild(_5e9);}}},putAll:function(map){if(map!=null&&map.length>0){for(var i=map.length-1;i>=0;i--){var _5ea=map[i].name;var _5eb=map[i].values;this.setValues(_5ea,_5eb);}}},setValue:function(name,_5ec){this.setValues(name,new Array(_5ec));},setValues:function(name,_5ed){var _5ee=this._getParamsRoot();var expr="state:param[@name='"+name+"']";var _5ef=com.ibm.portal.xpath.evaluateXPath(expr,_5ee,this.ns);var _5f0;if(_5ef&&_5ef.length>0){_5f0=_5ef[0];dojox.data.dom.removeChildren(_5f0);}else{_5f0=this._createElement(this.stateDOM,"param");_5f0.setAttribute("name",name);this._prependChild(_5f0,_5ee);}if(_5ed){for(var i=_5ed.length-1;i>=0;i--){var _5f1=this._createElement(this.stateDOM,"value");this._prependChild(_5f1,_5f0);var _5f2=_5ed[i];if(dojo.isString(_5f2)){var _5f3=this.stateDOM.createTextNode(_5f2);this._prependChild(_5f3,_5f1);}}}},clear:function(){var expr="state:parameters";var _5f4=com.ibm.portal.xpath.evaluateXPath(expr,this.baseNode,this.ns);if(_5f4!=null){var _5f5=_5f4[0];if(_5f5&&_5f5.parentNode){_5f5.parentNode.removeChild(_5f5);}}},_getParamsRoot:function(){if(!this.params){var expr="state:parameters";var _5f6=com.ibm.portal.xpath.evaluateXPath(expr,this.baseNode,this.ns);if(_5f6&&_5f6.length>0){this.params=_5f6[0];}else{var _5f7=this._createElement(this.stateDOM,"parameters");this._prependChild(_5f7,this.baseNode);this.params=_5f7;}}return this.params;},_prependChild:function(node,_5f8){_5f8.firstChild?_5f8.insertBefore(node,_5f8.firstChild):_5f8.appendChild(node);},_createElement:function(dom,name){var _5f9;if(dojo.isIE||window.ActiveXObject!==undefined){_5f9=dom.createNode(1,name,this.ns.state);}else{_5f9=dom.createElementNS(this.ns.state,name);}return _5f9;}});dojo.declare("com.ibm.portal.state.ExpansionsListAccessor",null,{constructor:function(_5fa,_5fb){this.stateNode=_5fa;this.stateDOM=_5fb;this.ns={"state":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state"};},getExpansions:function(){var expr="state:expansions/state:node";var _5fc=com.ibm.portal.xpath.evaluateXPath(expr,this.stateNode,this.ns);var _5fd=null;if(_5fc!=null&&_5fc.length>0){_5fd=new Array(_5fc.length);for(var i=0;i<_5fc.length;i++){var node=_5fc[i];_5fd[i]=node.getAttribute("id");}}return _5fd;},setExpansions:function(ids){var expr="state:expansions";var _5fe=com.ibm.portal.xpath.evaluateXPath(expr,this.stateNode,this.ns);if(_5fe!=null){var _5ff=_5fe[0],node;if(!_5ff){_5ff=this._createElement(this.stateDOM,"expansions");this.stateNode.appendChild(_5ff);}while(_5ff.childNodes.length>0){_5ff.removeChild(_5ff.childNodes[0]);}for(var i=0;i<ids.length;i++){node=this._createElement(this.stateDOM,"node");node.setAttribute("id",ids[i]);_5ff.appendChild(node);}}},_createElement:function(dom,name){var _600;if(dojo.isIE||window.ActiveXObject!==undefined){_600=dom.createNode(1,name,this.ns.state);}else{_600=dom.createElementNS(this.ns.state,name);}return _600;}});dojo.declare("com.ibm.portal.state.PortletListAccessor",null,{constructor:function(_601,_602){this.stateNode=_601;this.stateDOM=_602;this.ns={"state":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state"};},getPortlets:function(){var expr="state:portlet";var _603=com.ibm.portal.xpath.evaluateXPath(expr,this.stateNode,this.ns);var _604=null;if(_603!=null&&_603.length>0){_604=new Array(_603.length);for(var i=0;i<_603.length;i++){var node=_603[i];_604[i]=node.getAttribute("id");}}return _604;}});dojo.declare("com.ibm.portal.state.SharedStateListAccessor",null,{constructor:function(_605,_606){this.stateNode=_605;this.stateDOM=_606;this.ns={"state":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state"};},getScopeIDs:function(){var expr="state:shared-parameters";var _607=com.ibm.portal.xpath.evaluateXPath(expr,this.stateNode,this.ns);var _608=[];if(_607&&_607.length>0){dojo.forEach(_607,function(node){var id=node.getAttribute("id");if(id){_608.push(id);}});}return _608;}});dojo.declare("com.ibm.portal.state.SharedStateAccessor",null,{constructor:function(_609,_60a,_60b){this.scopeID=_609;this.sharedStateNode=_60a;this.stateDOM=_60b;this.xpath=com.ibm.portal.xpath;this.ns={"state":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state"};this.xsltURL=dojo.moduleUrl("com","ibm/portal/state/");},getScopeID:function(){return this.scopeID;},getQNames:function(){var expr="state:shared-parameter";var _60c=this.xpath.evaluateXPath(expr,this.sharedStateNode,this.ns);var _60d=[];if(_60c&&_60c.length>0){var acc=this;dojo.forEach(_60c,function(node){var uri=node.getAttribute("nsuri");var _60e=node.getAttribute("localpart");_60d.push(acc._serializeQName(uri,_60e));});}return _60d;},_serializeQName:function(uri,_60f){return "{"+uri+"}"+_60f;},_deserializeQName:function(_610){var _611=_610.split("}");var _612={};if(_611&&_611.length==2){_612.nsuri=_611[0].substring(1);_612.localpart=_611[1];}return _612;},getValues:function(_613){var _614=this._deserializeQName(_613);var uri=_614.nsuri;var _615=_614.localpart;if(dojo.isString(uri)&&_615){var expr="state:shared-parameter[@nsuri='"+uri+"'][@localpart='"+_615+"']/state:value";var _616=this.xpath.evaluateXPath(expr,this.sharedStateNode,this.ns);if(_616&&_616.length>0){var _617=[];dojo.forEach(_616,function(node){var _618=dojox.xml.parser.textContent(node);if(_618){_617.push(_618);}});return _617;}else{return null;}}},getValue:function(_619){var _61a=this.getValues(_619);if(_61a&&_61a.length>0){return _61a[0];}else{return null;}},setValues:function(_61b,_61c){var _61d=this._deserializeQName(_61b);var uri=_61d.nsuri;var _61e=_61d.localpart;var expr="state:shared-parameter[@nsuri='"+uri+"'][@localpart='"+_61e+"']";var _61f=this.xpath.evaluateXPath(expr,this.sharedStateNode,this.ns);var _620=null;if(_61f&&_61f.length>0){_620=_61f[0];dojox.xml.parser.removeChildren(_620);}else{_620=this._createElement(this.stateDOM,"shared-parameter");_620.setAttribute("nsuri",uri);_620.setAttribute("localpart",_61e);this._prependChild(_620,this.sharedStateNode);}if(_620&&_61c){for(var i=_61c.length-1;i>=0;i--){var _621=this._createElement(this.stateDOM,"value");this._prependChild(_621,_620);var _622=_61c[i];if(dojo.isString(_622)){var _623=this.stateDOM.createTextNode(_622);this._prependChild(_623,_621);}}}},setValue:function(_624,_625){if(_625){this.setValues(_624,[_625]);}},_prependChild:function(node,_626){_626.firstChild?_626.insertBefore(node,_626.firstChild):_626.appendChild(node);},_createElement:function(dom,name){var _627;if(dojo.isIE||window.ActiveXObject!==undefined){_627=dom.createNode(1,name,this.ns.state);}else{_627=dom.createElementNS(this.ns.state,name);}return _627;}});dojo.declare("com.ibm.portal.state.SelectionAccessor",null,{constructor:function(_628,_629){this.selectionNode=_628;this.stateDOM=_629;this.parameters=new com.ibm.portal.state.Parameters(this.selectionNode,_629);this.ns={"state":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state"};},getPageSelection:function(){return this.selectionNode.getAttribute("selection-node");},getFragmentSelection:function(){var _62a=this.getParameters();var _62b=_62a.getValues("frg");var _62c=null;if(_62b!=null&&_62b.length>0){_62c=_62b[0];if(_62b.length>1){if(_62c=="pw"){_62c=_62b[1];}}}return _62c;},getMapping:function(_62d){var expr="state:mapping[@src='"+_62d+"']";var _62e=com.ibm.portal.xpath.evaluateXPath(expr,this.selectionNode,this.ns);var _62f=null;if(_62e!=null&&_62e.length>0){var _630=_62e[0];_62f=_630.getAttribute("dst");}return _62f;},getMappingSources:function(){var expr="state:mapping";var _631=com.ibm.portal.xpath.evaluateXPath(expr,this.selectionNode,this.ns);var _632=[];if(_631&&_631.length>0){dojo.forEach(_631,function(node){var src=node.getAttribute("src");if(src){_632.push(src);}});}return _632;},getParameters:function(){return this.parameters;},setPageSelection:function(_633){this.selectionNode.setAttribute("selection-node",_633);},setURI:function(uri){this.selectionNode.setAttribute("selection-uri",uri);},getURI:function(){return this.selectionNode.getAttribute("selection-uri");},setFragmentSelection:function(_634,_635){var _636=this.getParameters();if(_635==null||_635==true){var _637=new Array(2);_637[0]=_634;_637[1]="pw";_636.setValues("frg",_637);}else{_636.setValue("frg",_634);}},setMapping:function(_638,_639){if(_639!=null){var expr="state:mapping[@src='"+_638+"']";var _63a=com.ibm.portal.xpath.evaluateXPath(expr,this.selectionNode,this.ns);var _63b;if(_63a!=null&&_63a.length>0){_63b=_63a[0];}else{_63b=this._createElement(this.stateDOM,"mapping");this._prependChild(_63b,this.selectionNode);_63b.setAttribute("src",_638);}_63b.setAttribute("dst",_639);}else{this.removeMapping(_638);}},removeMapping:function(_63c){var expr="state:mapping[@src='"+_63c+"']";var _63d=com.ibm.portal.xpath.evaluateXPath(expr,this.selectionNode,this.ns);var _63e=false;if(_63d!=null&&_63d.length>0){for(var i=0;i<_63d.length;i++){var _63f=_63d[i];if(_63f&&_63f.parentNode){_63f.parentNode.removeChild(_63f);}}_63e=true;}return _63e;},_prependChild:function(node,_640){_640.firstChild?_640.insertBefore(node,_640.firstChild):_640.appendChild(node);},_createElement:function(dom,name){var _641;if(dojo.isIE||window.ActiveXObject!==undefined){_641=dom.createNode(1,name,this.ns.state);}else{_641=dom.createElementNS(this.ns.state,name);}return _641;},getSelection:function(){return this.getPageSelection();},setSelection:function(_642){this.setPageSelection(_642);}});dojo.declare("com.ibm.portal.state.SingleTokenAccessor",null,{constructor:function(node,_643){this.node=node;this.stateDOM=_643;},setValue:function(_644){dojox.xml.parser.removeChildren(this.node);if(_644){dojox.xml.parser.textContent(this.node,_644);}},getValue:function(){return dojox.xml.parser.textContent(this.node);},setAttribute:function(name,_645){this.node.setAttribute(name,_645);},getAttribute:function(name){return this.node.getAttribute(name);}});dojo.declare("com.ibm.portal.state.SoloStateAccessor",com.ibm.portal.state.SingleTokenAccessor,{constructor:function(_646,_647){this.soloNode=_646;this.stateDOM=_647;this.ns={"state":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state"};},setSoloPortlet:function(_648){this.setValue(_648);},getSoloPortlet:function(){return this.getValue();},setReturnSelection:function(_649){this.setAttribute("return-selection",_649);},getReturnSelection:function(){return this.getAttribute("return-selection");}});dojo.declare("com.ibm.portal.state.ThemeTemplateAccessor",com.ibm.portal.state.SingleTokenAccessor,{constructor:function(_64a,_64b){this.themeTemplateNode=_64a;this.stateDOM=_64b;},setThemeTemplate:function(_64c){this.setValue(_64c);},getThemeTemplate:function(){return this.getValue();}});dojo.declare("com.ibm.portal.state.ScreenTemplateAccessor",com.ibm.portal.state.SingleTokenAccessor,{constructor:function(_64d,_64e){this.screenTemplateNode=_64d;this.stateDOM=_64e;},setScreenTemplate:function(_64f){this.setValue(_64f);},getScreenTemplate:function(){return this.getValue();}});dojo.declare("com.ibm.portal.state.LocaleAccessor",com.ibm.portal.state.SingleTokenAccessor,{constructor:function(_650,_651){this.localeNode=_650;this.stateDOM=_651;},setLocale:function(_652){this.setValue(_652);},getLocale:function(){return this.getValue();}});dojo.declare("com.ibm.portal.state.ThemePolicyAccessor",com.ibm.portal.state.SingleTokenAccessor,{constructor:function(_653,_654){this.localeNode=_653;this.stateDOM=_654;},setThemePolicy:function(_655){this.setValue(_655);},getThemePolicy:function(){return this.getValue();}});dojo.declare("com.ibm.portal.state.StatePartitionAccessor",com.ibm.portal.state.SingleTokenAccessor,{constructor:function(_656,_657){this.statePartitionNode=_656;this.stateDOM=_657;},includeStatePartition:function(){this.setStatePartition(this._generateID());},setStatePartition:function(_658){this.setValue(_658);},getStatePartition:function(){return this.getValue();},_generateID:function(){return Math.floor(Math.random()*100);}});dojo.declare("com.ibm.portal.state.SerializationManager",null,{STATE_URI_SCHEME:"state",STATE_URI_POST:"state:encode",DOWNLOAD_MODE:"download",STATUS_UNDEFINED:0,STATUS_OK:1,STATUS_ERROR:2,STATE_NS_URI:"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state",JSON_SERIALIZATION:{names:{expansions:"exp",portlets:"pp",pMode:"m",pWState:"w",locale:"lcl",screenTemplate:"scrtm",selection:"sel",selPg:"pg",selFrg:"frg",selURI:"uri",selMaps:"mp",sharedState:"ss",statePartition:"sp",solo:"solo",soloPortlet:"soloP",soloReturn:"soloR",themePolicy:"thp",themeTemplate:"thtm",params:"parm",paramValue:"v"},portlet:{defMode:"view",defWState:"normal"}},constructor:function(_659){this.serviceURL=_659;},sendDebugRequest:function(_65a,_65b,_65c){ibm.portal.debug.entry("SerializationManager.sendDebugRequest",[]);var _65d=_65c?_65c:{};_65d.portalURI=ibmPortalConfig["portalURI"];_65d.stateServiceURL=this.serviceURL.substring(0,40);var _65e=com.ibm.portal.navigation.controller.NAVIGATION_CONTROLLER.getState();_65d.currPage=_65e.getPageSelection();if(_65b){_65d.cType=_65b.xhr.getResponseHeader("Content-Type");_65d.status=_65b.xhr.status;}var _65f=ibmPortalConfig["portalURI"]+"/DEBUG"+this.buildDebugURLContent(_65d)+"/DEBUG";dojo.xhrGet({url:_65f,sync:false,content:{},headers:{"X-IBM-XHR":"true"},handleAs:"xml",handle:function(_660,_661){ibm.portal.debug.text("DebugRequest:Response: "+_660);com.ibm.ajax.auth.authenticationHandler();},transport:"XMLHTTPTransport"});ibm.portal.debug.exit("SerializationManager.sendDebugRequest",[]);},buildDebugURLContent:function(_662){ibm.portal.debug.entry("SerializationManager.buildDebugURLContent",[]);var _663="";for(var key in _662){_663+=("/"+key+":"+_662[key]);}ibm.portal.debug.exit("SerializationManager.buildDebugURLContent",_663);return _663;},isDebugReqNeeded:function(_664,_665){return _664 instanceof Error||!(_665.xhr.status>=200&&_665.xhr.status<300)||com.ibm.ajax.auth.isAuthenticationRequired(_664,_665);},jsonCoders:{to:{expansions:function(obj,mgr){var acc=mgr.newExpansionsListAccessor(),val=acc.getExpansions();if(val&&val.length>0){obj[this.JSON_SERIALIZATION.names.expansions]=val;}},portlets:function(obj,mgr){var acc=mgr.newPortletListAccessor(),fn=this.jsonCoders.to.portlet;dojo.forEach(acc.getPortlets(),function(pid){fn.call(this,pid,obj,mgr);},this);},portlet:function(pid,obj,mgr){var pAcc=mgr.newPortletAccessor(pid),mode=pAcc.getPortletMode(),_666=pAcc.getWindowState(),_667=pAcc.getRenderParameters(),_668=this.JSON_SERIALIZATION.names,_669=this.JSON_SERIALIZATION.portlet,pObj=null,path=[_668.portlets,pid].join(".");if(mode&&mode!=_669.defMode){if(!pObj){pObj=dojo.setObject(path,{},obj);}pObj[_668.pMode]=mode;}if(_666&&_666!=_669.defWState){if(!pObj){pObj=dojo.setObject(path,{},obj);}pObj[_668.pWState]=_666;}var _66a=_667.getNames();if(_66a.length>0){if(!pObj){pObj=dojo.setObject(path,{},obj);}this.jsonCoders.to.params.call(this,pObj,_667);}},selection:function(obj,mgr){var acc=mgr.newSelectionAccessor(),_66b=this.JSON_SERIALIZATION.names,sel=obj[_66b.selection]={},val=acc.getPageSelection(),_66c=acc.getParameters();if(val){sel[_66b.selPg]=val;}val=acc.getFragmentSelection();if(val){sel[_66b.selFrg]=val;}val=acc.getURI();if(val){sel[_66b.selURI]=val;}var _66d=acc.getMappingSources();if(_66d.length>0){var map=sel[_66b.selMaps]={};for(var i=0;i<_66d.length;i++){map[_66d[i]]=acc.getMapping(_66d[i]);}}var _66e=_66c.getNames();if(_66e.length>0){this.jsonCoders.to.params.call(this,sel,_66c);}},sharedStateList:function(obj,mgr){var acc=mgr.newSharedStateListAccessor(),fn=this.jsonCoders.to.sharedState;dojo.forEach(acc.getScopeIDs(),function(sid){fn.call(this,sid,obj,mgr);},this);},sharedState:function(_66f,obj,mgr){var acc=mgr.newSharedStateAccessor(_66f),_670=this.JSON_SERIALIZATION.names,_671=acc.getQNames();if(_671.length>0){var pObj=dojo.setObject([_670.sharedState,_66f].join("."),{},obj);for(var i=0;i<_671.length;i++){pObj[_671[i]]=acc.getValues(_671[i]);}}},params:function(obj,_672){var _673=_672.getNames();if(_673.length>0){var _674=obj[this.JSON_SERIALIZATION.names.params]={};for(var i=0;i<_673.length;i++){_674[_673[i]]=_672.getValues(_673[i]);}}}},from:{expansions:function(obj,mgr){var val=obj[this.JSON_SERIALIZATION.names.expansions];if(val&&val.length>0){mgr.newExpansionsListAccessor().setExpansions(val);}},portlets:function(obj,mgr){var fn=this.jsonCoders.from.portlet;for(var pid in obj[this.JSON_SERIALIZATION.names.portlets]){fn.call(this,pid,obj,mgr);}},portlet:function(pid,obj,mgr){var _675=this.JSON_SERIALIZATION.names,_676=this.JSON_SERIALIZATION.portlet,pObj=dojo.getObject([_675.portlets,pid].join("."),false,obj);if(pObj){var pAcc=mgr.newPortletAccessor(pid),mode=pObj[_675.pMode],_677=pObj[_675.pWState];if(mode&&mode!=_676.defMode){pAcc.setPortletMode(mode);}if(_677&&_677!=_676.defWState){pAcc.setWindowState(_677);}var _678=pObj[_675.params];if(_678){var _679=pAcc.getRenderParameters();this.jsonCoders.from.params.call(this,pObj,_679);}}},selection:function(obj,mgr){var _67a=this.JSON_SERIALIZATION.names,sel=obj[_67a.selection],acc;if(sel){var val=sel[_67a.selPg];if(val){acc=mgr.newSelectionAccessor();acc.setPageSelection(val);}val=sel[_67a.selFrg];if(val){if(!acc){acc=mgr.newSelectionAccessor();}acc.setFragmentSelection(val);}val=sel[_67a.selURI];if(val){if(!acc){acc=mgr.newSelectionAccessor();}acc.setURI(val);}val=sel[_67a.selMaps];for(var n in val){acc.setMapping(n,val[n]);}val=sel[_67a.params];if(val){var _67b=acc.getParameters();this.jsonCoders.from.params.call(this,sel,_67b);}}},sharedStateList:function(obj,mgr){var fn=this.jsonCoders.from.sharedState;for(var sid in obj[this.JSON_SERIALIZATION.names.sharedState]){fn.call(this,sid,obj,mgr);}},sharedState:function(_67c,obj,mgr){var acc=mgr.newSharedStateAccessor(_67c),_67d=this.JSON_SERIALIZATION.names,_67e=obj[_67d.sharedState][_67c];for(var n in _67e){acc.setValues(n,_67e[n]);}},params:function(obj,_67f){var _680=obj[this.JSON_SERIALIZATION.names.params];for(var n in _680){_67f.setValues(n,_680[n]);}}}},toJSON:function(_681){var mgr=new com.ibm.portal.state.StateManager(ibmPortalConfig.contentHandlerURI),obj={},acc,val,_682=this.JSON_SERIALIZATION.names;mgr.reset(_681);acc=mgr.newLocaleAccessor(),val=acc.getLocale();if(val){obj[_682.locale]=val;}this.jsonCoders.to.portlets.call(this,obj,mgr);this.jsonCoders.to.expansions.call(this,obj,mgr);acc=mgr.newScreenTemplateAccessor();val=acc.getScreenTemplate();if(val){obj[_682.screenTemplate]=val;}this.jsonCoders.to.selection.call(this,obj,mgr);this.jsonCoders.to.sharedStateList.call(this,obj,mgr);acc=mgr.newSoloStateAccessor();val=acc.getSoloPortlet();if(val){dojo.setObject([_682.solo,_682.soloPortlet].join("."),val,obj);}val=acc.getReturnSelection();if(val){dojo.setObject([_682.solo,_682.soloReturn].join("."),val,obj);}acc=mgr.newStatePartitionAccessor();val=acc.getStatePartition();if(val){obj[_682.statePartition]=val;}acc=mgr.newThemePolicyAccessor();val=acc.getThemePolicy();if(val){obj[_682.themePolicy]=val;}acc=mgr.newThemeTemplateAccessor();val=acc.getThemeTemplate();if(val){obj[_682.themeTemplate]=val;}return obj;},fromJSON:function(obj){var mgr=new com.ibm.portal.state.StateManager(ibmPortalConfig.contentHandlerURI),acc,val,_683=this.JSON_SERIALIZATION.names;mgr.reset(com.ibm.portal.xslt.loadXmlString());val=obj[_683.locale];if(val){mgr.newLocaleAccessor().setLocale(val);}this.jsonCoders.from.portlets.call(this,obj,mgr);this.jsonCoders.from.expansions.call(this,obj,mgr);val=obj[_683.screenTemplate];if(val){mgr.newScreenTemplateAccessor().setScreenTemplate(val);}this.jsonCoders.from.selection.call(this,obj,mgr);this.jsonCoders.from.sharedStateList.call(this,obj,mgr);acc=null;val=dojo.getObject([_683.solo,_683.soloPortlet].join("."),false,obj);if(val){acc=mgr.newSoloStateAccessor();acc.setSoloPortlet(val);}val=dojo.getObject([_683.solo,_683.soloReturn].join("."),false,obj);if(val){if(!acc){acc=mgr.newSoloStateAccessor();}acc.setReturnSelection(val);}val=obj[_683.statePartition];if(val){mgr.newStatePartitionAccessor().setStatePartition(val);}val=obj[_683.themePolicy];if(val){mgr.newThemePolicyAccessor().setThemePolicy(val);}val=obj[_683.themeTemplate];if(val){mgr.newThemeTemplateAccessor().setThemeTemplate(val);}return mgr.stateDOM;},serialize:function(_684,_685,_686,_687,_688){var _689=dojox.data.dom.innerXML(_684).replace(/[\r\n]/mg,"");ibm.portal.debug.entry("SerializationManager.serialize",[_689,_685,_686,_687,_688]);var _68a=encodeURIComponent(_689);var _68b=this._getMimeType();var _68c=null;var me=this;var auth=com.ibm.ajax.auth;var _68d=typeof ibmCfg!="undefined"&&ibmCfg?(ibmCfg&&ibmCfg.themeConfig?ibmCfg.themeConfig.onauthenticated:null):null;var _68e=com.ibm.portal.services.PortalRestServiceConfig.digest;if(typeof ibmPortalConfig!="undefined"&&_68a.length<=ibmPortalConfig.stateThreshold){var _68f=this.STATE_URI_SCHEME+":"+_68a;var _690={"uri":_68f,"mode":this.DOWNLOAD_MODE,"xmlns":this.STATE_NS_URI,"sessionDependencyAllowed":"true"};_685=(_685!=null&&_685==true);if(_685===true){_690.preprocessors="true";}if(_68e){_690.digest=_68e;}if(_687===true){_690.forceAbsolute=true;}var _691=false;if(_688&&(_688.project||(_688.project===null))){_690.project=_688.project;_691=true;}if(_691){var url=this.serviceURL;var _692=url.indexOf("$project");if(_692>=0){var _693=url.indexOf("!ut/p");if(_693<0){this.serviceURL=url.substring(0,_692);}else{this.serviceURL=url.substring(0,_692)+url.substring(_693);}}}dojo.xhrGet({url:this.serviceURL,sync:true,content:_690,handleAs:_68b,handle:function(_694,_695){if(auth.isAuthenticationRequired(_694,_695)){ibm.portal.debug.text("Authentication required.");auth.authenticationHandler(_694,_695,_68d);}else{_68c=me._handleSerializationResponse.call(me,_694,_686,_684,_685);return _694;}},transport:"XMLHTTPTransport"});}else{if(dojo.isIE||window.ActiveXObject!==undefined){var idx=_689.indexOf("UTF-16");if(idx>=0){_689=_689.replace(/UTF-16/,"UTF-8");}}var url=this.serviceURL;if(url.indexOf("?")==-1){url+="?";}else{url+="&";}url+="uri="+this.STATE_URI_POST+"&xmlns="+this.STATE_NS_URI+"&sessionDependencyAllowed=true";if(_68e!=null){url+="&digest="+_68e;}if(_685===true){url+="&preprocessors=true";}if(_687===true){url+="&forceAbsolute=true";}if(_688&&_688.project){url+="&project="+encodeURIComponent(_688.project);}var _691=false;if(_688&&(_688.project===null)){url+="&project=";_691=true;}if(_691){var _692=url.indexOf("$project");if(_692>=0){var _693=url.indexOf("!ut/p");if(_693<0){url=url.substring(0,_692);}else{url=url.substring(0,_692)+url.substring(_693);}}}dojo.rawXhrPost({url:url,sync:true,postData:_689,handleAs:_68b,headers:{"Content-Type":"text/xml","X-IBM-XHR":"true"},handle:function(_696,_697){if(auth.isAuthenticationRequired(_696,_697)){ibm.portal.debug.text("Authentication required.");auth.authenticationHandler(_696,_697,_68d);}else{_68c=me._handleSerializationResponse.call(me,_696,_686,_684,_685);return _696;}},transport:"XMLHTTPTransport"});}return _68c;},deserialize:function(url,_698){ibm.portal.debug.entry("SerializationManager.deserialize",[url]);var _699=this.STATE_URI_SCHEME+":"+encodeURIComponent(url);var _69a=null;var _69b=this._getMimeType();var me=this;var _69c=com.ibm.portal.services.PortalRestServiceConfig.digest;var auth=com.ibm.ajax.auth;var _69d=typeof ibmCfg!="undefined"&&ibmCfg?(ibmCfg&&ibmCfg.themeConfig?ibmCfg.themeConfig.onauthenticated:null):null;var _69e={"uri":_699,"mode":this.DOWNLOAD_MODE,"xmlns":this.STATE_NS_URI,"preprocessors":"true"};if(_69c!=null){_69e.digest=_69c;}dojo.xhrGet({url:this.serviceURL,sync:(_698)?false:true,content:_69e,headers:{"X-IBM-XHR":"true"},handleAs:_69b,handle:function(_69f,_6a0){var type=(_69f instanceof Error)?"error":"load";if(type=="load"){var _6a1=me._getResponseXML(_69f);if(_6a1.documentElement.nodeName=="parsererror"){_6a1=com.ibm.portal.xslt.loadXmlString();}if(_698){_698(1,url,_6a1);}else{_69a={"status":1,"input":me.serviceURL,"url":me.serviceURL,"returnObject":_6a1,"state":_6a1};}}else{if(type=="error"){if(auth.isAuthenticationRequired(_69f,_6a0)){ibm.portal.debug.text("Authentication required.");auth.authenticationHandler(_69f,_6a0,_69d);}else{if(_698){_698(2,url,null);}else{_69a={"status":2,"input":me.serviceURL,"url":me.serviceURL,"returnObject":null,"state":null};}}}}},transport:"XMLHTTPTransport"});return _69a;},_handleSerializationResponse:function(_6a2,_6a3,_6a4,_6a5){var _6a6=null;var type=(_6a2 instanceof Error)?"error":"load";if(type=="load"){var _6a7=this._getResponseXML(_6a2);var _6a8="atom:entry/atom:link";var ns={"atom":"http://www.w3.org/2005/Atom","state":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1/portal-state"};var _6a9=null;var _6aa=com.ibm.portal.xpath.evaluateXPath(_6a8,_6a7,ns);if(_6aa!=null&&_6aa.length>0){_6a9=_6aa[0].getAttribute("href");}else{com.ibm.ajax.auth.authenticationHandler();_6a6={"status":this.STATUS_ERROR,"input":_6a4,"state":_6a4,"returnObject":null,"url":null};return _6a6;}var _6ab=_6a4;if(_6a5==true){var _6ac="atom:entry/atom:content/state:root";var _6ad=com.ibm.portal.xpath.evaluateXPath(_6ac,_6a7,ns);if(_6ad!=null&&_6ad.length>0){var _6ae=dojox.data.dom.innerXML(_6ad[0]);_6ab=com.ibm.portal.xslt.loadXmlString(_6ae);}}if(_6a3){_6a3(1,_6ab,_6a9);}else{_6a6={"status":1,"input":_6ab,"state":_6ab,"returnObject":_6a9,"url":_6a9};}}else{if(type=="error"){if(_6a3){_6a3(this.STATUS_ERROR,_6a4,null);}else{_6a6={"status":this.STATUS_ERROR,"input":_6a4,"state":_6a4,"returnObject":null,"url":null};}}}return _6a6;},_getMimeType:function(){var _6af="xml";if(dojo.isIE||window.ActiveXObject!==undefined){_6af="text";}return _6af;},_getResponseXML:function(data){var _6b0=data;if(dojo.isIE||window.ActiveXObject!==undefined){_6b0=com.ibm.portal.xslt.loadXmlString(data);}return _6b0;}});dojo.declare("com.ibm.portal.navigation.controller.StateVaryManager",null,{constructor:function(){this._expr=new Array();},setExpressions:function(id,_6b1){var _6b2=this._findBucket(id);if(_6b2==null){_6b2={"id":id,"expr":null};this._expr.push(_6b2);}_6b2.expr=_6b1;},getExpressions:function(id){var _6b3=null;var _6b4=this._findBucket(id);if(_6b4!=null){_6b3=_6b4.expr;}return _6b3;},_findBucket:function(id){var _6b5=null;for(i=0;i<this._expr.length;i++){var temp=this._expr[i];if(temp.id==id){_6b5=temp;break;}}return _6b5;}});com.ibm.portal.state.STATE_MANAGER=new com.ibm.portal.state.StateManager();com.ibm.portal.state.STATE_MANAGER.reset(com.ibm.portal.xslt.loadXmlString());}if(!dojo._hasResource["ibm.portal.portlet.portlet"]){dojo._hasResource["ibm.portal.portlet.portlet"]=true;dojo.provide("ibm.portal.portlet.portlet");ibm.portal.portlet._SafeToExecute=false;dojo.declare("ibm.portal.portlet.PortletWindow",null,{STATUS_UNDEFINED:0,STATUS_OK:1,STATUS_ERROR:2,constructor:function(_6b6){this.isEnablerAvailable=false;if(this.isEnablerAvailable){var _6b7="ibm.portal.portlet.PortletWindow";this.logger=new ibm.portal.portlet.Logger(_6b7);var _6b8="constructor()";this.logger.logEntry(_6b8,_6b6);}if(_6b6==null){return;}this.windowID=_6b6;var _6b9=document.getElementById("com.ibm.wps.web2.portlet.preferences."+this.windowID);this.preferenceEditID=_6b9.getAttribute("editid");this.preferenceConfigID=_6b9.getAttribute("configid");this.preferenceEditDefaultsID=_6b9.getAttribute("editdefaultsid");this.pageID=_6b9.getAttribute("pageid");_6b9=null;this.isCSA=false;try{this.isCSA=(typeof (document.isCSA)!="undefined");}catch(e){}if(this.isEnablerAvailable){this.widgetModel=com.ibm.mashups.enabler.widget.Factory.getWidgetModel();this.navigationStateModel=com.ibm.mashups.enabler.model.state.NavigationStateModelFactory.getNavigationStateModel();this.widgetAccessor=com.ibm.mashups.enabler.model.state.AccessorFactory.getWidgetAccessor(this.navigationStateModel,this.windowID);this.userModel=com.ibm.mashups.enabler.user.Factory.getUserModel();}this.attributes=new Array();this._queuedFuncs=new Array();this.portletState=new ibm.portal.portlet.PortletState(this.isEnablerAvailable,_6b6,null,this.navigationStateModel);var me=this;function executeQueued(){for(var i=0;i<me._queuedFuncs.length;i++){me._queuedFuncs[i]();}};if(ibmPortalConfig.isCSAListening){if(window.addEventListener){window.addEventListener("load",function(){if(!ibm.portal.portlet._SafeToExecute){ibm.portal.portlet._SafeToExecute=true;}executeQueued();},false);}else{if(window.attachEvent){window.attachEvent("onload",function(){if(!ibm.portal.portlet._SafeToExecute){ibm.portal.portlet._SafeToExecute=true;}executeQueued();});}}}else{ibm.portal.portlet._SafeToExecuteDfd.addCallback(executeQueued);}if(this.isEnablerAvailable){this.logger.logExit(_6b8);}},reportError:function(_6ba){var code;if(_6ba.getErrorCode()==ibm.portal.portlet.Error.ERROR){code="error";}else{if(_6ba.getErrorCode()==ibm.portal.portlet.Error.INFO){code="info";}else{if(_6ba.getErrorCode()==ibm.portal.portlet.Error.WARN){code="warning";}}}var _6bb={"_type":code,"_message":_6ba.getMessage(),"_details":_6ba.getDescription()};if(this.isCSA){dojo.publish("/portal/status",[{message:_6bb}]);}else{if(typeof (console)!="undefined"){if(_6ba.getErrorCode()==ibm.portal.portlet.Error.ERROR){console.error(_6bb._message+"\n"+_6bb._details);}else{if(_6ba.getErrorCode()==ibm.portal.portlet.Error.INFO){console.info(_6bb._message+"\n"+_6bb._details);}else{if(_6ba.getErrorCode()==ibm.portal.portlet.Error.WARN){console.warn(_6bb._message+"\n"+_6bb._details);}}}}else{alert(_6bb._type.toUpperCase()+"\nMessage: "+_6bb._message+"\nDetails: "+_6bb._details);}}},getAttribute:function(name){return this.attributes[name];},setAttribute:function(name,_6bc){var ret=this.attributes[name];this.attributes[name]=_6bc;return ret;},removeAttribute:function(name){this.attributes[name]=null;},clearAttributes:function(){this.attributes=new Array();},getPortletState:function(_6bd){if(this.isEnablerAvailable){var _6be="getPortletState()";this.logger.logEntry(_6be,_6bd);}var _6bf=this.portletState;var _6c0=this;var _6c1=null;if(_6bd!=null){_6bd(_6c0,ibm.portal.portlet.PortletWindow.STATUS_OK,_6bf);}else{_6c1={"portletWindow":_6c0,"status":ibm.portal.portlet.PortletWindow.STATUS_OK,"returnObject":_6bf};}if(this.isEnablerAvailable){this.logger.logExit(_6be,_6c1);}return _6c1;},setPortletState:function(_6c2,_6c3){if(this.isEnablerAvailable){var _6c4="setPortletState()";this.logger.logEntry(_6c4,_6c3);}this.portletState=_6c2;if(this.isEnablerAvailable){this.navigationStateModel.commit({allowRedirect:true}).start(false);}else{if(this.isCSA){if(_6c3==null){var _6c5=new com.ibm.portal.navigation.controller.NAVIGATION_CONTROLLER.getState();var url=_6c5.newPortletRenderURL(this.windowID);var _6c6=new com.ibm.portal.services.PortletFragmentService();_6c6.getPortletInfo("lm:oid:"+this.windowID+"@oid:"+this.pageID,url);}}else{var _6c7=new com.ibm.portal.state.StateManager(ibmPortalConfig["contentHandlerURI"]);_6c7.reset(_6c2.portletAccessor.stateDOM);var _6c8=_6c7.getSerializationManager();var _6c9=_6c8.serialize(_6c7.getState());var _6ca=_6c9["returnObject"];var url=_6ca;window.location.href=url;}}var _6cb=this.getPortletState(_6c3);if(this.isEnablerAvailable){this.logger.logExit(_6c4,_6cb);}return _6cb;},_queueUp:function(_6cc){this._queuedFuncs.push(_6cc);},_throwInappropriateRequestError:function(_6cd){throw new Error("Cannot execute a synchronous call before the page loads! Please use an onload handler to execute this call to \""+_6cd+"\".");return null;},getPortletPreferences:function(_6ce){if(this.isEnablerAvailable){var _6cf="getPortletPreferences()";this.logger.logEntry(_6cf,_6ce);}if(!ibm.portal.portlet._SafeToExecute){if(_6ce){var me=this;this._queueUp(function(){me.getPortletPreferences(_6ce);});return false;}else{return this._throwInappropriateRequestError("getPortletPreferences");}}if(this.isEnablerAvailable){var _6d0=this;var _6d1=null;var _6d2=new ibm.portal.portlet.PortletPreferences(_6d0.isEnablerAvailable,_6d0.windowID,_6d0.pageID,_6d0.requestedPreferenceID,null,_6d0.widgetModel);if(_6ce){_6ce(_6d0,ibm.portal.portlet.PortletWindow.STATUS_OK,_6d2);}else{_6d1={"portletWindow":_6d0,"status":ibm.portal.portlet.PortletWindow.STATUS_OK,"returnObject":_6d2};}}else{var _6d3=this.getPortletState().returnObject.getPortletMode();this.status=ibm.portal.portlet.PortletWindow.STATUS_UNDEFINED;var _6d4=document.getElementById("com.ibm.wps.web2.portlet.root."+this.windowID).innerHTML;var idx=_6d4.indexOf("--portletwindowid--");var _6d5=_6d4.replace(/--portletwindowid--/g,this.windowID);if(_6d5.indexOf("?")<0){_6d5=_6d5+"?";}_6d5+="&verb=download&levels=-all&rep=full&preferences=aggregated";this.requestedPreferenceID="pm:oid:"+this.preferenceEditID;if(_6d3==ibm.portal.portlet.PortletMode.CONFIG){this.requestedPreferenceID="pm:oid:"+this.preferenceConfigID;}else{if(_6d3==ibm.portal.portlet.PortletMode.EDIT_DEFAULTS){this.requestedPreferenceID="pm:oid:"+this.preferenceEditDefaultsID;}else{if((_6d3==ibm.portal.portlet.PortletMode.EDIT)||(this.preferenceEditID==null)){if(this.preferenceEditID==null){var _6d6=_6d4.substring(0,_6d4.indexOf("@")).replace(/--portletwindowid--/g,this.preferenceEditDefaultsID);if(_6d6.indexOf("?")<0){_6d6=_6d6+"?";}_6d6+="&verb=download&levels=-all&rep=full&preferences=aggregated";var _6d7="<?xml version=\"1.0\" encoding=\"UTF-8\"?>"+"<atom:feed xmlns:atom=\"http://www.w3.org/2005/Atom\" xmlns:model=\"http://www.ibm.com/xmlns/prod/websphere/portal/v6.0.1/portal-model-elements\" xmlns:creation-context=\"http://www.ibm.com/xmlns/prod/websphere/portal/v6.1.0/portal-creation-context\">"+"<atom:entry>"+"<atom:id>pm:cid:0</atom:id>"+"<atom:content type=\"application/xml\">"+"<model:portlet-entity creation-context:portlet-entity=\"pm:oid:"+this.preferenceEditDefaultsID+"\"/>"+"</atom:content>"+"</atom:entry>"+"</atom:feed>";dojo.rawXhrPost({url:_6d6,sync:true,postData:_6d7,contentType:"application/xml",headers:{"X-IBM-XHR":"true"},handleAs:"xml",handle:dojo.hitch(this,function(_6d8,_6d9){var type=(_6d8 instanceof Error)?"error":"load";if(type=="load"){var _6da=_6d8;if(!_6da||(typeof (dojox.data.dom.innerXML(_6d8))=="undefined")){_6da=com.ibm.portal.xslt.loadXmlString(_6d9.xhr.responseText);}var ns={"atom":"http://www.w3.org/2005/Atom"};var expr="/atom:feed/atom:entry/atom:id";var _6db=ibm.portal.xml.xpath.evaluateXPath(expr,_6da,ns);this.requestedPreferenceID=dojox.data.dom.textContent(_6db[0]);}else{if(_6d9.xhr.status==409){var _6da=com.ibm.portal.xslt.loadXmlString(_6d9.xhr.responseText);var ns={"atom":"http://www.w3.org/2005/Atom"};var expr="/atom:feed/atom:entry/atom:id";var _6db=ibm.portal.xml.xpath.evaluateXPath(expr,_6da,ns);this.requestedPreferenceID=dojox.data.dom.textContent(_6db[0]);}}}),transport:"XMLHTTPTransport"});}else{this.requestedPreferenceID="pm:oid:"+this.preferenceEditID;}}}}var _6d0=this;var _6d1=null;dojo.xhrGet({url:_6d5,handleAs:"xml",preventCache:true,headers:{"X-IBM-XHR":"true","If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"},sync:(_6ce)?false:true,handle:function(_6dc,_6dd){if(_6d0.isAuthenticationRequired(_6dd.xhr,_6dd.args.handleAs)){_6d0.doAuthentication();}else{var type=(_6dc instanceof Error)?"error":"load";if(type=="load"){var _6de=_6dc;if(!_6de||(typeof (dojox.data.dom.innerXML(_6dc))=="undefined")||(typeof (_6de.contentType)=="undefined")){_6de=com.ibm.portal.xslt.loadXmlString(_6dd.xhr.responseText);}var _6df=new ibm.portal.portlet.PortletPreferences(_6d0.isEnablerAvailable,_6d0.windowID,_6d0.pageID,_6d0.requestedPreferenceID,_6de,_6d0.widgetModel);if(_6ce){_6ce(_6d0,ibm.portal.portlet.PortletWindow.STATUS_OK,_6df);}else{_6d1={"portletWindow":_6d0,"status":ibm.portal.portlet.PortletWindow.STATUS_OK,"returnObject":_6df};}}else{if(type=="error"){if(_6ce){_6ce(_6d0,ibm.portal.portlet.PortletWindow.STATUS_ERROR,null);}else{_6d1={"portletWindow":_6d0,"status":ibm.portal.portlet.PortletWindow.STATUS_ERROR,"returnObject":null};}}}}},transport:"XMLHTTPTransport"});}if(this.isEnablerAvailable){this.logger.logExit(_6cf,_6d1);}return _6d1;},setPortletPreferences:function(_6e0,_6e1){if(this.isEnablerAvailable){var _6e2="setPortletPreferences()";this.logger.logEntry(_6e2,_6e1);}if(!ibm.portal.portlet._SafeToExecute){if(_6e1){var me=this;this._queueUp(function(){me.setPortletPreferences(_6e0,_6e1);});return false;}else{return this._throwInappropriateRequestError("setPortletPreferences");}}if(this.isEnablerAvailable){this.widgetModel.commit().start();var _6e3=this;var _6e4=null;if(_6e1){_6e1(_6e3,ibm.portal.portlet.PortletWindow.STATUS_OK,_6e0);}else{_6e4={"portletWindow":_6e3,"status":ibm.portal.portlet.PortletWindow.STATUS_OK,"returnObject":_6e0};}}else{this.status=ibm.portal.portlet.PortletWindow.STATUS_UNDEFINED;var _6e5=document.getElementById("com.ibm.wps.web2.portlet.root."+this.windowID).innerHTML;var idx=_6e5.indexOf("--portletwindowid--");var _6e6=_6e5.replace(/--portletwindowid--/g,this.windowID);if(_6e6.indexOf("?")<0){_6e6+="?verb=download";}else{_6e6+="&verb=download";}var _6e7=_6e0.requestedPreferenceID;var expr="/atom:feed/atom:entry[atom:id='"+_6e7+"']";var _6e8=ibm.portal.xml.xpath.evaluateXPath(expr,_6e0.xmlData,_6e0.ns);var _6e9;if(_6e8&&_6e8.length>0){_6e9=_6e8[0];}else{return null;}var _6ea=_6e9.parentNode;expr="/atom:feed/atom:entry";_6e8=ibm.portal.xml.xpath.evaluateXPath(expr,_6e0.xmlData,_6e0.ns);for(var i=0;i<_6e8.length;i++){var node=_6e8[i];if(node!=_6e9){_6ea.removeChild(node);}}var _6e3=this;var _6e4=null;var _6eb={url:_6e6,sync:(_6e1)?false:true,contentType:"application/xml",headers:{"X-IBM-XHR":"true"},handleAs:"xml",handle:function(_6ec,_6ed){if(_6e3.isAuthenticationRequired(_6ed.xhr,_6ed.args.handleAs)){_6e3.doAuthentication();}else{var type=(_6ec instanceof Error)?"error":"load";if(type=="load"){if(_6e1){_6e1(_6e3,ibm.portal.portlet.PortletWindow.STATUS_OK,_6e0);}else{_6e4={"portletWindow":_6e3,"status":ibm.portal.portlet.PortletWindow.STATUS_OK,"returnObject":_6e0};}}else{if(type=="error"){if(_6e1){_6e1(_6e3,ibm.portal.portlet.PortletWindow.STATUS_ERROR,null);}else{_6e4={"portletWindow":_6e3,"status":ibm.portal.portlet.PortletWindow.STATUS_ERROR,"returnObject":null};}}}}},transport:"XMLHTTPTransport"};var _6ee="rawXhrPut";if(ibmPortalConfig&&ibmPortalConfig.xMethodOverride){_6eb.headers["X-Method-Override"]="PUT";_6ee="xhrPost";_6eb.postData=dojox.data.dom.innerXML(_6e0.xmlData);}else{_6eb.putData=dojox.data.dom.innerXML(_6e0.xmlData);}dojo[_6ee](_6eb);}if(this.isEnablerAvailable){this.logger.logExit(_6e2,_6e4);}return _6e4;},getUserProfile:function(_6ef){if(this.isEnablerAvailable){var _6f0="getUserProfile()";this.logger.logEntry(_6f0,_6ef);}if(!ibm.portal.portlet._SafeToExecute){if(_6ef){var me=this;this._queueUp(function(){me.getUserProfile(_6ef);});return false;}else{return this._throwInappropriateRequestError("getUserProfile");}}if(this.isEnablerAvailable){var _6f1=this;var _6f2=null;var _6f3=new ibm.portal.portlet.UserProfile(_6f1.isEnablerAvailable,_6f1.windowID,null,_6f1.userModel);if(_6ef){_6ef(_6f1,ibm.portal.portlet.PortletWindow.STATUS_OK,_6f3);}else{_6f2={"portletWindow":_6f1,"status":ibm.portal.portlet.PortletWindow.STATUS_OK,"returnObject":_6f3};}}else{this.status=ibm.portal.portlet.PortletWindow.STATUS_UNDEFINED;var _6f4=document.getElementById("com.ibm.wps.web2.portlet.user."+this.windowID).innerHTML;var _6f1=this;var _6f2=null;dojo.xhrGet({url:_6f4,headers:{"X-IBM-XHR":"true","If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"},sync:(_6ef)?false:true,handleAs:"xml",handle:function(_6f5,_6f6){if(_6f1.isAuthenticationRequired(_6f6.xhr,_6f6.args.handleAs)){_6f1.doAuthentication();}else{var type=(_6f5 instanceof Error)?"error":"load";if(type=="load"){var _6f7=_6f5;if(!_6f7||(typeof (dojox.data.dom.innerXML(_6f5))=="undefined")){_6f7=com.ibm.portal.xslt.loadXmlString(_6f6.xhr.responseText);}var _6f8=new ibm.portal.portlet.UserProfile(_6f1.isEnablerAvailable,_6f1.windowID,_6f7,_6f1.userModel);if(_6ef){_6ef(_6f1,ibm.portal.portlet.PortletWindow.STATUS_OK,_6f8);}else{_6f2={"portletWindow":_6f1,"status":ibm.portal.portlet.PortletWindow.STATUS_OK,"returnObject":_6f8};}}else{if(type=="error"){if(_6ef){_6ef(_6f1,ibm.portal.portlet.PortletWindow.STATUS_ERROR,null);}else{_6f2={"portletWindow":_6f1,"status":ibm.portal.portlet.PortletWindow.STATUS_ERROR,"returnObject":null};}}}}},transport:"XMLHTTPTransport"});}if(this.isEnablerAvailable){this.logger.logExit(_6f0,_6f2);}return _6f2;},setUserProfile:function(_6f9,_6fa){if(this.isEnablerAvailable){var _6fb="setUserProfile()";this.logger.logEntry(_6fb,_6fa);}if(!ibm.portal.portlet._SafeToExecute){if(_6fa){var me=this;this._queueUp(function(){me.setUserProfile(_6f9,_6fa);});return false;}else{return this._throwInappropriateRequestError("setUserProfile");}}if(this.isEnablerAvailable){this.userModel.commit().start();var _6fc=this;var _6fd=null;if(_6fa){_6fa(_6fc,ibm.portal.portlet.PortletWindow.STATUS_OK,_6fc.userProfile);}else{_6fd={"portletWindow":_6fc,"status":ibm.portal.portlet.PortletWindow.STATUS_OK,"returnObject":_6f9};}}else{this.status=ibm.portal.portlet.PortletWindow.STATUS_UNDEFINED;var _6fe=document.getElementById("com.ibm.wps.web2.portlet.user."+this.windowID).innerHTML;var _6fc=this;var _6fd=null;dojo.rawXhrPost({url:_6fe,sync:(_6fa)?false:true,postData:dojox.data.dom.innerXML(_6f9.xmlData),contentType:"application/xml",headers:{"X-IBM-XHR":"true"},handleAs:"xml",handle:function(_6ff,_700){if(_6fc.isAuthenticationRequired(_700.xhr,_700.args.handleAs)){_6fc.doAuthentication();}else{var type=(_6ff instanceof Error)?"error":"load";if(type=="load"){if(_6fa){_6fa(_6fc,ibm.portal.portlet.PortletWindow.STATUS_OK,_6f9);}else{_6fd={"portletWindow":_6fc,"status":ibm.portal.portlet.PortletWindow.STATUS_OK,"returnObject":_6f9};}}else{if(type=="error"){if(_6fa){_6fa(_6fc,ibm.portal.portlet.PortletWindow.STATUS_ERROR,null);}else{_6fd={"portletWindow":_6fc,"status":ibm.portal.portlet.PortletWindow.STATUS_ERROR,"returnObject":null};}}}}},transport:"XMLHTTPTransport"});}if(this.isEnablerAvailable){this.logger.logExit(_6fb,_6fd);}return _6fd;},newXMLPortletRequest:function(){return new ibm.portal.portlet.XMLPortletRequest(this);},isAuthenticationRequired:function(_701,_702){if(_701.readyState!=4){throw new Error("isAuthenticationRequired should only be called with a COMPLETED XMLHttpRequest! The readyState on the given XMLHttpRequest is not 4 (COMPLETE)!");}var _703={dojoType:"valid"};var _704={xhr:_701,args:{handleAs:_702}};return com.ibm.ajax.auth.isAuthenticationRequired(_703,_704);},setAuthenticationHandler:function(_705){this._authenticationFn=_705;},doAuthentication:function(){if(this._authenticationFn){this._authenticationFn();}else{com.ibm.ajax.auth.authenticationHandler();}}});if(typeof (ibmPortalConfig)=="undefined"||!ibmPortalConfig.isCSAListening){ibm.portal.portlet._SafeToExecuteDfd=new dojo.Deferred();ibm.portal.portlet._SafeToExecuteDfd.addCallback(function(){ibm.portal.portlet._SafeToExecute=true;});var f=new Function("ibm.portal.portlet._SafeToExecuteDfd.callback();");if(window.addEventListener){window.addEventListener("load",f,false);}else{if(window.attachEvent){window.attachEvent("onload",f);}}}dojo.declare("ibm.portal.portlet.PortletPreferences",null,{constructor:function(_706,_707,_708,_709,data,_70a){this.windowID=_707;this.pageID=_708;this.requestedPreferenceID=_709;this.xmlData=data;this.xsltURL=dojo.moduleUrl("ibm","portal/portlet/");this.ns={"xsl":"http://www.w3.org/1999/XSL/Transform","thr":"http://purl.org/syndication/thread/1.0","atom":"http://www.w3.org/2005/Atom","xhtml":"http://www.w3.org/1999/xhtml","model":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.0.1/portal-model-elements","base":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.0/ibm-portal-composite-base","portal":"http://www.ibm.com/xmlns/prod/websphere/portal/v6.0.1/portal-model","xsi":"http://www.w3.org/2001/XMLSchema-instance"};this.isEnablerAvailable=_706;if(this.isEnablerAvailable){var _70b="ibm.portal.portlet.PortletPreferences";this.logger=new ibm.portal.portlet.Logger(_70b);var _70c="constructor()";this.logger.logEntry(_70c);this.logger.log(_70c,"windowid: ${0}",_707);this.logger.log(_70c,"pageid: ${0}",_708);this.logger.log(_70c,"requestedpreferenceid: ${0}",_709);this.logger.log(_70c,"data: ${0}",data);this.logger.log(_70c,"widgetModel: ${0}",_70a);this.widgetModel=_70a;this.logger.logExit(_70c);}else{this.widgetModel=null;this.internal_reset();}},getMap:function(){if(this.isEnablerAvailable){var _70d="getMap()";this.logger.logEntry(_70d);var _70e=this.getNames();var _70f=new Array();for(var n=0;n<_70e.length;n++){var _710=this.getValues(_70e[n]);var _711=this.isReadOnly(_70e[n]);_70f[n]={name:_70e[n],values:_710,readOnly:_711};}this.logger.logExit(_70d,_70f);return _70f;}else{if(this.result_getMap){return this.result_getMap;}var _712=ibm.portal.xml.xslt.loadXsl(this.xsltURL+"PortletPreferencesMap.xsl");if(_712.documentElement==null){alert("xslDoc is null");}var _713=ibm.portal.xml.xslt.transform(this.xmlData,_712,null,{"selectionid":this.requestedPreferenceID},true);if(_713==null){this.result_getNames=null;return null;}var _714=eval(_713);if(_714){_714=_714.preferences;}this.result_getMap=_714;return this.result_getMap;}},getNames:function(){if(this.isEnablerAvailable){var _715="getNames()";this.logger.logEntry(_715);var _716=this.getModifiablePreferences(this.widgetModel,this.pageID,this.windowID);var _717=_716.getNames();this.logger.logExit(_715,_717);return _717;}else{if(this.result_getNames){return this.result_getNames;}var _718=ibm.portal.xml.xslt.loadXsl(this.xsltURL+"PortletPreferencesNames.xsl");if(_718.documentElement==null){alert("xslDoc is null");}var _719=ibm.portal.xml.xslt.transform(this.xmlData,_718,null,{"selectionid":this.requestedPreferenceID},true);if(_719==null){this.result_getNames=null;return null;}var _71a=eval(_719);if(_71a){_71a=_71a.names;}this.result_getNames=_71a;return this.result_getNames;}},getValue:function(key,def){if(this.isEnablerAvailable){var _71b="getValue()";this.logger.logEntry(_71b);this.logger.log(_71b,"key: ${0}",key);var _71c=this.getModifiablePreferences(this.widgetModel,this.pageID,this.windowID);var _71d=_71c.getValue(key);this.logger.logExit(_71b,_71d);return _71d;}else{var expr="/atom:feed/atom:entry[atom:id='"+this.requestedPreferenceID+"']/atom:content/*/model:portletpreferences[@name='"+key+"']/base:value";var _71e=ibm.portal.xml.xpath.evaluateXPath(expr,this.xmlData,this.ns);var _71d;if(_71e&&_71e.length>0){_71d=_71e[0].getAttribute("value");}else{_71d=def;}return _71d;}},getValues:function(key,def){if(this.isEnablerAvailable){var _71f="getValues()";this.logger.logEntry(_71f);this.logger.log(_71f,"key: ${0}",key);var _720=this.getModifiablePreferences(this.widgetModel,this.pageID,this.windowID);var _721=_720.getValues(key);this.logger.logExit(_71f,_721);return _721;}else{var expr="/atom:feed/atom:entry[atom:id='"+this.requestedPreferenceID+"']/atom:content/*/model:portletpreferences[@name='"+key+"']/base:value";var _722=ibm.portal.xml.xpath.evaluateXPath(expr,this.xmlData,this.ns);var _721;if(_722&&_722.length>0){_721=new Array();for(var i=0;i<_722.length;i++){_721[i]=_722[i].getAttribute("value");}}else{_721=def;}return _721;}},isReadOnly:function(key){if(this.isEnablerAvailable){var _723="isReadOnly()";this.logger.logEntry(_723);this.logger.log(_723,"key: ${0}",key);var _724=this.getModifiablePreferences(this.widgetModel,this.pageID,this.windowID);var _725=_724.isReadOnly(key);this.logger.logExit(_723,_725);return _725;}else{var id=this.requestedPreferenceID;var expr="/atom:feed/atom:entry[atom:id='"+id+"']/atom:content/*/model:portletpreferences[@name='"+key+"']";var _726=ibm.portal.xml.xpath.evaluateXPath(expr,this.xmlData,this.ns);var _725=false;if(_726&&_726.length>0){var temp=_726[0].getAttribute("read-only");if(temp!=null){if(temp=="true"){_725=true;}}}return _725;}},reset:function(key){if(this.isEnablerAvailable){var _727="reset()";this.logger.logEntry(_727);this.logger.log(_727,"key: ${0}",key);var _728=this.getModifiablePreferences(this.widgetModel,this.pageID,this.windowID);_728.remove(key);this.logger.logExit(_727);}else{this.internal_reset();var expr="/atom:feed/atom:entry[atom:id='"+this.requestedPreferenceID+"']/atom:content/*/model:portletpreferences[@name='"+key+"']";var _729=ibm.portal.xml.xpath.evaluateXPath(expr,this.xmlData,this.ns);if(_729&&_729.length>0){var _72a=_729[0];_72a.parentNode.removeChild(_72a);}}},setValue:function(key,_72b){if(this.isEnablerAvailable){var _72c="setValue()";this.logger.logEntry(_72c);this.logger.log(_72c,"key: ${0}",key);this.logger.log(_72c,"value: ${0}",_72b);var _72d=this.getModifiablePreferences(this.widgetModel,this.pageID,this.windowID);_72d.setValue(key,_72b);this.logger.logExit(_72c);}else{var _72e=new Array();_72e[0]=_72b;this.setValues(key,_72e);}},setValues:function(key,_72f){if(this.isEnablerAvailable){var _730="setValues()";this.logger.logEntry(_730);this.logger.log(_730,"key: ${0}",key);this.logger.log(_730,"values: ${0}",_72f);var _731=this.getModifiablePreferences(this.widgetModel,this.pageID,this.windowID);_731.setValues(key,_72f);this.logger.logExit(_730);}else{this.internal_reset();var expr="/atom:feed/atom:entry[atom:id='"+this.requestedPreferenceID+"']/atom:content/*/model:portletpreferences[@name='"+key+"']";var _732=ibm.portal.xml.xpath.evaluateXPath(expr,this.xmlData,this.ns);var _733=null;if(_732&&_732.length>0){_733=_732[0];for(var i=_733.childNodes.length-1;i>=0;i--){_733.removeChild(_733.childNodes[i]);}}else{var _734="/atom:feed/atom:entry[atom:id='"+this.requestedPreferenceID+"']/atom:content/*";var _735=ibm.portal.xml.xpath.evaluateXPath(_734,this.xmlData,this.ns);if(dojo.isIE||window.ActiveXObject!==undefined){_733=this.xmlData.createNode(1,"model:portletpreferences",this.ns.model);}else{_733=this.xmlData.createElementNS(this.ns.model,"model:portletpreferences");}_733.setAttribute("name",key);_733.setAttribute("read-only","false");_735[0].appendChild(_733);}for(var i=0;i<_72f.length;i++){var _736;if(dojo.isIE||window.ActiveXObject!==undefined){_736=this.xmlData.createNode(1,"base:value",this.ns.base);var _737=this.xmlData.createNode(2,"xsi:type",this.ns.xsi);_737.nodeValue="String";_736.setAttributeNode(_737);}else{_736=this.xmlData.createElementNS(this.ns.base,"base:value");_736.setAttributeNS(this.ns.xsi,"xsi:type","String");}_736.setAttribute("value",_72f[i]);_733.appendChild(_736);}}},internal_reset:function(){this.result_getMap=null;this.result_getNames=null;},clone:function(){var _738=dojox.data.dom.innerXML(this.xmlData);var _739=com.ibm.portal.xslt.loadXmlString(_738);return new ibm.portal.portlet.PortletPreferences(this.isEnablerAvailable,this.windowID,this.pageID,this.requestedPreferenceID,_739,this.widgetModel);},getModifiablePreferences:function(_73a,_73b,_73c){var _73d="getModifiablePreferences()";this.logger.logEntry(_73d);this.logger.logLevel(com.ibm.mashups.enabler.logging.LogLevel.INFO,_73d,"widgetModel: ${0}",_73a);this.logger.logLevel(com.ibm.mashups.enabler.logging.LogLevel.INFO,_73d,"windowID: ${0}",_73c);var _73e=com.ibm.mashups.enabler.navigation.Factory.getNavigationModel();this.logger.logLevel(com.ibm.mashups.enabler.logging.LogLevel.INFO,_73d,"navigationModel: ${0}",_73e);var _73f=_73e.find(_73b).start();this.logger.logLevel(com.ibm.mashups.enabler.logging.LogLevel.INFO,_73d,"selectedNode: ${0}",_73f);var _740=_73e.getLayoutModel(_73f);this.logger.logLevel(com.ibm.mashups.enabler.logging.LogLevel.INFO,_73d,"layoutModel: ${0}",_740);var _741=_740.find(_73c).start();this.logger.logLevel(com.ibm.mashups.enabler.logging.LogLevel.INFO,_73d,"layoutControl: ${0}",_741);var _742=_73a.getWidgetWindow(_741).start();this.logger.logLevel(com.ibm.mashups.enabler.logging.LogLevel.INFO,_73d,"widgetInstance: ${0}",_742);var _743=_73a.getHierarchicalPreferences(_742).start();this.logger.logExit(_73d,_743);return _743;}});dojo.declare("ibm.portal.portlet.PortletMode",null,{VIEW:"view",EDIT:"edit",EDIT_DEFAULTS:"edit_defaults",HELP:"help",CONFIG:"config"});dojo.declare("ibm.portal.portlet.WindowState",null,{NORMAL:"normal",MINIMIZED:"minimized",MAXIMIZED:"maximized"});dojo.declare("ibm.portal.portlet.PortletState",null,{constructor:function(_744,_745,_746,_747){this.windowID=_745;this.isEnablerAvailable=_744;if(this.isEnablerAvailable){var _748="ibm.portal.portlet.PortletState";this.logger=new ibm.portal.portlet.Logger(_748);var _749="constructor()";this.logger.logEntry(_749);this.logger.log(_749,"windowid: ${0}",_745);this.logger.log(_749,"portletWindowId: ${0}",_746);this.logger.log(_749,"navigationStateModel: ${0}",_747);this.navigationStateModel=_747;this.widgetAccessor=com.ibm.mashups.enabler.model.state.AccessorFactory.getWidgetAccessor(this.navigationStateModel,this.windowID);this.logger.logExit(_749);}else{var _74a=new com.ibm.portal.state.StateManager(ibmPortalConfig["contentHandlerURI"]);if(dojo.isString(_745)){var _74b=this._getExistingState(_745,_74a.getSerializationManager());_74a.reset(_74b);}else{_74a.reset(_745);_745=_746;}this.portletAccessor=_74a.newPortletAccessor(_745);this.renderParameters=this.portletAccessor.getRenderParameters();}},_isCSA:function(){var _74c=false;try{_74c=(typeof (document.isCSA)!="undefined");}catch(e){}return _74c;},_getExistingState:function(_74d,_74e){var _74f=null;if(this._isCSA()){_74f=com.ibm.portal.navigation.controller.NAVIGATION_CONTROLLER.getState().stateDOM;}else{if(_74e!=null){var _750=_74e.deserialize(location.href);_74f=_750.returnObject;}else{_74f=com.ibm.portal.xslt.loadXmlString();}}return _74f;},getPortletMode:function(){if(this.isEnablerAvailable){var _751="getPortletMode()";this.logger.logEntry(_751);var _752=this.widgetAccessor.getWidgetMode();var _753=null;switch(_752){case "view":_753=new ibm.portal.portlet.PortletMode().VIEW;break;case "personalize":_753=new ibm.portal.portlet.PortletMode().EDIT;break;case "edit":_753=new ibm.portal.portlet.PortletMode().EDIT_DEFAULTS;break;case "config":_753=new ibm.portal.portlet.PortletMode().CONFIG;break;case "help":_753=new ibm.portal.portlet.PortletMode().HELP;break;}this.logger.logExit(_751,_753);return _753;}else{return this.portletAccessor.getPortletMode();}},setPortletMode:function(_754){if(this.isEnablerAvailable){var _755="setPortletMode()";this.logger.logEntry(_755);this.logger.log(_755,"portletMode: ${0}",_754);var _756=null;switch(_754){case new ibm.portal.portlet.PortletMode().VIEW:_756="view";break;case new ibm.portal.portlet.PortletMode().EDIT:_756="personalize";break;case new ibm.portal.portlet.PortletMode().EDIT_DEFAULTS:_756="edit";break;case new ibm.portal.portlet.PortletMode().CONFIG:_756="config";break;case new ibm.portal.portlet.PortletMode().HELP:_756="help";break;}this.widgetAccessor.setWidgetMode(_756);this.logger.logExit(_755,_754);return _754;}else{this.portletAccessor.setPortletMode(_754);return _754;}},getWindowState:function(){if(this.isEnablerAvailable){var _757="getWindowState()";this.logger.logEntry(_757);var _758=this.widgetAccessor.getWindowState();var _759=null;switch(_758){case "normal":_759=new ibm.portal.portlet.WindowState().NORMAL;break;case "minimize":_759=new ibm.portal.portlet.WindowState().MINIMIZED;break;case "maximize":_759=new ibm.portal.portlet.WindowState().MAXIMIZED;break;}this.logger.logExit(_757,_759);return _759;}else{return this.portletAccessor.getWindowState();}},setWindowState:function(_75a){if(this.isEnablerAvailable){var _75b="setWindowState()";this.logger.logEntry(_75b);this.logger.log(_75b,"windowState: ${0}",_75a);var _75c=null;switch(_75a){case new ibm.portal.portlet.WindowState().NORMAL:_75c="normal";break;case new ibm.portal.portlet.WindowState().MINIMIZED:_75c="minimize";break;case new ibm.portal.portlet.WindowState().MAXIMIZED:_75c="maximize";break;}this.widgetAccessor.setWindowState(_75c);this.logger.logExit(_75b,_75a);return _75a;}else{this.portletAccessor.setWindowState(_75a);return _75a;}},getParameterNames:function(){if(this.isEnablerAvailable){var _75d="getParameterNames()";this.logger.logEntry(_75d);var _75e=this.widgetAccessor.getWidgetStateNames();this.logger.logExit(_75d,_75e);return _75e;}else{return this.renderParameters.getNames();}},getParameterValue:function(name){if(this.isEnablerAvailable){var _75f="getParameterValue()";this.logger.logEntry(_75f);this.logger.log(_75f,"name: ${0}",name);var _760=this.widgetAccessor.getWidgetState(name);this.logger.logExit(_75f,_760);return _760;}else{return this.renderParameters.getValue(name);}},getParameterValues:function(name){if(this.isEnablerAvailable){var _761="getParameterValues()";this.logger.logEntry(_761);this.logger.log(_761,"name: ${0}",name);var _762=this.widgetAccessor.getWidgetStateValues(name);this.logger.logExit(_761,_762);return _762;}else{return this.renderParameters.getValues(name);}},getParameterMap:function(){if(this.isEnablerAvailable){var _763="getParameterMap()";this.logger.logEntry(_763);var _764=this.getParameterNames();var _765=new Array();for(var n=0;n<_764.length;n++){var _766=this.getParameterValues(_764[n]);_765[n]={name:_764[n],values:_766};}this.logger.logExit(_763,_765);return _765;}else{return this.renderParameters.getMap();}},setParameterValue:function(name,_767){if(this.isEnablerAvailable){var _768="setParameterValue()";this.logger.logEntry(_768);this.logger.log(_768,"name: ${0}",name);this.logger.log(_768,"value: ${0}",_767);this.widgetAccessor.setWidgetState(name,_767);this.logger.logExit(_768,_767);return _767;}else{this.renderParameters.setValue(name,_767);return _767;}},setParameterValues:function(name,_769){if(this.isEnablerAvailable){var _76a="setParameterValues()";this.logger.logEntry(_76a);this.logger.log(_76a,"name: ${0}",name);this.logger.log(_76a,"values: ${0}",_769);this.widgetAccessor.setWidgetState(name,_769);this.logger.logExit(_76a,_769);return _769;}else{this.renderParameters.setValues(name,_769);return _769;}},setParameterMap:function(map,_76b){if(this.isEnablerAvailable){var _76c="setParameterMap()";this.logger.logEntry(_76c);this.logger.log(_76c,"map: ${0}",map);this.logger.log(_76c,"replace: ${0}",_76b);for(var n=0;n<map.length;n++){var _76d=map[n].name;var _76e=map[n].values;this.setParameterValues(_76d,_76e);}this.logger.logExit(_76c);}else{if(_76b==true){this.renderParameters.clear();}this.renderParameters.putAll(map);return this.renderParameters.getMap();}},removeParameter:function(name){if(this.isEnablerAvailable){var _76f="removeParameter()";this.logger.logEntry(_76f);this.logger.log(_76f,"name: ${0}",name);this.widgetAccessor.removeWidgetState(name);this.logger.logExit(_76f);}else{this.renderParameters.remove(name);}}});dojo.require("com.ibm.portal.services.PortletFragmentService");dojo.declare("ibm.portal.portlet.XMLPortletRequest",null,{onreadystatechange:null,readyState:0,responseText:null,responseXML:null,status:null,statusText:null,onportletstateready:null,_location:null,_async:null,constructor:function(_770){var _771=this.declaredClass+".constructor";ibm.portal.debug.entry(_771,[_770]);this.pageID=_770.pageID;this.windowID=_770.windowID;this.windowObj=_770;ibm.portal.debug.exit(_771);this.isEnablerAvailable=_770.isEnablerAvailable;this.navigationStateModel=_770.navigationStateModel;},_getXHR:function(){var _772=this.declaredClass+"._getXHR";ibm.portal.debug.entry(_772);if(!this._xhr){this._xhr=this._createXHR();}ibm.portal.debug.exit(_772,this._xhr);return this._xhr;},_createXHR:function(){var _773=this.declaredClass+"._createXHR";ibm.portal.debug.entry(_773);var _774=null;if(typeof (XMLHttpRequest)!="undefined"){_774=new XMLHttpRequest();}else{_774=new ActiveXObject("Microsoft.XMLHTTP");}ibm.portal.debug.exit(_773,_774);return _774;},_onreadystatechangehandler:function(){var _775=this.declaredClass+"._onreadystatechangehandler";ibm.portal.debug.entry(_775);if(!this.handled){var xhr=this._getXHR();this.readyState=xhr.readyState;ibm.portal.debug.text("ready state is "+xhr.readyState);if(this.readyState==4){var _776=this.windowObj.isAuthenticationRequired(xhr,"xml");ibm.portal.debug.text("is auth required: "+_776);xhr.onreadystatechange=new Function;if(_776){this.windowObj.doAuthentication(xhr);return;}else{this.responseText=xhr.responseText;this.responseXML=xhr.responseXML;this.status=xhr.status;this.statusText=xhr.statusText;var _777=new com.ibm.portal.services.PortletFragmentService();var _778=_777.createPortletInfo(xhr.responseXML);this.responseText=_778.markup;this.responseXML=null;var _779=true;var _77a=_778.updatedState;if(this.onportletstateready!=null){var _77b=_778.windowId;var _77c=new ibm.portal.portlet.PortletState(this.isEnablerAvailable,_77a,_77b,null,this.navigationStateModel);_779=this.onportletstateready(_77c);}if(_779&&this._isCSA()){_777._fireGlobalPortletStateChange(_778);}this._handleDependentPortlets(_777.readDependentPortlets(xhr.responseXML),_77a);this.handled=true;}}if(this.onreadystatechange!=null){this.onreadystatechange();}}ibm.portal.debug.exit(_775);},_handleDependentPortlets:function(_77d,_77e){var _77f=this.declaredClass+"._handleDependentPortlets";ibm.portal.debug.entry(_77f,[_77d,_77e]);if(!this._isCSA()){if(_77d.length>0){window.location.href=this._newPageURL(_77e);}}ibm.portal.debug.exit(_77f);},_isCSA:function(){var _780=this.declaredClass+"._isCSA";ibm.portal.debug.entry(_780);var _781=false;try{_781=(typeof (document.isCSA)!="undefined");}catch(e){}ibm.portal.debug.exit(_780,_781);return _781;},_flag:function(_782){var _783=this.declaredClass+"._flag";ibm.portal.debug.entry(_783,[_782]);var id="lm:oid:"+this.windowID+"@oid:"+this.pageID;var _784=new com.ibm.portal.services.PortletFragmentService();var url=_784._flagPortletUrl(_782,id);ibm.portal.debug.exit(_783,url);return url;},_newPageURL:function(_785){var _786=this.declaredClass+"._newPageURL";ibm.portal.debug.entry(_786,[_785]);ibm.portal.debug.text(dojox.data.dom.innerXML(_785));var _787=new com.ibm.portal.state.StateManager(ibmPortalConfig["contentHandlerURI"]);var _788=_785;if(!_785){_788=com.ibm.portal.xslt.loadXmlString();}_787.reset(_788);var _789=_787.getSerializationManager();var _78a=_789.serialize(_788);var _78b=_78a["returnObject"];var url=_78b;ibm.portal.debug.exit(_786,url);return url;},open:function(_78c,uri){var _78d=this.declaredClass+".open";ibm.portal.debug.entry(_78d,[_78c,uri]);this.open(_78c,uri,false);ibm.portal.debug.exit(_78d);},open:function(_78e,uri,_78f){var _790=this.declaredClass+".open";ibm.portal.debug.entry(_790,[_78e,uri,_78f]);var xhr=this._getXHR();var me=this;this._location=uri;if(_78f==undefined){_78f=false;}this._async=_78f;xhr.onreadystatechange=function(){me._onreadystatechangehandler();};xhr.open(_78e,this._flag(uri),_78f);xhr.setRequestHeader("X-IBM-XHR","true");ibm.portal.debug.exit(_790);},setRequestHeader:function(_791,_792){var _793=this.declaredClass+".setRequestHeader";ibm.portal.debug.entry(_793,[_791,_792]);this._getXHR().setRequestHeader(_791,_792);ibm.portal.debug.exit(_793);},send:function(data){var _794=this.declaredClass+".send";ibm.portal.debug.entry(_794,[data]);this._getXHR().send(data);if(!this._async){this._onreadystatechangehandler();}ibm.portal.debug.exit(_794);},abort:function(){var _795=this.declaredClass+".abort";ibm.portal.debug.entry(_795);this._getXHR().abort();ibm.portal.debug.exit(_795);},getAllResponseHeaders:function(){return this._getXHR().getAllResponseHeaders();},getResponseHeader:function(_796){return this._getXHR().getResponseHeader(_796);}});dojo.declare("ibm.portal.portlet.UserProfile",null,{constructor:function(_797,_798,data,_799){this.windowID=_798;this.xmlData=data;this.ns={"xsl":"http://www.w3.org/1999/XSL/Transform","atom":"http://www.w3.org/2005/Atom","xhtml":"http://www.w3.org/1999/xhtml","xsi":"http://www.w3.org/2001/XMLSchema-instance","um":"http://www.ibm.com/xmlns/prod/websphere/um.xsd"};this.isEnablerAvailable=_797;if(this.isEnablerAvailable){var _79a="ibm.portal.portlet.UserProfile";this.logger=new ibm.portal.portlet.Logger(_79a);var _79b="constructor()";this.logger.logEntry(_79b);this.logger.log(_79b,"windowid: ${0}",_798);this.logger.log(_79b,"data: ${0}",data);this.logger.log(_79b,"userModel: ${0}",_799);this.userModel=_799;this.logger.logExit(_79b);}else{this.userModel=null;}},getAttribute:function(name){if(this.isEnablerAvailable){var _79c="getAttribute()";this.logger.logEntry(_79c);this.logger.log(_79c,"name: ${0}",name);var user=this.userModel.findCurrentUser().start();var _79d=user.getAttribute(name);this.logger.logExit(_79c,_79d);return _79d;}else{var expr="/atom:entry/atom:content/um:profile[@type='user']/um:attribute[@name='"+name+"']/um:attributeValue";var _79e=ibm.portal.xml.xpath.evaluateXPath(expr,this.xmlData,this.ns);var _79d=null;if(_79e&&_79e.length>0){if(_79e[0].textContent){_79d=_79e[0].textContent;}else{_79d=_79e[0].text;}}return _79d;}},setAttribute:function(name,_79f){if(this.isEnablerAvailable){var _7a0="setAttribute()";this.logger.logEntry(_7a0);this.logger.log(_7a0,"name: ${0}",name);this.logger.log(_7a0,"value: ${0}",_79f);var user=this.userModel.findCurrentUser().start();var _7a1=user.setAttribute(name,_79f);this.logger.logExit(_7a0,_7a1);return _7a1;}else{var expr="/atom:entry/atom:content/um:profile[@type='user']/um:attribute[@name='"+name+"']/um:attributeValue";var _7a2=ibm.portal.xml.xpath.evaluateXPath(expr,this.xmlData,this.ns);var _7a1=null;if(_7a2&&_7a2.length>0){if(_7a2[0].textContent){_7a1=_7a2[0].textContent;_7a2[0].textContent=_79f;}else{_7a1=_7a2[0].text;_7a2[0].text=_79f;}}else{var _7a3="/atom:entry/atom:content/um:profile[@type='user']/um:attribute[@name='"+name+"']";var _7a4=ibm.portal.xml.xpath.evaluateXPath(_7a3,this.xmlData,this.ns);var _7a5=null;if(_7a4&&_7a4.length>0){_7a5=_7a4[0];}else{var _7a6="/atom:entry/atom:content/um:profile[@type='user']";var _7a7=ibm.portal.xml.xpath.evaluateXPath(_7a6,this.xmlData,this.ns);if(dojo.isIE||window.ActiveXObject!==undefined){_7a5=this.xmlData.createNode(1,"um:attribute",this.ns.um);}else{_7a5=this.xmlData.createElementNS(this.ns.um,"um:attribute");}_7a5.setAttribute("type","xs:string");_7a5.setAttribute("multiValued","false");_7a5.setAttribute("name",name);_7a7[0].appendChild(_7a5);}var _7a8;if(dojo.isIE||window.ActiveXObject!==undefined){_7a8=this.xmlData.createNode(1,"um:attributeValue",this.ns.um);_7a8.text=_79f;}else{_7a8=this.xmlData.createElementNS(this.ns.um,"um:attributeValue");_7a8.textContent=_79f;}_7a5.appendChild(_7a8);}return _7a1;}},clone:function(){var _7a9=dojox.data.dom.innerXML(this.xmlData);var _7aa=com.ibm.portal.xslt.loadXmlString(_7a9);return new ibm.portal.portlet.UserProfile(this.isEnablerAvailable,this.windowID,_7aa,this.userModel);}});dojo.declare("ibm.portal.portlet.Error",null,{INFO:0,WARN:1,ERROR:2,constructor:function(_7ab,_7ac,_7ad){this.errorCode=_7ab;this.message=_7ac;this.description=_7ad;},getErrorCode:function(){return this.errorCode;},getMessage:function(){return this.message;},getDescription:function(){return this.description;}});dojo.declare("ibm.portal.portlet.Logger",null,{constructor:function(_7ae){this.className=_7ae;this.LOGGER=com.ibm.mashups.enabler.logging.Logger.getLogger(_7ae);this.LOG_LEVEL=com.ibm.mashups.enabler.logging.LogLevel.TRACE;},logEntry:function(name,args){var _7af=this.LOGGER.isLoggable(this.LOG_LEVEL);if(_7af){this.LOGGER.entering(name,args);}},log:function(name,msg,args){var _7b0=this.LOGGER.isLoggable(this.LOG_LEVEL);if(_7b0){this.LOGGER.log(this.LOG_LEVEL,name,msg,args);}},logLevel:function(_7b1,name,msg,args){var _7b2=this.LOGGER.isLoggable(_7b1);if(_7b2){this.LOGGER.log(_7b1,name,msg,args);}},logExit:function(name,_7b3){var _7b4=this.LOGGER.isLoggable(this.LOG_LEVEL);if(_7b4){this.LOGGER.exiting(name,_7b3);}}});var _7b5=new ibm.portal.portlet.PortletWindow();ibm.portal.portlet.PortletWindow.STATUS_UNDEFINED=_7b5.STATUS_UNDEFINED;ibm.portal.portlet.PortletWindow.STATUS_OK=_7b5.STATUS_OK;ibm.portal.portlet.PortletWindow.STATUS_ERROR=_7b5.STATUS_ERROR;_7b5=null;var _7b6=new ibm.portal.portlet.PortletMode();ibm.portal.portlet.PortletMode.VIEW=_7b6.VIEW;ibm.portal.portlet.PortletMode.EDIT=_7b6.EDIT;ibm.portal.portlet.PortletMode.EDIT_DEFAULTS=_7b6.EDIT_DEFAULTS;ibm.portal.portlet.PortletMode.HELP=_7b6.HELP;ibm.portal.portlet.PortletMode.CONFIG=_7b6.CONFIG;_7b6=null;var _7b7=new ibm.portal.portlet.WindowState();ibm.portal.portlet.WindowState.NORMAL=_7b7.NORMAL;ibm.portal.portlet.WindowState.MINIMIZED=_7b7.MINIMIZED;ibm.portal.portlet.WindowState.MAXIMIZED=_7b7.MAXIMIZED;_7b7=null;var _7b8=new ibm.portal.portlet.Error();ibm.portal.portlet.Error.INFO=_7b8.INFO;ibm.portal.portlet.Error.WARN=_7b8.WARN;ibm.portal.portlet.Error.ERROR=_7b8.ERROR;_7b8=null;}dojo.i18n._preloadLocalizations("dojo.nls.dojo",["ROOT","ar","ca","cs","da","de","el","en","es","fi","fr","he","hr","hu","it","ja","kk","ko","nl","no","pl","pt","pt-br","ro","ru","sk","sl","sv","th","tr","uk","xx","zh","zh-tw"]);if(dojo.config.afterOnLoad&&dojo.isBrowser){window.setTimeout(dojo._loadInit,1000);}})();
